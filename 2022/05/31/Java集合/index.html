<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Java集合 | 枯木逢春夏秋冬</title><meta name="keywords" content="Java集合"><meta name="author" content="枯木逢春"><meta name="copyright" content="枯木逢春"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Java集合   集合的理解和好处数组（1）长度开始时必须指定，而且一旦指定，不能更改。 （2）保存的必须为同一类型的元素。 （3）使用数组进行增加&#x2F;删除元素的示意代码-比较麻烦 &#x3D;&#x3D;写出 Person 数组扩容示意代码&#x3D;&#x3D; 12Person[] pers &#x3D; new Person[1];pers[0] &#x3D; new Person();  &amp;#x3D">
<meta property="og:type" content="article">
<meta property="og:title" content="Java集合">
<meta property="og:url" content="https://huang-666.github.io/2022/05/31/Java%E9%9B%86%E5%90%88/index.html">
<meta property="og:site_name" content="枯木逢春夏秋冬">
<meta property="og:description" content="Java集合   集合的理解和好处数组（1）长度开始时必须指定，而且一旦指定，不能更改。 （2）保存的必须为同一类型的元素。 （3）使用数组进行增加&#x2F;删除元素的示意代码-比较麻烦 &#x3D;&#x3D;写出 Person 数组扩容示意代码&#x3D;&#x3D; 12Person[] pers &#x3D; new Person[1];pers[0] &#x3D; new Person();  &amp;#x3D">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg">
<meta property="article:published_time" content="2022-05-31T11:45:59.000Z">
<meta property="article:modified_time" content="2022-05-31T11:54:12.952Z">
<meta property="article:author" content="枯木逢春">
<meta property="article:tag" content="Java集合">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg"><link rel="shortcut icon" href="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/favicon.png"><link rel="canonical" href="https://huang-666.github.io/2022/05/31/Java%E9%9B%86%E5%90%88/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java集合',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-31 19:54:12'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/static-butterfly/dist/css/index.min.css"><link rel="stylesheet" href="/css/custom.css"  media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/头像.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于博主</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">枯木逢春夏秋冬</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于博主</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Java集合</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-31T11:45:59.000Z" title="发表于 2022-05-31 19:45:59">2022-05-31</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-31T11:54:12.952Z" title="更新于 2022-05-31 19:54:12">2022-05-31</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>30分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java集合"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1><center>Java集合</center></h1>

<hr>
<h2 id="集合的理解和好处"><a href="#集合的理解和好处" class="headerlink" title="集合的理解和好处"></a>集合的理解和好处</h2><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>（1）长度开始时必须指定，而且一旦指定，不能更改。</p>
<p>（2）保存的必须为同一类型的元素。</p>
<p>（3）使用数组进行增加&#x2F;删除元素的示意代码-比较麻烦</p>
<p>&#x3D;&#x3D;写出 Person 数组扩容示意代码&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person[] pers = <span class="keyword">new</span> <span class="title class_">Person</span>[<span class="number">1</span>];</span><br><span class="line">pers[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;增加新的 Person 对象&#x3D;&#x3D;？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 新创建数组</span></span><br><span class="line">Person[] pers2 = <span class="keyword">new</span> <span class="title class_">Person</span>[pers.length + <span class="number">1</span>];</span><br><span class="line">拷贝 pers 数组的元素到 烹饪s</span><br><span class="line">    <span class="title function_">for</span> <span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// 添加新的对象</span></span><br><span class="line">pers2[pers2.length - <span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br></pre></td></tr></table></figure>



<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>（1）可以&#x3D;&#x3D;动态保存&#x3D;&#x3D;任意多个对象，使用比较方便。</p>
<p>（2）提供了一系列方便的操作对象的方法：add、remove、set、get 等。</p>
<h2 id="集合体系图"><a href="#集合体系图" class="headerlink" title="集合体系图"></a>集合体系图</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/01.png" alt="01"></p>
<h2 id="Collection-接口和常用方法"><a href="#Collection-接口和常用方法" class="headerlink" title="Collection 接口和常用方法"></a>Collection 接口和常用方法</h2><blockquote>
<p>集合层次结构中的根接口。集合表示一组被称为其元素的对象。 一些集合允许重复元素，而其他集合不允许。 有些被命令和其他无序。JDK不提供此接口的任何直接实现：它提供了更具体的子接口的实现，如 Set 和 List。该接口通常用于传递集合，并在需要最大的通用性的情况下对其进行操作。 </p>
</blockquote>
<h3 id="Collection-实现类的特点"><a href="#Collection-实现类的特点" class="headerlink" title="Collection 实现类的特点"></a>Collection 实现类的特点</h3><p>（1）Collection 实现子类可以存放多个元素，每个元素可以是 Object。</p>
<p>（2）有些 Collection 的实现类，有些是有序的（List），有些不是有序的（Set）。</p>
<p>（3）Collection 接口没有直接的实现子类，是通过它的子接口 Set 和 List 来实现的。</p>
<h3 id="Collection-接口的常用方法"><a href="#Collection-接口的常用方法" class="headerlink" title="Collection 接口的常用方法"></a>Collection 接口的常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> </span><br><span class="line">添加单个元素</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span><br><span class="line">将指定集合中的所有元素添加到此集合（可选操作）。  </span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object o)</span> </span><br><span class="line">删除指定元素</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">removeAll</span><span class="params">(Collection&lt;?&gt; c)</span> </span><br><span class="line">删除指定集合中包含的所有此集合的元素（可选操作）。  </span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(Object o)</span> </span><br><span class="line">查找元素是否存在</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">containsAll</span><span class="params">(Collection&lt;?&gt; c)</span> </span><br><span class="line">如果此集合包含指定 集合中的所有元素，则返回<span class="literal">true</span>。  </span><br><span class="line">    </span><br><span class="line"><span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> </span><br><span class="line">获取元素个数</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> </span><br><span class="line">如果此集合不包含元素，则返回 <span class="literal">true</span> 。  </span><br><span class="line">    </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> </span><br><span class="line">从此集合中删除所有元素（可选操作）。  </span><br></pre></td></tr></table></figure>



<h2 id="Collection-接口遍历元素方式"><a href="#Collection-接口遍历元素方式" class="headerlink" title="Collection 接口遍历元素方式"></a>Collection 接口遍历元素方式</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>（1）Iterator 对象称为迭代器，主要用于遍历 Collection 集合中的元素。</p>
<p>（2）所有实现了 Collection 接口的集合类都有一个 iterator() 方法，用以返回一个实现了 Iterator 接口的对象，即可以返回一个迭代器。</p>
<p>（3）Iterator 仅用来遍历集合，Iterator 本身并不存放对象。</p>
<h3 id="迭代器的执行原理"><a href="#迭代器的执行原理" class="headerlink" title="迭代器的执行原理"></a>迭代器的执行原理</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 得到一个集合的迭代器</span></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> coll.iterator();</span><br><span class="line"><span class="comment">// hasNext()：判断是否还有下一个元素</span></span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext()) &#123;</span><br><span class="line">    <span class="comment">// next()作用：1.下移 2.将下移以后集合位置上的元素返回</span></span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Iterator-接口的方法"><a href="#Iterator-接口的方法" class="headerlink" title="Iterator 接口的方法"></a>Iterator 接口的方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">如果迭代有更多元素，则返回 <span class="literal">true</span>。 （换句话说，如果 next 将返回一个元素而不是抛出异常，则返回 <span class="literal">true</span>。）</span><br><span class="line">返回值：</span><br><span class="line">如果迭代有更多元素，则为 <span class="literal">true</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">返回迭代中的下一个元素。</span><br><span class="line">返回值：</span><br><span class="line">迭代中的下一个元素</span><br><span class="line">抛出：</span><br><span class="line">NoSuchElementException – 如果迭代没有更多元素</span><br><span class="line">E <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">从基础集合中移除此迭代器返回的最后一个元素（可选操作）。每次调用 next 时，此方法只能调用一次。如果在迭代过程中以除调用此方法之外的任何方式修改了基础集合，则迭代器的行为是未指定的。</span><br><span class="line">抛出：</span><br><span class="line">UnsupportedOperationException – 如果此迭代器不支持删除操作</span><br><span class="line">IllegalStateException – 如果下一个方法还没有被调用，或者在最后一次调用下一个方法之后已经调用了 remove 方法</span><br><span class="line">实现要求：</span><br><span class="line">默认实现抛出 UnsupportedOperationException 的实例并且不执行任何其他操作。</span><br><span class="line"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span></span><br></pre></td></tr></table></figure>



<h3 id="迭代器遍历集合"><a href="#迭代器遍历集合" class="headerlink" title="迭代器遍历集合"></a>迭代器遍历集合</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 迭代器遍历集合</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">books</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Book&gt;();</span><br><span class="line">        <span class="comment">// 2、向集合里面添加元素</span></span><br><span class="line">        books.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;三国演义&quot;</span>, <span class="string">&quot;罗贯中&quot;</span>, <span class="number">10.1</span>));</span><br><span class="line">        books.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;小李飞刀&quot;</span>, <span class="string">&quot;古龙&quot;</span>, <span class="number">5.1</span>));</span><br><span class="line">        books.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;红楼梦&quot;</span>, <span class="string">&quot;曹雪芹&quot;</span>, <span class="number">34.6</span>));</span><br><span class="line">        <span class="comment">// 3、得到该集合对应的迭代器对象</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> books.iterator();</span><br><span class="line">        <span class="comment">// 4、使用 while 循环遍历集合，hasNext 方法的作用是判断是否还有下一个元素，如果还有则返回 true。</span></span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="comment">// 返回下一个元素，类型是 Object</span></span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;Book:&quot;</span> + next);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">    <span class="keyword">private</span> Double price;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="增强-for-循环遍历集合"><a href="#增强-for-循环遍历集合" class="headerlink" title="增强 for 循环遍历集合"></a>增强 for 循环遍历集合</h3><p>&#x3D;&#x3D;增强 for 循环，可以代替 iterator 迭代器，特点：增强 for 就是简化版的 iterator。本质一样。只能用来遍历集合或数组。&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法格式为：</span><br><span class="line">    <span class="keyword">for</span>(元素类型 元素名 : 集合名或数组名) &#123;</span><br><span class="line">        访问元素</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package com.huang;</span><br><span class="line"></span><br><span class="line">import lombok.AllArgsConstructor;</span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Collection;</span><br><span class="line">import java.util.Iterator;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 增强 for 循环遍历集合</span><br><span class="line"> */</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // 1、创建集合</span><br><span class="line">        Collection books = new ArrayList&lt;Book&gt;();</span><br><span class="line">        // 2、向集合里面添加元素</span><br><span class="line">        books.add(new Book(&quot;三国演义&quot;, &quot;罗贯中&quot;, 10.1));</span><br><span class="line">        books.add(new Book(&quot;小李飞刀&quot;, &quot;古龙&quot;, 5.1));</span><br><span class="line">        books.add(new Book(&quot;红楼梦&quot;, &quot;曹雪芹&quot;, 34.6));</span><br><span class="line">        // 3、使用增强 for 循环遍历集合</span><br><span class="line">        for (Object book : books) &#123;</span><br><span class="line">            System.out.println(book);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">@AllArgsConstructor</span><br><span class="line">@NoArgsConstructor</span><br><span class="line">class Book &#123;</span><br><span class="line">    private String name;</span><br><span class="line">    private String author;</span><br><span class="line">    private Double price;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h3><p>&#x3D;&#x3D;需求：&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;1、创建 3 个 Dog{name,age} 对象，放入到 ArrayList 中，赋给 List 引用&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;2、用迭代器和增强 for 循环两种方式来遍历集合&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;3、重写 Dog 的 toString 方法，输出 name 和 age&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.print.Book;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 练习题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">dogs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Dog&gt;();</span><br><span class="line">        <span class="comment">// 2、向集合里面添加元素</span></span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;小黄&quot;</span>, <span class="number">20</span>));</span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;小黑&quot;</span>, <span class="number">19</span>));</span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;小白&quot;</span>, <span class="number">18</span>));</span><br><span class="line">        <span class="comment">// 3、使用狄俄代其遍历集合</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> dogs.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">dog</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(dog);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、使用增强 for 循环遍历集合</span></span><br><span class="line">        <span class="keyword">for</span> (Object dog : dogs) &#123;</span><br><span class="line">            System.out.println(dog);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="List-接口和常用方法"><a href="#List-接口和常用方法" class="headerlink" title="List 接口和常用方法"></a>List 接口和常用方法</h2><h3 id="List-接口基本介绍"><a href="#List-接口基本介绍" class="headerlink" title="List 接口基本介绍"></a>List 接口基本介绍</h3><p>（1）List 集合类中元素有序（即添加顺序和取出顺序一致）、且可重复。</p>
<p>（2）List 集合中的每个元素都有其对应的顺序索引，即支持索引。</p>
<p>（3）List 容器中的元素都对应一个整数型的序号记载其在容器中的位置，可以根据序号存取容器中的元素。</p>
<p>（4）JDK API 中 List 接口的实现类有：</p>
<p>AbstractList ， AbstractSequentialList ， &#x3D;&#x3D;ArrayList&#x3D;&#x3D; ， AttributeList ， CopyOnWriteArrayList ， &#x3D;&#x3D;LinkedList&#x3D;&#x3D; ， RoleList ， RoleUnresolvedList ， &#x3D;&#x3D;Stack&#x3D;&#x3D; ， &#x3D;&#x3D;Vector&#x3D;&#x3D; </p>
<h3 id="List-接口的常用方法"><a href="#List-接口的常用方法" class="headerlink" title="List 接口的常用方法"></a>List 接口的常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> </span><br><span class="line">将指定的元素追加到此列表的末尾（可选操作）。  </span><br><span class="line">    </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> index, E element)</span> </span><br><span class="line">将 index 位置插入 element 元素。</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span><br><span class="line">从 index 位置开始将 c集合中的所有元素添加进来。</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(<span class="type">int</span> index, Collection&lt;? extends E&gt; c)</span> </span><br><span class="line">将指定集合中的所有元素插入到此列表中的指定位置（可选操作）。 </span><br><span class="line">    </span><br><span class="line">E <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> </span><br><span class="line">获取指定 index 位置的元素。  </span><br><span class="line">    </span><br><span class="line"><span class="type">int</span> <span class="title function_">indexOf</span><span class="params">(Object o)</span> </span><br><span class="line">返回此列表中指定元素的第一次出现的索引，如果此列表不包含元素，则返回-<span class="number">1</span>。 </span><br><span class="line">    </span><br><span class="line"><span class="type">int</span> <span class="title function_">lastIndexOf</span><span class="params">(Object o)</span> </span><br><span class="line">返回此列表中指定元素的最后一次出现的索引，如果此列表不包含元素，则返回-<span class="number">1</span>。  </span><br><span class="line">    </span><br><span class="line">E <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span> </span><br><span class="line">删除该列表中指定位置的元素（可选操作）。 </span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object o)</span> </span><br><span class="line">从列表中删除指定元素的第一个出现（如果存在）（可选操作）。  </span><br><span class="line">    </span><br><span class="line">E <span class="title function_">set</span><span class="params">(<span class="type">int</span> index, E element)</span> </span><br><span class="line">用指定的元素（可选操作）替换此列表中指定位置的元素。  </span><br><span class="line">    </span><br><span class="line">List&lt;E&gt; <span class="title function_">subList</span><span class="params">(<span class="type">int</span> fromIndex, <span class="type">int</span> toIndex)</span> </span><br><span class="line">返回此集合中指定的 fromIndex （含）和 toIndex之间的子集合。 </span><br></pre></td></tr></table></figure>



<h3 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h3><p>&#x3D;&#x3D;需求：&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;添加 10 个以上的元素（比如： String “hello”），在 2 号位插入一个元素，获得第 5 个元素，删除第 6 个元素，修改第 7 个元素，在使用迭代器遍历集合。&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;要求：使用 List 的实现类 ArrayList 完成。&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 练习题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合，并且添加 10 个 以上的元素</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">11</span>; i++) &#123;</span><br><span class="line">            lists.add(<span class="string">&quot;机器人&quot;</span> + i + <span class="string">&quot;号&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、在 2 号位插入一个元素，获得第 5 个元素，删除第 6 个元素，修改第 7 个元素</span></span><br><span class="line">        lists.add(<span class="number">2</span>, <span class="string">&quot;机器人12号&quot;</span>);</span><br><span class="line">        lists.get(<span class="number">5</span>);</span><br><span class="line">        lists.remove(<span class="number">6</span>);</span><br><span class="line">        lists.set(<span class="number">7</span>, <span class="string">&quot;机器人13号&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、使用迭代器遍历集合</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> lists.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.print(next+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="List-的三种遍历方式"><a href="#List-的三种遍历方式" class="headerlink" title="List 的三种遍历方式"></a>List 的三种遍历方式</h3><p>&#x3D;&#x3D;(1)使用迭代器遍历&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;(2)使用增强 for 循环遍历&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;(3)使用 for 循环遍历&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * List 的三种遍历方式</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合，并且添加元素</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        lists.add(<span class="string">&quot;鱼香肉丝&quot;</span>);</span><br><span class="line">        lists.add(<span class="string">&quot;西红柿炒鸡蛋&quot;</span>);</span><br><span class="line">        lists.add(<span class="string">&quot;北京烤鸭&quot;</span>);</span><br><span class="line">        lists.add(<span class="string">&quot;水煮鸡蛋&quot;</span>);</span><br><span class="line">        <span class="comment">// 2、使用迭代器遍历集合</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> lists.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(next + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、使用增强 for 循环遍历</span></span><br><span class="line">        <span class="keyword">for</span> (Object data : lists) &#123;</span><br><span class="line">            System.out.println(data);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、使用 for 循环遍历</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; lists.size(); i++) &#123;</span><br><span class="line">            System.out.println(lists.get(i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="排序练习"><a href="#排序练习" class="headerlink" title="排序练习"></a>排序练习</h3><p>&#x3D;&#x3D;需求：&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;使用 List 的实现类添加三本图书，并遍历，打印如下效果&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;名称：xx	价格：xx	作者：xx&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;名称：xx	价格：xx	作者：xx&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;名称：xx	价格：xx	作者：xx&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;要求：&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;（1）按价格排序，从低到高（使用冒泡排序法）&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;（2）要求使用 ArrayList、LinkedList 和 Vector 三种集合实现&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 排序练习</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合并且添加相关数据</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;红楼梦&quot;</span>, <span class="string">&quot;曹雪芹&quot;</span>, <span class="number">100</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;西游记&quot;</span>, <span class="string">&quot;吴承恩&quot;</span>, <span class="number">10</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;水浒传&quot;</span>, <span class="string">&quot;施耐庵&quot;</span>, <span class="number">9</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;三国演义&quot;</span>, <span class="string">&quot;罗贯中&quot;</span>, <span class="number">80</span>));</span><br><span class="line">        <span class="comment">// 2、调用排序方法</span></span><br><span class="line">        Test.sort(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、增强 for 循环遍历集合</span></span><br><span class="line">        <span class="keyword">for</span> (Object data : list) &#123;</span><br><span class="line">            System.out.println(data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 按照价格从小到大排序</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> list</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(List list)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> list.size();</span><br><span class="line">        <span class="comment">// 思路:取出集合中的前一个元素与后一个元素比较价格，如果前一个元素的价格大于后一个元素的价格则相互交换</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; size - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">                <span class="comment">// 取出 Book 对象</span></span><br><span class="line">                <span class="type">Book</span> <span class="variable">book1</span> <span class="operator">=</span> (Book) list.get(j);</span><br><span class="line">                <span class="type">Book</span> <span class="variable">book2</span> <span class="operator">=</span> (Book) list.get(j + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (book1.getPrice() &gt; book2.getPrice()) &#123;</span><br><span class="line">                    list.set(j, book2);</span><br><span class="line">                    list.set(j + <span class="number">1</span>, book1);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">    <span class="keyword">private</span> Integer price;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;名称:&quot;</span> + name + <span class="string">&quot;\t价格:&quot;</span> + price + <span class="string">&quot;\t作者:&quot;</span> + author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String name, String author, Integer price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAuthor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAuthor</span><span class="params">(String author)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(Integer price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ArrayList-注意事项"><a href="#ArrayList-注意事项" class="headerlink" title="ArrayList 注意事项"></a>ArrayList 注意事项</h3><p>（1）ArrayList 可以加入 null，并且多个。</p>
<p>（2）ArrayList 是由数组来实现数据存储的。</p>
<p>（3）ArrayList 基本等同于 Vector，除了 ArrayList 是线程不安全的（执行效率高），在多线程的情况下，不建议使用 ArrayList。</p>
<h3 id="ArrayList-扩容机制"><a href="#ArrayList-扩容机制" class="headerlink" title="ArrayList 扩容机制"></a>ArrayList 扩容机制</h3><p>（1）ArrayList 中维护了一个 Object 类型的数组elementData. transient Object[] elementData;（Object类型的数组说明什么类型都可以放）。</p>
<p>（2）对象在序列化的时候，transient 修饰的属性不会被序列化。</p>
<p>&#x3D;&#x3D;transient&#x3D;&#x3D;:表示瞬间，短暂的。</p>
<p>（3）当创建对象时，如果使用的是无参构造器(ArrayList&lt;&gt;()),则初始elementData容量为0 (jdk7是10)。</p>
<p>（4）当添加元素时:先判断是否需要扩容,如果需要扩容，则调用grow方法，否则直接添加元素到合适位置.</p>
<p>（5）当创建 ArrayList 对象时，如果使用的是无参构造器（ArrayList&lt;&gt;()），则初始 elementData 容量为0，第1次添加，则扩容 elementData 为10，如需要再次扩容，则扩容elementData为1.5倍。</p>
<p>（6）如果使用的是指定容量capacity（ArrayList&lt;&gt;（int  x））的构造器，则初始 elementData 容量为 capacity</p>
<p>（7）如果使用的是指定容量 capacity 的构造器,如果需要扩容，则直接扩容 elementData 为1.5倍。</p>
<blockquote>
<p>&#x3D;&#x3D;ArrayList是空间不够了才扩容的，假设现在插入第11个元素，但是只有10个空间，就触发grow扩容。&#x3D;&#x3D;</p>
</blockquote>
<h3 id="Vector-的基本介绍"><a href="#Vector-的基本介绍" class="headerlink" title="Vector 的基本介绍"></a>Vector 的基本介绍</h3><p>（1）Vector 类的定义说明</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Vector</span>&lt;E&gt;</span><br><span class="line"><span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt;</span><br><span class="line"><span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span><br></pre></td></tr></table></figure>



<p>（2）Vector 底层也是一个对象数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Object[] elementData;</span><br></pre></td></tr></table></figure>



<p>（3）Vector 是线程同步的，即线程安全，Vector 类的操作方法带有 &#x3D;&#x3D;synchronized&#x3D;&#x3D;</p>
<p>例如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= elementCount)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ArrayIndexOutOfBoundsException</span>(index);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> elementData(index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>（4）在开发中，需要线程同步安全时，考虑使用 Vector</p>
<h3 id="Vector-底层结构和-ArrayList-的比较"><a href="#Vector-底层结构和-ArrayList-的比较" class="headerlink" title="Vector 底层结构和 ArrayList 的比较"></a>Vector 底层结构和 ArrayList 的比较</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">底层结构</th>
<th align="center">版本</th>
<th align="center">线程安装（同步）效率</th>
<th align="center">扩容倍数</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ArrayList</td>
<td align="center">可变数组</td>
<td align="center">jdk1.2</td>
<td align="center">不安全，效率高</td>
<td align="center">如果有参构造 1.5倍<br/>如果是无参<br/>1.第一次 10<br/>2.从第二次开始按照 1.5 倍扩容</td>
</tr>
<tr>
<td align="center">Vector</td>
<td align="center">可变数组</td>
<td align="center">jdk1.0</td>
<td align="center">安全，效率不高</td>
<td align="center">如果是无参，默认 10，容量满了后，就按 2 倍扩容<br>如果指定大小，则每次直接按 2 倍扩容</td>
</tr>
</tbody></table>
<h3 id="LinkedList-的全面说明"><a href="#LinkedList-的全面说明" class="headerlink" title="LinkedList 的全面说明"></a>LinkedList 的全面说明</h3><p>（1）LinkedList 底层实现了双向链表和双端队列特点。</p>
<p>（2）可以添加任意元素（元素是可以重复），包括 null。</p>
<p>（3）线程不安全。没有实现同步。</p>
<h3 id="LinkedList-底层操作机制"><a href="#LinkedList-底层操作机制" class="headerlink" title="LinkedList 底层操作机制"></a>LinkedList 底层操作机制</h3><p>（1）LinkedList 底层维护了一个&#x3D;&#x3D;双向链表&#x3D;&#x3D;。</p>
<p>（2）LinkedList 中维护了两个属性 &#x3D;&#x3D;first&#x3D;&#x3D; 和 &#x3D;&#x3D;last&#x3D;&#x3D; ，分别指向&#x3D;&#x3D;首节点&#x3D;&#x3D;和&#x3D;&#x3D;尾节点&#x3D;&#x3D;。</p>
<p>（3）每个节点（node 对象），里面又维护了 &#x3D;&#x3D;prev&#x3D;&#x3D;、&#x3D;&#x3D;next&#x3D;&#x3D;、&#x3D;&#x3D;item&#x3D;&#x3D; 三个属性，其中通过 &#x3D;&#x3D;prev 指向前一个节点&#x3D;&#x3D;，&#x3D;&#x3D;通过 next 指向后一个节点&#x3D;&#x3D;。最终实现双向链表。</p>
<p>（4）&#x3D;&#x3D;所以 LinkedList 的元素的添加和删除，不是通过数组完成的，相对效率比较高&#x3D;&#x3D;。</p>
<p>（5）模拟一个简单的双向链表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建三个节点</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">jack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">tom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">huang</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;huang&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 连接三个节点，形成双向链表</span></span><br><span class="line">        <span class="comment">// jack -&gt; tom -&gt; huang</span></span><br><span class="line">        jack.next = tom;</span><br><span class="line">        tom.next = huang;</span><br><span class="line">        <span class="comment">// huang -&gt; tom -&gt; jdck</span></span><br><span class="line">        huang.pre = tom;</span><br><span class="line">        tom.pre = jack;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 让 first 引用指向 jack，就是双向链表的头节点</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">first</span> <span class="operator">=</span> jack;</span><br><span class="line">        <span class="comment">// 让 last 引用指向 huang，就是双向链表的尾节点</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">last</span> <span class="operator">=</span> huang;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 演示:从头到尾进行遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===从头到尾进行遍历===&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (first == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出 first 信息</span></span><br><span class="line">            System.out.println(first);</span><br><span class="line">            first = first.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 演示:从尾到头进行遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===从尾到头进行遍历===&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (last == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出 first 信息</span></span><br><span class="line">            System.out.println(last);</span><br><span class="line">            last = last.pre;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 演示链表的添加对象/数据，是多么的方便</span></span><br><span class="line">        <span class="comment">// 要求:在 tom -------- huang 之间，插入一个对象 smith</span></span><br><span class="line">        <span class="comment">// 创建一个 Node 节点，name 就是 smith</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">smith</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;smith&quot;</span>);</span><br><span class="line">        <span class="comment">// 把 smith 加入到双向链表（jack -&gt; tom -&gt; huang）</span></span><br><span class="line">        smith.next = huang;</span><br><span class="line">        smith.pre = tom;</span><br><span class="line">        huang.pre = smith;</span><br><span class="line">        tom.next = smith;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 让 first 再次指向 jack</span></span><br><span class="line">        first = jack;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 演示:从头到尾进行遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===从头到尾进行遍历===&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (first == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出 first 信息</span></span><br><span class="line">            System.out.println(first);</span><br><span class="line">            first = first.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 让 last 再次指向 huang</span></span><br><span class="line">        last = huang;</span><br><span class="line">        <span class="comment">// 演示:从尾到头进行遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===从尾到头进行遍历===&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (last == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出 first 信息</span></span><br><span class="line">            System.out.println(last);</span><br><span class="line">            last = last.pre;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个 Node 类，Node 对象，表示双向链表的一个结点</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="comment">// 真正存放数据的地方</span></span><br><span class="line">    <span class="keyword">public</span> Object item;</span><br><span class="line">    <span class="comment">// 指向后一个节点</span></span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line">    <span class="comment">// 指向前一个节点</span></span><br><span class="line">    <span class="keyword">public</span> Node pre;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(Object name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.item = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Node name=&quot;</span> + item;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ArrayList-和-LinkedList-的比较"><a href="#ArrayList-和-LinkedList-的比较" class="headerlink" title="ArrayList 和 LinkedList 的比较"></a>ArrayList 和 LinkedList 的比较</h3><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">底层结构</th>
<th align="center">增删的效率</th>
<th align="center">改查的效率</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ArrayList</td>
<td align="center">可变数组</td>
<td align="center">较低<br>数组扩容</td>
<td align="center">较高</td>
</tr>
<tr>
<td align="center">LinkedList</td>
<td align="center">双向链表</td>
<td align="center">较高，通过链表追加</td>
<td align="center">较低</td>
</tr>
</tbody></table>
<h2 id="Set-接口和常用方法"><a href="#Set-接口和常用方法" class="headerlink" title="Set 接口和常用方法"></a>Set 接口和常用方法</h2><h3 id="Set-接口基本介绍"><a href="#Set-接口基本介绍" class="headerlink" title="Set 接口基本介绍"></a>Set 接口基本介绍</h3><p>（1）无序（添加和取出的顺序不一样），没有索引。</p>
<p>（2）不允许有重复元素，所以最多包含一个 null</p>
<p>（3）JDK API 中 Set 接口的实现类有：</p>
<blockquote>
<p>所有已知实现类： </p>
<p>AbstractSet ， ConcurrentHashMap.KeySetView ， ConcurrentSkipListSet ， CopyOnWriteArraySet ， EnumSet ， &#x3D;&#x3D;HashSet&#x3D;&#x3D; ， JobStateReasons ， LinkedHashSet ， &#x3D;&#x3D;TreeSet&#x3D;&#x3D; </p>
</blockquote>
<h3 id="Set-接口的常用方法"><a href="#Set-接口的常用方法" class="headerlink" title="Set 接口的常用方法"></a>Set 接口的常用方法</h3><p>和 List 接口一样，Set 接口也是 Collection 的子接口，因此，常用方法和 Collection 接口一样。</p>
<h3 id="Set-接口的遍历方式"><a href="#Set-接口的遍历方式" class="headerlink" title="Set 接口的遍历方式"></a>Set 接口的遍历方式</h3><p>同 Collection 的遍历方式一样，因为 Set 接口是 Collection 接口的子接口。</p>
<ol>
<li>可以使用迭代器。</li>
<li>增强 for。</li>
<li>&#x3D;&#x3D;不能使用&#x3D;&#x3D;索引的方式来获取。</li>
</ol>
<h3 id="Set-接口实现类-HashSet"><a href="#Set-接口实现类-HashSet" class="headerlink" title="Set 接口实现类 HashSet"></a>Set 接口实现类 HashSet</h3><h4 id="HashSet-的全面说明"><a href="#HashSet-的全面说明" class="headerlink" title="HashSet 的全面说明"></a>HashSet 的全面说明</h4><p>（1）HashSet 实现了 set 接口</p>
<p>（2）HashSet 实际上是 HashMap（HashMap 底层是数组+链表+红黑树）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">HashSet</span><span class="params">()</span> &#123;</span><br><span class="line">    map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（3）可以存放 null 值，但是只能有一个 null 值。</p>
<p>（4）HashSet 不保证元素是有序的，取决于 hash 后，再确定索引的结果。</p>
<p>（5）不能有重复元素&#x2F;对象。</p>
<h4 id="HashSet-底层机制说明"><a href="#HashSet-底层机制说明" class="headerlink" title="HashSet 底层机制说明"></a>HashSet 底层机制说明</h4><p>分析 HashSet 底层是 HashMap，HashMap底层是（数组+链表+红黑树）。</p>
<h4 id="HashSet-的添加元素底层是如何实现的？"><a href="#HashSet-的添加元素底层是如何实现的？" class="headerlink" title="HashSet 的添加元素底层是如何实现的？"></a>HashSet 的添加元素底层是如何实现的？</h4><p>1.HashSet 底层是 HashMap。</p>
<p>2.添加一个元素时，先得到 hash 值，会转成 -&gt; 索引值</p>
<p>3.找到存储数据表 table，看这个索引位置是否已经存放有元素。</p>
<p>4.如果没有，直接加入。</p>
<p>5.如果有，调用 equals 比较，如果相同，就放弃添加，如果不相同，则添加到最后。</p>
<p>6.在 Java 8 中，如果一条链表的元素个数到达 TREEIFY_THRESHOLD（默认是 8），并且 table 的大小 &gt;&#x3D; MIN_TREEIFY_CAPACITY（默认是 64）就会进行树化（红黑树）。</p>
<h4 id="分析-HashSet-的扩容和转成红黑树机制"><a href="#分析-HashSet-的扩容和转成红黑树机制" class="headerlink" title="分析 HashSet 的扩容和转成红黑树机制"></a>分析 HashSet 的扩容和转成红黑树机制</h4><p>1.HashSet 底层是 HashMap，第一次添加时，table 数组扩容到 16，临界值（threshold）是 16*加载因子（loadFactor）是 0.75 &#x3D; 12.</p>
<p>2.如果 table 数组使用到了临界值 12，就会扩容到 16 * 2 &#x3D; 32，新的临界值就是 32 * 0.75 &#x3D; 24，以此类推。</p>
<p>3。在 Java 8 中，如果一条链表的元素个数到达 TREEIFY_THRESHOLD（默认是 8），并且 table 的大小 &gt;&#x3D; MIN_TREEIFY_CAPACITY（默认是 64）就会进行树化（红黑树），否则仍采用数组扩容机制。</p>
<h4 id="练习题-2"><a href="#练习题-2" class="headerlink" title="练习题"></a>练习题</h4><p>需求：</p>
<p>（1）创建 3 个 Employee 对象放入 HashSet 中</p>
<p>（2）当 name 和 age 的值相同时，认为是相同员工，不能添加到 HashSet 集合中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSetExercise</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 定义一个 Employee 类，该类包含：private 成员属性 name,age 要求:</span></span><br><span class="line"><span class="comment"> 创建 3 个 Employee 对象放入 HashSet 中</span></span><br><span class="line"><span class="comment"> 当 name 和 age 的值相同时，认为是相同员工, 不能添加到 HashSet 集合中</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;milan&quot;</span>, <span class="number">18</span>));<span class="comment">//ok</span></span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;smith&quot;</span>, <span class="number">28</span>));<span class="comment">//ok</span></span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;milan&quot;</span>, <span class="number">18</span>));<span class="comment">//加入不成功. //回答,加入了几个? 3 个</span></span><br><span class="line">        System.out.println(<span class="string">&quot;hashSet=&quot;</span> + hashSet);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 Employee</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Employee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">        <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果 name 和 age 值相同，则返回相同的 hash 值</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> (Employee) o;</span><br><span class="line">        <span class="type">return</span> <span class="variable">age</span> <span class="operator">=</span>= employee.age &amp;&amp;</span><br><span class="line">                Objects.equals(name, employee.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Set-接口实现类-LinkedHashSet"><a href="#Set-接口实现类-LinkedHashSet" class="headerlink" title="Set 接口实现类 LinkedHashSet"></a>Set 接口实现类 LinkedHashSet</h3><h4 id="LinkedHashSet-的全面说明"><a href="#LinkedHashSet-的全面说明" class="headerlink" title="LinkedHashSet 的全面说明"></a>LinkedHashSet 的全面说明</h4><p>（1）LinkedHashSet 是 HashSet 的子类。</p>
<p>（2）LinkedHashSet 底层是一个 LinkedHashMap，底层维护了一个数组+双向链表。</p>
<p>（3）LinkedHashSet 根据元素的 hashCode 值来决定元素的存储位置，同时使用链表维护元素的次序，这使得元素看起来是以插入顺序保存的。</p>
<p>（4）LinkedHashSet 不允许添加重复元素。</p>
<p>说明</p>
<p>（1）在 LinkedHashSet 中维护了一个 hash 表和双向链表（LinkedHastSet 有 head 和 tail）</p>
<p>（2）每一个节点有 before 和 after 属性，这样可以形成双向链表</p>
<p>（3）在添加一个元素时，先求 hash 值，在求索引，确定该元素在 table 的位置，然后将添加的元素加入到双向链表（如果已经存在，不添加，&#x3D;&#x3D;原则上和 hashset 一样&#x3D;&#x3D;）。</p>
<p>（4）这样的话，我们遍历 LinkedHastSet 也能确保插入顺序和遍历顺序一致。</p>
<h2 id="Map-接口和常用方法"><a href="#Map-接口和常用方法" class="headerlink" title="Map 接口和常用方法"></a>Map 接口和常用方法</h2><h3 id="Map-接口实现类的特点"><a href="#Map-接口实现类的特点" class="headerlink" title="Map 接口实现类的特点"></a>Map 接口实现类的特点</h3><p>（1）Map 与 Collection 并列存在，用于保存具有映射关系的数据：Key：Value。</p>
<p>（2）Map 中的 key 和 value 可以是任何引用类型的数据，会封装到 &#x3D;&#x3D;HashMap$Node&#x3D;&#x3D; 对象中。</p>
<p>（3）Map 中的 key 不允许重复，原因和 HashSet 一样。</p>
<p>（4）Map 中的 value 可以重复。</p>
<p>（5）Map 中的 key 可以为 null，value 也可以为 null，注意 key 为 null，只能有一个，value 为 null，可以多个。</p>
<p>（6）常用 String 类作为 Map 的 key。</p>
<p>（7）key 和 value 之间存在单向一对一关系，即通过指定的 key 总能找到对应的 value。</p>
<h3 id="Map-接口遍历方法"><a href="#Map-接口遍历方法" class="headerlink" title="Map 接口遍历方法"></a>Map 接口遍历方法</h3><p>（1）containsKey：查找键是否存在。</p>
<p>（2）keySet：获取所有的键。</p>
<p>（3）entrySet：获取所有关系 k-v。</p>
<p>（4）values：获取所有值。</p>
<h3 id="Map-体系继承图"><a href="#Map-体系继承图" class="headerlink" title="Map 体系继承图"></a>Map 体系继承图</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/02.png" alt="02"></p>
<h3 id="Map-接口的常用方法"><a href="#Map-接口的常用方法" class="headerlink" title="Map 接口的常用方法"></a>Map 接口的常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">V <span class="title function_">put</span><span class="params">(K key, V value)</span> </span><br><span class="line">添加</span><br><span class="line">    </span><br><span class="line"><span class="keyword">default</span> <span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object key, Object value)</span> </span><br><span class="line">根据键输出映射关系</span><br><span class="line">    </span><br><span class="line">V <span class="title function_">get</span><span class="params">(Object key)</span> </span><br><span class="line">根据键获取值</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> </span><br><span class="line">判断个数是否为 <span class="number">0</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> </span><br><span class="line">从该集合中删除所有的映射</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">containsKey</span><span class="params">(Object key)</span> </span><br><span class="line">查看指定的 key 是否存在</span><br></pre></td></tr></table></figure>



<h3 id="Map-六大遍历方式"><a href="#Map-六大遍历方式" class="headerlink" title="Map 六大遍历方式"></a>Map 六大遍历方式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">containsKey</span><span class="params">(Object key)</span> </span><br><span class="line">查看指定的 key 是否存在</span><br><span class="line">    </span><br><span class="line">Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()  </span><br><span class="line">获取所有关系 k-v</span><br><span class="line">  </span><br><span class="line">Set&lt;K&gt; <span class="title function_">keySet</span><span class="params">()</span> </span><br><span class="line">获取所有键  </span><br><span class="line">    </span><br><span class="line">Collection&lt;V&gt; <span class="title function_">values</span><span class="params">()</span> </span><br><span class="line">获取所有值</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapFor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        map.put(<span class="string">&quot;邓超&quot;</span>, <span class="string">&quot;孙俪&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;王宝强&quot;</span>, <span class="string">&quot;马蓉&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;宋喆&quot;</span>, <span class="string">&quot;马蓉&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;刘令博&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="string">&quot;刘亦菲&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;鹿晗&quot;</span>, <span class="string">&quot;关晓彤&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第一组: 先取出 所有的 Key , 通过 Key 取出对应的 Value</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">keySet</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">        <span class="comment">// （1）增强 for</span></span><br><span class="line">        System.out.println(<span class="string">&quot;---第一种方式---&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object key : keySet) &#123;</span><br><span class="line">            System.out.println(key + <span class="string">&quot;-&quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// （2）迭代器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;---第二种方式---&quot;</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> keySet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">key</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(key + <span class="string">&quot;-&quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//第二组: 把所有的 values 取出</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">values</span> <span class="operator">=</span> map.values();</span><br><span class="line">        <span class="comment">//这里可以使用所有的 Collections 使用的遍历方法</span></span><br><span class="line">        <span class="comment">// (1) 增强 for</span></span><br><span class="line">        System.out.println(<span class="string">&quot;---取出所有的 value 增强 for----&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object value : values) &#123;</span><br><span class="line">            System.out.println(value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// (2) 迭代器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;---取出所有的 value 迭代器----&quot;</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator2</span> <span class="operator">=</span> values.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator2.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> iterator2.next();</span><br><span class="line">            System.out.println(value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//第三组: 通过 EntrySet 来获取 k-v</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();<span class="comment">// EntrySet&lt;Map.Entry&lt;K,V&gt;&gt;</span></span><br><span class="line">        <span class="comment">// (1) 增强 for</span></span><br><span class="line">        System.out.println(<span class="string">&quot;----使用 EntrySet 的 for 增强(第 3 种)----&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object entry : entrySet) &#123;</span><br><span class="line">            <span class="comment">//将 entry 转成 Map.Entry</span></span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">m</span> <span class="operator">=</span> (Map.Entry) entry;</span><br><span class="line">            System.out.println(m.getKey() + <span class="string">&quot;-&quot;</span> + m.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// (2) 迭代器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;----使用 EntrySet 的 迭代器(第 4 种)----&quot;</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator3</span> <span class="operator">=</span> entrySet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator3.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">entry</span> <span class="operator">=</span> iterator3.next();</span><br><span class="line">            <span class="comment">//System.out.println(next.getClass());//HashMap$Node -实现-&gt; Map.Entry (getKey,getValue)</span></span><br><span class="line">            <span class="comment">//向下转型 Map.Entry</span></span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">m</span> <span class="operator">=</span> (Map.Entry) entry;</span><br><span class="line">            System.out.println(m.getKey() + <span class="string">&quot;-&quot;</span> + m.getValue());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Map-接口实现类-HashMap"><a href="#Map-接口实现类-HashMap" class="headerlink" title="Map 接口实现类 HashMap"></a>Map 接口实现类 HashMap</h3><h4 id="HashMap-小结"><a href="#HashMap-小结" class="headerlink" title="HashMap 小结"></a>HashMap 小结</h4><p>（1）Map 接口的常用实现类：&#x3D;&#x3D;HashMap&#x3D;&#x3D;、&#x3D;&#x3D;Hashtable&#x3D;&#x3D; 和 &#x3D;&#x3D;Properties&#x3D;&#x3D;。</p>
<p>（2）HashMap 是 Map 接口使用频率最高的实现类。</p>
<p>（3）HashMap 是 以 key-val 对的方式来存储数据（HashMap$Node 类型）</p>
<p>（4）key 不能重复，但是值可以重复，允许使用 null 键 和 null 值。</p>
<p>（5）如果添加相同的 key，则会&#x3D;&#x3D;覆盖&#x3D;&#x3D;原来的 key-val，等同于修改，（key 不会替换，val 会替换）。</p>
<p>（6）与 HashSet 一样，不保证映射的顺序，因为底层是以 hash 表的方式来存储的（jdk8的 HashMap 底层：&#x3D;&#x3D;数组+链表+红黑树&#x3D;&#x3D;）。</p>
<p>（7）HashMap 没有实现同步，因此是线程不安全的，方法没有做到同步互斥的操作，没有 &#x3D;&#x3D;synchronized&#x3D;&#x3D;。</p>
<h4 id="HashMap-底层机制及源码剖"><a href="#HashMap-底层机制及源码剖" class="headerlink" title="HashMap 底层机制及源码剖"></a>HashMap 底层机制及源码剖</h4><p>（1）（k,v）是一个 Node 实现了 Map.Entry&lt;K,V&gt;,查看 HashMap 的源码可以看到。</p>
<p>（2）jdk7.0的 hashmap 底层实现[数组+链表]，jdk8.0 底层[数组+链表+红黑树]</p>
<h4 id="HashMap-的扩容机制"><a href="#HashMap-的扩容机制" class="headerlink" title="HashMap 的扩容机制"></a>HashMap 的扩容机制</h4><p>&#x3D;&#x3D;名词：&#x3D;&#x3D;</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">capacity 		即容量，默认<span class="number">16</span>。</span><br><span class="line">loadFactor 		加载因子，默认是<span class="number">0.75</span></span><br><span class="line">threshold 		阈值。阈值=容量*加载因子。默认<span class="number">12</span>。当元素数量超过阈值时便会触发扩容。</span><br></pre></td></tr></table></figure>



<p><strong>什么时候触发扩容？</strong></p>
<p>一般情况下，当元素数量超过阈值时便会触发扩容。每次扩容的容量都是之前容量的2倍。</p>
<p>HashMap的容量是有上限的，必须小于1&lt;&lt;30，即 1073741824。如果容量超出了这个数，则不再增长，且阈值会被设置为Integer.MAX_VALUE（ 2 的 31 次方减一 ，即永远不会超出阈值了）。</p>
<p><strong>JDK7 中的扩容机制</strong></p>
<p>JDK7的扩容机制相对简单，有以下特性：</p>
<ul>
<li>空参数的构造函数：以默认容量、默认负载因子、默认阈值初始化数组。内部数组是空数组。</li>
<li>有参构造函数：根据参数确定容量、负载因子、阈值等。</li>
<li>第一次put时会初始化数组，其容量变为不小于指定容量的2的幂数。然后根据负载因子确定阈值。</li>
<li>如果不是第一次扩容，则 新容量 &#x3D; 旧容量 × 2，新阈值 &#x3D; 新容量 × 负载因子。</li>
</ul>
<p><strong>JDK8的扩容机制</strong></p>
<p>&#x3D;&#x3D;JDK8的扩容做了许多调整。&#x3D;&#x3D;</p>
<p>HashMap的容量变化通常存在以下几种情况：</p>
<ol>
<li>空参数的构造函数：实例化的HashMap默认内部数组是null，即没有实例化。第一次调用put方法时，则会开始第一次初始化扩容，长度为16。</li>
<li>有参构造函数：用于指定容量。会根据指定的正整数找到&#x3D;&#x3D;不小于指定容量的2的幂数&#x3D;&#x3D;，将这个数设置赋值给&#x3D;&#x3D;阈值&#x3D;&#x3D;（threshold）。第一次调用put方法时，会将阈值赋值给容量，然后让 [阈值 &#x3D; 容量 × 负载因子] 。（因此并不是我们手动指定了容量就一定不会触发扩容，超过阈值后一样会扩容！！）</li>
<li>如果不是第一次扩容，则容量变为原来的2倍，阈值也变为原来的2倍。（容量和阈值都变为原来的2倍时，负载因子还是不变）</li>
</ol>
<p>此外还有几个细节需要注意：</p>
<ul>
<li>首次put时，先会触发扩容（算是初始化），然后存入数据，然后判断是否需要扩容；</li>
<li>不是首次put，则不再初始化，直接存入数据，然后判断是否需要扩容；</li>
</ul>
<h3 id="Map-接口实现类-Hashtable"><a href="#Map-接口实现类-Hashtable" class="headerlink" title="Map 接口实现类 Hashtable"></a>Map 接口实现类 Hashtable</h3><h4 id="HashTable-的基本介绍"><a href="#HashTable-的基本介绍" class="headerlink" title="HashTable 的基本介绍"></a>HashTable 的基本介绍</h4><p>（1）存放的元素是键值对：即 K-V。</p>
<p>（2）HashTable 的键和值都不能为 null，否则会抛出 NullPointerException</p>
<p>（3）HashTable 使用方法基本上和 HashMap 一样。</p>
<p>（4）HashTable 是线程安全的（synchronized），HashMap 是线程不安全的</p>
<h4 id="Hashtable-和-HashMap-对比"><a href="#Hashtable-和-HashMap-对比" class="headerlink" title="Hashtable 和 HashMap 对比"></a>Hashtable 和 HashMap 对比</h4><table>
<thead>
<tr>
<th align="center"></th>
<th align="center">版本</th>
<th align="center">线程安全（同步）</th>
<th align="center">效率</th>
<th align="center">允许 null 键 null 值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Hashmap</td>
<td align="center">1.2</td>
<td align="center">不安全</td>
<td align="center">高</td>
<td align="center">可以</td>
</tr>
<tr>
<td align="center">Hashtable</td>
<td align="center">1.0</td>
<td align="center">安全</td>
<td align="center">较低</td>
<td align="center">不可以</td>
</tr>
</tbody></table>
<h3 id="Map-接口实现类-Properties"><a href="#Map-接口实现类-Properties" class="headerlink" title="Map 接口实现类 Properties"></a>Map 接口实现类 Properties</h3><h4 id="基本介绍-1"><a href="#基本介绍-1" class="headerlink" title="基本介绍"></a>基本介绍</h4><p>1、Properties 类继承自 Hashtable 类并且实现了 Map 接口，也是使用一种键值对的形式来保存数据。</p>
<p>2、它的使用特点和 Hashtable 类似。</p>
<p>3、Properties 还可以用于从 xxx.Properties 文件中，加载数据到 Properties 类对象，并进行读取和修改。</p>
<p>4、说明：工作后 xxx.Properties 文件通常作为配置文件。</p>
<h2 id="开发中如何选择集合实现类"><a href="#开发中如何选择集合实现类" class="headerlink" title="开发中如何选择集合实现类"></a>开发中如何选择集合实现类</h2><p>（1）先判断存储的类型（一组对象[单列]或一组键值对[双列]）</p>
<p>（2）一组对象[单列]：Collection 接口</p>
<p>允许重复：List</p>
<ul>
<li>增删多：LinkedList（底层维护了一个双向链表）</li>
<li>改查多：ArrayList（底层维护了 Object 类型的可变数组）</li>
</ul>
<p>不允许重复：Set</p>
<ul>
<li>无序：HashSet（底层是 HashMap，维护了一个哈希表，即数组+链表+红黑树）</li>
<li>排序：TreeSet</li>
<li>插入和取出顺序一致：LinkedHashSet（底层维护了数组+双向链表）</li>
</ul>
<p>（3）一组键值对[双列]：Map</p>
<p>键无序：HashMap（底层是：哈希表 jdk7：数组+链表，jdk8：数组+链表+红黑树）</p>
<p>键排序：TreeMap</p>
<p>键插入和取出顺序一致：LinkedHashMap</p>
<p>读取文件：Properties</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">枯木逢春</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://huang-666.github.io/2022/05/31/Java%E9%9B%86%E5%90%88/">https://huang-666.github.io/2022/05/31/Java%E9%9B%86%E5%90%88/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://huang-666.github.io" target="_blank">枯木逢春夏秋冬</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Java%E9%9B%86%E5%90%88/">Java集合</a></div><div class="post_share"><div class="social-share" data-image="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/05/31/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Java多线程</div></div></a></div><div class="next-post pull-right"><a href="/2022/05/26/SpringSecurity/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">SpringSecurity</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/头像.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">枯木逢春</div><div class="author-info__description">人生就像一盒巧克力，你永远不知道下一颗会是什么味道</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/huang-666/"><i class="fab fa-github"></i><span>跟我来</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">人在风中 聚散不由我</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">Java集合</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E7%90%86%E8%A7%A3%E5%92%8C%E5%A5%BD%E5%A4%84"><span class="toc-number">1.1.</span> <span class="toc-text">集合的理解和好处</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.1.1.</span> <span class="toc-text">数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">1.1.2.</span> <span class="toc-text">集合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E4%BD%93%E7%B3%BB%E5%9B%BE"><span class="toc-number">1.2.</span> <span class="toc-text">集合体系图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection-%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">Collection 接口和常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Collection-%E5%AE%9E%E7%8E%B0%E7%B1%BB%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.3.1.</span> <span class="toc-text">Collection 实现类的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Collection-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.2.</span> <span class="toc-text">Collection 接口的常用方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection-%E6%8E%A5%E5%8F%A3%E9%81%8D%E5%8E%86%E5%85%83%E7%B4%A0%E6%96%B9%E5%BC%8F"><span class="toc-number">1.4.</span> <span class="toc-text">Collection 接口遍历元素方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.4.1.</span> <span class="toc-text">基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E7%9A%84%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-number">1.4.2.</span> <span class="toc-text">迭代器的执行原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Iterator-%E6%8E%A5%E5%8F%A3%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.3.</span> <span class="toc-text">Iterator 接口的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88"><span class="toc-number">1.4.4.</span> <span class="toc-text">迭代器遍历集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%BC%BA-for-%E5%BE%AA%E7%8E%AF%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88"><span class="toc-number">1.4.5.</span> <span class="toc-text">增强 for 循环遍历集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98"><span class="toc-number">1.4.6.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List-%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.</span> <span class="toc-text">List 接口和常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#List-%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.5.1.</span> <span class="toc-text">List 接口基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.2.</span> <span class="toc-text">List 接口的常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-1"><span class="toc-number">1.5.3.</span> <span class="toc-text">练习题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List-%E7%9A%84%E4%B8%89%E7%A7%8D%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="toc-number">1.5.4.</span> <span class="toc-text">List 的三种遍历方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E7%BB%83%E4%B9%A0"><span class="toc-number">1.5.5.</span> <span class="toc-text">排序练习</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.5.6.</span> <span class="toc-text">ArrayList 注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList-%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6"><span class="toc-number">1.5.7.</span> <span class="toc-text">ArrayList 扩容机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.5.8.</span> <span class="toc-text">Vector 的基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vector-%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84%E5%92%8C-ArrayList-%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">1.5.9.</span> <span class="toc-text">Vector 底层结构和 ArrayList 的比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedList-%E7%9A%84%E5%85%A8%E9%9D%A2%E8%AF%B4%E6%98%8E"><span class="toc-number">1.5.10.</span> <span class="toc-text">LinkedList 的全面说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedList-%E5%BA%95%E5%B1%82%E6%93%8D%E4%BD%9C%E6%9C%BA%E5%88%B6"><span class="toc-number">1.5.11.</span> <span class="toc-text">LinkedList 底层操作机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList-%E5%92%8C-LinkedList-%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">1.5.12.</span> <span class="toc-text">ArrayList 和 LinkedList 的比较</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set-%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.6.</span> <span class="toc-text">Set 接口和常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-%E6%8E%A5%E5%8F%A3%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.6.1.</span> <span class="toc-text">Set 接口基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.6.2.</span> <span class="toc-text">Set 接口的常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-%E6%8E%A5%E5%8F%A3%E7%9A%84%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="toc-number">1.6.3.</span> <span class="toc-text">Set 接口的遍历方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB-HashSet"><span class="toc-number">1.6.4.</span> <span class="toc-text">Set 接口实现类 HashSet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet-%E7%9A%84%E5%85%A8%E9%9D%A2%E8%AF%B4%E6%98%8E"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">HashSet 的全面说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet-%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E8%AF%B4%E6%98%8E"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">HashSet 底层机制说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet-%E7%9A%84%E6%B7%BB%E5%8A%A0%E5%85%83%E7%B4%A0%E5%BA%95%E5%B1%82%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%EF%BC%9F"><span class="toc-number">1.6.4.3.</span> <span class="toc-text">HashSet 的添加元素底层是如何实现的？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%9E%90-HashSet-%E7%9A%84%E6%89%A9%E5%AE%B9%E5%92%8C%E8%BD%AC%E6%88%90%E7%BA%A2%E9%BB%91%E6%A0%91%E6%9C%BA%E5%88%B6"><span class="toc-number">1.6.4.4.</span> <span class="toc-text">分析 HashSet 的扩容和转成红黑树机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0%E9%A2%98-2"><span class="toc-number">1.6.4.5.</span> <span class="toc-text">练习题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB-LinkedHashSet"><span class="toc-number">1.6.5.</span> <span class="toc-text">Set 接口实现类 LinkedHashSet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#LinkedHashSet-%E7%9A%84%E5%85%A8%E9%9D%A2%E8%AF%B4%E6%98%8E"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">LinkedHashSet 的全面说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map-%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.</span> <span class="toc-text">Map 接口和常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.7.1.</span> <span class="toc-text">Map 接口实现类的特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-%E6%8E%A5%E5%8F%A3%E9%81%8D%E5%8E%86%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.2.</span> <span class="toc-text">Map 接口遍历方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-%E4%BD%93%E7%B3%BB%E7%BB%A7%E6%89%BF%E5%9B%BE"><span class="toc-number">1.7.3.</span> <span class="toc-text">Map 体系继承图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-%E6%8E%A5%E5%8F%A3%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.7.4.</span> <span class="toc-text">Map 接口的常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-%E5%85%AD%E5%A4%A7%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="toc-number">1.7.5.</span> <span class="toc-text">Map 六大遍历方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB-HashMap"><span class="toc-number">1.7.6.</span> <span class="toc-text">Map 接口实现类 HashMap</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HashMap-%E5%B0%8F%E7%BB%93"><span class="toc-number">1.7.6.1.</span> <span class="toc-text">HashMap 小结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashMap-%E5%BA%95%E5%B1%82%E6%9C%BA%E5%88%B6%E5%8F%8A%E6%BA%90%E7%A0%81%E5%89%96"><span class="toc-number">1.7.6.2.</span> <span class="toc-text">HashMap 底层机制及源码剖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashMap-%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6"><span class="toc-number">1.7.6.3.</span> <span class="toc-text">HashMap 的扩容机制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB-Hashtable"><span class="toc-number">1.7.7.</span> <span class="toc-text">Map 接口实现类 Hashtable</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HashTable-%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.7.7.1.</span> <span class="toc-text">HashTable 的基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hashtable-%E5%92%8C-HashMap-%E5%AF%B9%E6%AF%94"><span class="toc-number">1.7.7.2.</span> <span class="toc-text">Hashtable 和 HashMap 对比</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-%E6%8E%A5%E5%8F%A3%E5%AE%9E%E7%8E%B0%E7%B1%BB-Properties"><span class="toc-number">1.7.8.</span> <span class="toc-text">Map 接口实现类 Properties</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D-1"><span class="toc-number">1.7.8.1.</span> <span class="toc-text">基本介绍</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E4%B8%AD%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E9%9B%86%E5%90%88%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="toc-number">1.8.</span> <span class="toc-text">开发中如何选择集合实现类</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/05/31/%E9%9D%A2%E8%AF%95%E9%A2%98/" title="面试题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="面试题"/></a><div class="content"><a class="title" href="/2022/05/31/%E9%9D%A2%E8%AF%95%E9%A2%98/" title="面试题">面试题</a><time datetime="2022-05-31T13:00:16.000Z" title="发表于 2022-05-31 21:00:16">2022-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/31/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="Java多线程"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java多线程"/></a><div class="content"><a class="title" href="/2022/05/31/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/" title="Java多线程">Java多线程</a><time datetime="2022-05-31T11:46:54.000Z" title="发表于 2022-05-31 19:46:54">2022-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/31/Java%E9%9B%86%E5%90%88/" title="Java集合"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java集合"/></a><div class="content"><a class="title" href="/2022/05/31/Java%E9%9B%86%E5%90%88/" title="Java集合">Java集合</a><time datetime="2022-05-31T11:45:59.000Z" title="发表于 2022-05-31 19:45:59">2022-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/26/SpringSecurity/" title="SpringSecurity"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringSecurity"/></a><div class="content"><a class="title" href="/2022/05/26/SpringSecurity/" title="SpringSecurity">SpringSecurity</a><time datetime="2022-05-26T13:45:02.000Z" title="发表于 2022-05-26 21:45:02">2022-05-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/07/Docker/" title="Docker"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/博客/博客其它页面顶部图.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Docker"/></a><div class="content"><a class="title" href="/2022/05/07/Docker/" title="Docker">Docker</a><time datetime="2022-05-07T13:40:56.000Z" title="发表于 2022-05-07 21:40:56">2022-05-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By 枯木逢春</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="https://wap.miit.gov.cn/"><span>粤ICP备2022058168号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: '9kteGLCuLEeg8brfuQA0KI28-gzGzoHsz',
      appKey: 'bhWod0MiYEyCCmXNlX4sd7Io',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getIcon = (icon, mail) => {
    if (icon) return icon
    let defaultIcon = '?d=monsterid'
    let iconUrl = `https://gravatar.loli.net/avatar/${md5(mail.toLowerCase()) + defaultIcon}`
    return iconUrl
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }

        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick} / </span><time datetime="${array[i].date}">${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const getComment = () => {
    const serverURL = 'https://9kteGLCu.api.lncldglobal.com'

    var settings = {
      "method": "GET",
      "headers": {
        "X-LC-Id": '9kteGLCuLEeg8brfuQA0KI28-gzGzoHsz',
        "X-LC-Key": 'bhWod0MiYEyCCmXNlX4sd7Io',
        "Content-Type": "application/json"
      },
    }

    fetch(`${serverURL}/1.1/classes/Comment?limit=6&order=-createdAt`,settings)
      .then(response => response.json())
      .then(data => {
        const valineArray = data.results.map(function (e) {
          return {
            'avatar': getIcon(e.QQAvatar, e.mail),
            'content': changeContent(e.comment),
            'nick': e.nick,
            'url': e.url + '#' + e.objectId,
            'date': e.updatedAt,
          }
        })
        saveToLocal.set('valine-newest-comments', JSON.stringify(valineArray), 10/(60*24))
        generateHtml(valineArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "无法获取评论，请确认相关配置是否正确"
      }) 
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('valine-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="7414107066" data-server="netease" data-type="playlist" data-fixed="true" data-mini="true" data-listFolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><script src="/js/sakura.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="枯,木,逢,春" data-fontsize="15px" data-random="false" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":250},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>