<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Java多线程</title>
      <link href="/2022/05/31/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
      <url>/2022/05/31/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1><center>Java多线程</center></h1><hr><h2 id="线程的相关概念"><a href="#线程的相关概念" class="headerlink" title="线程的相关概念"></a>线程的相关概念</h2><h3 id="（1）程序"><a href="#（1）程序" class="headerlink" title="（1）程序"></a>（1）程序</h3><ul><li>是为完成特定任务、用某种语言编写的一组指令的集合（简单的说：就是我们写的代码）。</li></ul><h3 id="（2）进程"><a href="#（2）进程" class="headerlink" title="（2）进程"></a>（2）进程</h3><ul><li>进程是指运行中的程序，比如使用的QQ，就启动了一个进程，操作系统回味该进程分配内存空间。当我们使用迅雷，又启动了一个进程，操作系统将会为迅雷分配新的内存空间。</li><li>进程是程序的一次执行过程，或是正在运行的一个程序。是动态过程：有它自身的产生、存在和消亡的过程。</li></ul><h3 id="（3）什么是线程"><a href="#（3）什么是线程" class="headerlink" title="（3）什么是线程"></a>（3）什么是线程</h3><ul><li>线程是由进程创建的，是进程的一个实体。</li><li>一个进程可以拥有多个线程，就比如迅雷可以同时（包括并发和并行）下载多个文件。</li></ul><h3 id="（4）其他相关概念"><a href="#（4）其他相关概念" class="headerlink" title="（4）其他相关概念"></a>（4）其他相关概念</h3><ul><li>单线程：同一个时刻，只允许执行一个线程；</li><li>多线程：同一个时刻，可以执行多个线程，比如：一个qq进程，可以同时打开多个聊天窗口，一个迅雷进程，可以同时下载多件；</li><li>并发：同一个时刻，多个任务交替执行，造成一种“貌似同时”的感觉，简单的说，单核cpu实现的多任务就是并发。</li><li>并行：同一个时刻，多个任务同时执行。多核cpu可以实现并行。并发和并行可能同时存在。</li></ul><h2 id="线程的基本使用"><a href="#线程的基本使用" class="headerlink" title="线程的基本使用"></a>线程的基本使用</h2><h3 id="继承-Thread-类创建线程"><a href="#继承-Thread-类创建线程" class="headerlink" title="继承 Thread 类创建线程"></a>继承 Thread 类创建线程</h3><p>&#x3D;&#x3D;需求：&#x3D;&#x3D;</p><p>&#x3D;&#x3D;（1）请编写程序，开启一个线程，该线程每隔 1 秒。在控制台输出“喵喵，我是小猫咪”&#x3D;&#x3D;</p><p>&#x3D;&#x3D;（2）对上题改进，当输出 80 次“喵喵，我是小猫咪”，结束该线程&#x3D;&#x3D;</p><p>&#x3D;&#x3D;（3）使用 JConsole 监控线程执行情况，并画出程序示意图！&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="type">int</span> times;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建 Cat 对象，可以当作线程使用</span></span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        <span class="comment">// 启动线程</span></span><br><span class="line">        cat.run();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 该线程每隔 1 秒，在控制台输出“喵喵，我是小猫咪”</span></span><br><span class="line">            System.out.println(<span class="string">&quot;喵喵，我是小猫咪&quot;</span>+(++times));</span><br><span class="line">            <span class="comment">// 使线程休眠一秒（快捷键:CTRL+ALT+T）</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (times == <span class="number">80</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="实现-Runnable-接口"><a href="#实现-Runnable-接口" class="headerlink" title="实现 Runnable 接口"></a>实现 Runnable 接口</h3><p>说明：Java 是单继承的，在某些情况下一个类可能已经继承了某个父类，这时在用继承 Thread 类方法来创建线程显然不可能了。</p><p>需求：</p><p>&#x3D;&#x3D;请编写程序，该程序可以每隔 1 秒，在控制台输出“hi!”，当输出 10 次后，自动退出，请使用实现 Runnable 接口的方式来实现。&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(dog);</span><br><span class="line">        thread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;小狗汪汪叫..hi&quot;</span> + (++count) + Thread.currentThread().getName());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 休眠 1 秒</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (count == <span class="number">10</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>这里底层使用了设计模式（&#x3D;&#x3D;代理模式&#x3D;&#x3D;）。</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Java集合</title>
      <link href="/2022/05/31/Java%E9%9B%86%E5%90%88/"/>
      <url>/2022/05/31/Java%E9%9B%86%E5%90%88/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1><center>Java集合</center></h1><hr><h2 id="集合的理解和好处"><a href="#集合的理解和好处" class="headerlink" title="集合的理解和好处"></a>集合的理解和好处</h2><h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>（1）长度开始时必须指定，而且一旦指定，不能更改。</p><p>（2）保存的必须为同一类型的元素。</p><p>（3）使用数组进行增加&#x2F;删除元素的示意代码-比较麻烦</p><p>&#x3D;&#x3D;写出 Person 数组扩容示意代码&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person[] pers = <span class="keyword">new</span> <span class="title class_">Person</span>[<span class="number">1</span>];</span><br><span class="line">pers[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br></pre></td></tr></table></figure><p>&#x3D;&#x3D;增加新的 Person 对象&#x3D;&#x3D;？</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 新创建数组</span></span><br><span class="line">Person[] pers2 = <span class="keyword">new</span> <span class="title class_">Person</span>[pers.length + <span class="number">1</span>];</span><br><span class="line">拷贝 pers 数组的元素到 烹饪s</span><br><span class="line">    <span class="title function_">for</span> <span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// 添加新的对象</span></span><br><span class="line">pers2[pers2.length - <span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br></pre></td></tr></table></figure><h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>（1）可以&#x3D;&#x3D;动态保存&#x3D;&#x3D;任意多个对象，使用比较方便。</p><p>（2）提供了一系列方便的操作对象的方法：add、remove、set、get 等。</p><h2 id="集合体系图"><a href="#集合体系图" class="headerlink" title="集合体系图"></a>集合体系图</h2><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/01.png" alt="01"></p><h2 id="Collection-接口和常用方法"><a href="#Collection-接口和常用方法" class="headerlink" title="Collection 接口和常用方法"></a>Collection 接口和常用方法</h2><blockquote><p>集合层次结构中的根接口。集合表示一组被称为其元素的对象。 一些集合允许重复元素，而其他集合不允许。 有些被命令和其他无序。JDK不提供此接口的任何直接实现：它提供了更具体的子接口的实现，如 Set 和 List。该接口通常用于传递集合，并在需要最大的通用性的情况下对其进行操作。 </p></blockquote><h3 id="Collection-实现类的特点"><a href="#Collection-实现类的特点" class="headerlink" title="Collection 实现类的特点"></a>Collection 实现类的特点</h3><p>（1）Collection 实现子类可以存放多个元素，每个元素可以是 Object。</p><p>（2）有些 Collection 的实现类，有些是有序的（List），有些不是有序的（Set）。</p><p>（3）Collection 接口没有直接的实现子类，是通过它的子接口 Set 和 List 来实现的。</p><h3 id="Collection-接口的常用方法"><a href="#Collection-接口的常用方法" class="headerlink" title="Collection 接口的常用方法"></a>Collection 接口的常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> </span><br><span class="line">添加单个元素</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span><br><span class="line">将指定集合中的所有元素添加到此集合（可选操作）。  </span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object o)</span> </span><br><span class="line">删除指定元素</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">removeAll</span><span class="params">(Collection&lt;?&gt; c)</span> </span><br><span class="line">删除指定集合中包含的所有此集合的元素（可选操作）。  </span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(Object o)</span> </span><br><span class="line">查找元素是否存在</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">containsAll</span><span class="params">(Collection&lt;?&gt; c)</span> </span><br><span class="line">如果此集合包含指定 集合中的所有元素，则返回<span class="literal">true</span>。  </span><br><span class="line">    </span><br><span class="line"><span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> </span><br><span class="line">获取元素个数</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> </span><br><span class="line">如果此集合不包含元素，则返回 <span class="literal">true</span> 。  </span><br><span class="line">    </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> </span><br><span class="line">从此集合中删除所有元素（可选操作）。  </span><br></pre></td></tr></table></figure><h2 id="Collection-接口遍历元素方式"><a href="#Collection-接口遍历元素方式" class="headerlink" title="Collection 接口遍历元素方式"></a>Collection 接口遍历元素方式</h2><h3 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h3><p>（1）Iterator 对象称为迭代器，主要用于遍历 Collection 集合中的元素。</p><p>（2）所有实现了 Collection 接口的集合类都有一个 iterator() 方法，用以返回一个实现了 Iterator 接口的对象，即可以返回一个迭代器。</p><p>（3）Iterator 仅用来遍历集合，Iterator 本身并不存放对象。</p><h3 id="迭代器的执行原理"><a href="#迭代器的执行原理" class="headerlink" title="迭代器的执行原理"></a>迭代器的执行原理</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 得到一个集合的迭代器</span></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> coll.iterator();</span><br><span class="line"><span class="comment">// hasNext()：判断是否还有下一个元素</span></span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext()) &#123;</span><br><span class="line">    <span class="comment">// next()作用：1.下移 2.将下移以后集合位置上的元素返回</span></span><br><span class="line">    System.out.println(iterator.next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Iterator-接口的方法"><a href="#Iterator-接口的方法" class="headerlink" title="Iterator 接口的方法"></a>Iterator 接口的方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">如果迭代有更多元素，则返回 <span class="literal">true</span>。 （换句话说，如果 next 将返回一个元素而不是抛出异常，则返回 <span class="literal">true</span>。）</span><br><span class="line">返回值：</span><br><span class="line">如果迭代有更多元素，则为 <span class="literal">true</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">返回迭代中的下一个元素。</span><br><span class="line">返回值：</span><br><span class="line">迭代中的下一个元素</span><br><span class="line">抛出：</span><br><span class="line">NoSuchElementException – 如果迭代没有更多元素</span><br><span class="line">E <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">从基础集合中移除此迭代器返回的最后一个元素（可选操作）。每次调用 next 时，此方法只能调用一次。如果在迭代过程中以除调用此方法之外的任何方式修改了基础集合，则迭代器的行为是未指定的。</span><br><span class="line">抛出：</span><br><span class="line">UnsupportedOperationException – 如果此迭代器不支持删除操作</span><br><span class="line">IllegalStateException – 如果下一个方法还没有被调用，或者在最后一次调用下一个方法之后已经调用了 remove 方法</span><br><span class="line">实现要求：</span><br><span class="line">默认实现抛出 UnsupportedOperationException 的实例并且不执行任何其他操作。</span><br><span class="line"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span></span><br></pre></td></tr></table></figure><h3 id="迭代器遍历集合"><a href="#迭代器遍历集合" class="headerlink" title="迭代器遍历集合"></a>迭代器遍历集合</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 迭代器遍历集合</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">books</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Book&gt;();</span><br><span class="line">        <span class="comment">// 2、向集合里面添加元素</span></span><br><span class="line">        books.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;三国演义&quot;</span>, <span class="string">&quot;罗贯中&quot;</span>, <span class="number">10.1</span>));</span><br><span class="line">        books.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;小李飞刀&quot;</span>, <span class="string">&quot;古龙&quot;</span>, <span class="number">5.1</span>));</span><br><span class="line">        books.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;红楼梦&quot;</span>, <span class="string">&quot;曹雪芹&quot;</span>, <span class="number">34.6</span>));</span><br><span class="line">        <span class="comment">// 3、得到该集合对应的迭代器对象</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> books.iterator();</span><br><span class="line">        <span class="comment">// 4、使用 while 循环遍历集合，hasNext 方法的作用是判断是否还有下一个元素，如果还有则返回 true。</span></span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="comment">// 返回下一个元素，类型是 Object</span></span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(<span class="string">&quot;Book:&quot;</span> + next);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">    <span class="keyword">private</span> Double price;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="增强-for-循环遍历集合"><a href="#增强-for-循环遍历集合" class="headerlink" title="增强 for 循环遍历集合"></a>增强 for 循环遍历集合</h3><p>&#x3D;&#x3D;增强 for 循环，可以代替 iterator 迭代器，特点：增强 for 就是简化版的 iterator。本质一样。只能用来遍历集合或数组。&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法格式为：</span><br><span class="line">    <span class="keyword">for</span>(元素类型 元素名 : 集合名或数组名) &#123;</span><br><span class="line">        访问元素</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package com.huang;</span><br><span class="line"></span><br><span class="line">import lombok.AllArgsConstructor;</span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.Collection;</span><br><span class="line">import java.util.Iterator;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 增强 for 循环遍历集合</span><br><span class="line"> */</span><br><span class="line">public class Test &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        // 1、创建集合</span><br><span class="line">        Collection books = new ArrayList&lt;Book&gt;();</span><br><span class="line">        // 2、向集合里面添加元素</span><br><span class="line">        books.add(new Book(&quot;三国演义&quot;, &quot;罗贯中&quot;, 10.1));</span><br><span class="line">        books.add(new Book(&quot;小李飞刀&quot;, &quot;古龙&quot;, 5.1));</span><br><span class="line">        books.add(new Book(&quot;红楼梦&quot;, &quot;曹雪芹&quot;, 34.6));</span><br><span class="line">        // 3、使用增强 for 循环遍历集合</span><br><span class="line">        for (Object book : books) &#123;</span><br><span class="line">            System.out.println(book);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">@AllArgsConstructor</span><br><span class="line">@NoArgsConstructor</span><br><span class="line">class Book &#123;</span><br><span class="line">    private String name;</span><br><span class="line">    private String author;</span><br><span class="line">    private Double price;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h3><p>&#x3D;&#x3D;需求：&#x3D;&#x3D;</p><p>&#x3D;&#x3D;1、创建 3 个 Dog{name,age} 对象，放入到 ArrayList 中，赋给 List 引用&#x3D;&#x3D;</p><p>&#x3D;&#x3D;2、用迭代器和增强 for 循环两种方式来遍历集合&#x3D;&#x3D;</p><p>&#x3D;&#x3D;3、重写 Dog 的 toString 方法，输出 name 和 age&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.print.Book;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 练习题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">dogs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Dog&gt;();</span><br><span class="line">        <span class="comment">// 2、向集合里面添加元素</span></span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;小黄&quot;</span>, <span class="number">20</span>));</span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;小黑&quot;</span>, <span class="number">19</span>));</span><br><span class="line">        dogs.add(<span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;小白&quot;</span>, <span class="number">18</span>));</span><br><span class="line">        <span class="comment">// 3、使用狄俄代其遍历集合</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> dogs.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">dog</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(dog);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、使用增强 for 循环遍历集合</span></span><br><span class="line">        <span class="keyword">for</span> (Object dog : dogs) &#123;</span><br><span class="line">            System.out.println(dog);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="List-接口和常用方法"><a href="#List-接口和常用方法" class="headerlink" title="List 接口和常用方法"></a>List 接口和常用方法</h2><h3 id="List-接口基本介绍"><a href="#List-接口基本介绍" class="headerlink" title="List 接口基本介绍"></a>List 接口基本介绍</h3><p>（1）List 集合类中元素有序（即添加顺序和取出顺序一致）、且可重复。</p><p>（2）List 集合中的每个元素都有其对应的顺序索引，即支持索引。</p><p>（3）List 容器中的元素都对应一个整数型的序号记载其在容器中的位置，可以根据序号存取容器中的元素。</p><p>（4）JDK API 中 List 接口的实现类有：</p><p>AbstractList ， AbstractSequentialList ， &#x3D;&#x3D;ArrayList&#x3D;&#x3D; ， AttributeList ， CopyOnWriteArrayList ， &#x3D;&#x3D;LinkedList&#x3D;&#x3D; ， RoleList ， RoleUnresolvedList ， &#x3D;&#x3D;Stack&#x3D;&#x3D; ， &#x3D;&#x3D;Vector&#x3D;&#x3D; </p><h3 id="List-接口的常用方法"><a href="#List-接口的常用方法" class="headerlink" title="List 接口的常用方法"></a>List 接口的常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> </span><br><span class="line">将指定的元素追加到此列表的末尾（可选操作）。  </span><br><span class="line">    </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> index, E element)</span> </span><br><span class="line">将 index 位置插入 element 元素。</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span> </span><br><span class="line">从 index 位置开始将 c集合中的所有元素添加进来。</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(<span class="type">int</span> index, Collection&lt;? extends E&gt; c)</span> </span><br><span class="line">将指定集合中的所有元素插入到此列表中的指定位置（可选操作）。 </span><br><span class="line">    </span><br><span class="line">E <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> </span><br><span class="line">获取指定 index 位置的元素。  </span><br><span class="line">    </span><br><span class="line"><span class="type">int</span> <span class="title function_">indexOf</span><span class="params">(Object o)</span> </span><br><span class="line">返回此列表中指定元素的第一次出现的索引，如果此列表不包含元素，则返回-<span class="number">1</span>。 </span><br><span class="line">    </span><br><span class="line"><span class="type">int</span> <span class="title function_">lastIndexOf</span><span class="params">(Object o)</span> </span><br><span class="line">返回此列表中指定元素的最后一次出现的索引，如果此列表不包含元素，则返回-<span class="number">1</span>。  </span><br><span class="line">    </span><br><span class="line">E <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span> </span><br><span class="line">删除该列表中指定位置的元素（可选操作）。 </span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object o)</span> </span><br><span class="line">从列表中删除指定元素的第一个出现（如果存在）（可选操作）。  </span><br><span class="line">    </span><br><span class="line">E <span class="title function_">set</span><span class="params">(<span class="type">int</span> index, E element)</span> </span><br><span class="line">用指定的元素（可选操作）替换此列表中指定位置的元素。  </span><br><span class="line">    </span><br><span class="line">List&lt;E&gt; <span class="title function_">subList</span><span class="params">(<span class="type">int</span> fromIndex, <span class="type">int</span> toIndex)</span> </span><br><span class="line">返回此集合中指定的 fromIndex （含）和 toIndex之间的子集合。 </span><br></pre></td></tr></table></figure><h3 id="练习题-1"><a href="#练习题-1" class="headerlink" title="练习题"></a>练习题</h3><p>&#x3D;&#x3D;需求：&#x3D;&#x3D;</p><p>&#x3D;&#x3D;添加 10 个以上的元素（比如： String “hello”），在 2 号位插入一个元素，获得第 5 个元素，删除第 6 个元素，修改第 7 个元素，在使用迭代器遍历集合。&#x3D;&#x3D;</p><p>&#x3D;&#x3D;要求：使用 List 的实现类 ArrayList 完成。&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 练习题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合，并且添加 10 个 以上的元素</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">11</span>; i++) &#123;</span><br><span class="line">            lists.add(<span class="string">&quot;机器人&quot;</span> + i + <span class="string">&quot;号&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2、在 2 号位插入一个元素，获得第 5 个元素，删除第 6 个元素，修改第 7 个元素</span></span><br><span class="line">        lists.add(<span class="number">2</span>, <span class="string">&quot;机器人12号&quot;</span>);</span><br><span class="line">        lists.get(<span class="number">5</span>);</span><br><span class="line">        lists.remove(<span class="number">6</span>);</span><br><span class="line">        lists.set(<span class="number">7</span>, <span class="string">&quot;机器人13号&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、使用迭代器遍历集合</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> lists.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.print(next+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="List-的三种遍历方式"><a href="#List-的三种遍历方式" class="headerlink" title="List 的三种遍历方式"></a>List 的三种遍历方式</h3><p>&#x3D;&#x3D;(1)使用迭代器遍历&#x3D;&#x3D;</p><p>&#x3D;&#x3D;(2)使用增强 for 循环遍历&#x3D;&#x3D;</p><p>&#x3D;&#x3D;(3)使用 for 循环遍历&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * List 的三种遍历方式</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合，并且添加元素</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">lists</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        lists.add(<span class="string">&quot;鱼香肉丝&quot;</span>);</span><br><span class="line">        lists.add(<span class="string">&quot;西红柿炒鸡蛋&quot;</span>);</span><br><span class="line">        lists.add(<span class="string">&quot;北京烤鸭&quot;</span>);</span><br><span class="line">        lists.add(<span class="string">&quot;水煮鸡蛋&quot;</span>);</span><br><span class="line">        <span class="comment">// 2、使用迭代器遍历集合</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> lists.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">next</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(next + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、使用增强 for 循环遍历</span></span><br><span class="line">        <span class="keyword">for</span> (Object data : lists) &#123;</span><br><span class="line">            System.out.println(data);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4、使用 for 循环遍历</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; lists.size(); i++) &#123;</span><br><span class="line">            System.out.println(lists.get(i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="排序练习"><a href="#排序练习" class="headerlink" title="排序练习"></a>排序练习</h3><p>&#x3D;&#x3D;需求：&#x3D;&#x3D;</p><p>&#x3D;&#x3D;使用 List 的实现类添加三本图书，并遍历，打印如下效果&#x3D;&#x3D;</p><p>&#x3D;&#x3D;名称：xx价格：xx作者：xx&#x3D;&#x3D;</p><p>&#x3D;&#x3D;名称：xx价格：xx作者：xx&#x3D;&#x3D;</p><p>&#x3D;&#x3D;名称：xx价格：xx作者：xx&#x3D;&#x3D;</p><p>&#x3D;&#x3D;要求：&#x3D;&#x3D;</p><p>&#x3D;&#x3D;（1）按价格排序，从低到高（使用冒泡排序法）&#x3D;&#x3D;</p><p>&#x3D;&#x3D;（2）要求使用 ArrayList、LinkedList 和 Vector 三种集合实现&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 排序练习</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1、创建集合并且添加相关数据</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;红楼梦&quot;</span>, <span class="string">&quot;曹雪芹&quot;</span>, <span class="number">100</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;西游记&quot;</span>, <span class="string">&quot;吴承恩&quot;</span>, <span class="number">10</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;水浒传&quot;</span>, <span class="string">&quot;施耐庵&quot;</span>, <span class="number">9</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">Book</span>(<span class="string">&quot;三国演义&quot;</span>, <span class="string">&quot;罗贯中&quot;</span>, <span class="number">80</span>));</span><br><span class="line">        <span class="comment">// 2、调用排序方法</span></span><br><span class="line">        Test.sort(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3、增强 for 循环遍历集合</span></span><br><span class="line">        <span class="keyword">for</span> (Object data : list) &#123;</span><br><span class="line">            System.out.println(data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 按照价格从小到大排序</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> list</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(List list)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> list.size();</span><br><span class="line">        <span class="comment">// 思路:取出集合中的前一个元素与后一个元素比较价格，如果前一个元素的价格大于后一个元素的价格则相互交换</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; size - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">                <span class="comment">// 取出 Book 对象</span></span><br><span class="line">                <span class="type">Book</span> <span class="variable">book1</span> <span class="operator">=</span> (Book) list.get(j);</span><br><span class="line">                <span class="type">Book</span> <span class="variable">book2</span> <span class="operator">=</span> (Book) list.get(j + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (book1.getPrice() &gt; book2.getPrice()) &#123;</span><br><span class="line">                    list.set(j, book2);</span><br><span class="line">                    list.set(j + <span class="number">1</span>, book1);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">    <span class="keyword">private</span> Integer price;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;名称:&quot;</span> + name + <span class="string">&quot;\t价格:&quot;</span> + price + <span class="string">&quot;\t作者:&quot;</span> + author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Book</span><span class="params">(String name, String author, Integer price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAuthor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAuthor</span><span class="params">(String author)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.author = author;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(Integer price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ArrayList-注意事项"><a href="#ArrayList-注意事项" class="headerlink" title="ArrayList 注意事项"></a>ArrayList 注意事项</h3><p>（1）ArrayList 可以加入 null，并且多个。</p><p>（2）ArrayList 是由数组来实现数据存储的。</p><p>（3）ArrayList 基本等同于 Vector，除了 ArrayList 是线程不安全的（执行效率高），在多线程的情况下，不建议使用 ArrayList。</p><h3 id="ArrayList-扩容机制"><a href="#ArrayList-扩容机制" class="headerlink" title="ArrayList 扩容机制"></a>ArrayList 扩容机制</h3><p>（1）ArrayList 中维护了一个 Object 类型的数组elementData. transient Object[] elementData;（Object类型的数组说明什么类型都可以放）。</p><p>（2）对象在序列化的时候，transient 修饰的属性不会被序列化。</p><p>&#x3D;&#x3D;transient&#x3D;&#x3D;:表示瞬间，短暂的。</p><p>（3）当创建对象时，如果使用的是无参构造器(ArrayList&lt;&gt;()),则初始elementData容量为0 (jdk7是10)。</p><p>（4）当添加元素时:先判断是否需要扩容,如果需要扩容，则调用grow方法，否则直接添加元素到合适位置.</p><p>（5）当创建 ArrayList 对象时，如果使用的是无参构造器（ArrayList&lt;&gt;()），则初始 elementData 容量为0，第1次添加，则扩容 elementData 为10，如需要再次扩容，则扩容elementData为1.5倍。</p><p>（6）如果使用的是指定容量capacity（ArrayList&lt;&gt;（int  x））的构造器，则初始 elementData 容量为 capacity</p><p>（7）如果使用的是指定容量 capacity 的构造器,如果需要扩容，则直接扩容 elementData 为1.5倍。</p><blockquote><p>&#x3D;&#x3D;ArrayList是空间不够了才扩容的，假设现在插入第11个元素，但是只有10个空间，就触发grow扩容。&#x3D;&#x3D;</p></blockquote><h3 id="Vector-的基本介绍"><a href="#Vector-的基本介绍" class="headerlink" title="Vector 的基本介绍"></a>Vector 的基本介绍</h3><p>（1）Vector 类的定义说明</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Vector</span>&lt;E&gt;</span><br><span class="line"><span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt;</span><br><span class="line"><span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable</span><br></pre></td></tr></table></figure><p>（2）Vector 底层也是一个对象数组</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Object[] elementData;</span><br></pre></td></tr></table></figure><p>（3）Vector 是线程同步的，即线程安全，Vector 类的操作方法带有 &#x3D;&#x3D;synchronized&#x3D;&#x3D;</p><p>例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> E <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= elementCount)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ArrayIndexOutOfBoundsException</span>(index);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> elementData(index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（4）在开发中，需要线程同步安全时，考虑使用 Vector</p><h3 id="Vector-底层结构和-ArrayList-的比较"><a href="#Vector-底层结构和-ArrayList-的比较" class="headerlink" title="Vector 底层结构和 ArrayList 的比较"></a>Vector 底层结构和 ArrayList 的比较</h3><table><thead><tr><th align="center"></th><th align="center">底层结构</th><th align="center">版本</th><th align="center">线程安装（同步）效率</th><th align="center">扩容倍数</th></tr></thead><tbody><tr><td align="center">ArrayList</td><td align="center">可变数组</td><td align="center">jdk1.2</td><td align="center">不安全，效率高</td><td align="center">如果有参构造 1.5倍<br/>如果是无参<br/>1.第一次 10<br/>2.从第二次开始按照 1.5 倍扩容</td></tr><tr><td align="center">Vector</td><td align="center">可变数组</td><td align="center">jdk1.0</td><td align="center">安全，效率不高</td><td align="center">如果是无参，默认 10，容量满了后，就按 2 倍扩容<br>如果指定大小，则每次直接按 2 倍扩容</td></tr></tbody></table><h3 id="LinkedList-的全面说明"><a href="#LinkedList-的全面说明" class="headerlink" title="LinkedList 的全面说明"></a>LinkedList 的全面说明</h3><p>（1）LinkedList 底层实现了双向链表和双端队列特点。</p><p>（2）可以添加任意元素（元素是可以重复），包括 null。</p><p>（3）线程不安全。没有实现同步。</p><h3 id="LinkedList-底层操作机制"><a href="#LinkedList-底层操作机制" class="headerlink" title="LinkedList 底层操作机制"></a>LinkedList 底层操作机制</h3><p>（1）LinkedList 底层维护了一个&#x3D;&#x3D;双向链表&#x3D;&#x3D;。</p><p>（2）LinkedList 中维护了两个属性 &#x3D;&#x3D;first&#x3D;&#x3D; 和 &#x3D;&#x3D;last&#x3D;&#x3D; ，分别指向&#x3D;&#x3D;首节点&#x3D;&#x3D;和&#x3D;&#x3D;尾节点&#x3D;&#x3D;。</p><p>（3）每个节点（node 对象），里面又维护了 &#x3D;&#x3D;prev&#x3D;&#x3D;、&#x3D;&#x3D;next&#x3D;&#x3D;、&#x3D;&#x3D;item&#x3D;&#x3D; 三个属性，其中通过 &#x3D;&#x3D;prev 指向前一个节点&#x3D;&#x3D;，&#x3D;&#x3D;通过 next 指向后一个节点&#x3D;&#x3D;。最终实现双向链表。</p><p>（4）&#x3D;&#x3D;所以 LinkedList 的元素的添加和删除，不是通过数组完成的，相对效率比较高&#x3D;&#x3D;。</p><p>（5）模拟一个简单的双向链表</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 创建三个节点</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">jack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">tom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">        <span class="type">Node</span> <span class="variable">huang</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;huang&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 连接三个节点，形成双向链表</span></span><br><span class="line">        <span class="comment">// jack -&gt; tom -&gt; huang</span></span><br><span class="line">        jack.next = tom;</span><br><span class="line">        tom.next = huang;</span><br><span class="line">        <span class="comment">// huang -&gt; tom -&gt; jdck</span></span><br><span class="line">        huang.pre = tom;</span><br><span class="line">        tom.pre = jack;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 让 first 引用指向 jack，就是双向链表的头节点</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">first</span> <span class="operator">=</span> jack;</span><br><span class="line">        <span class="comment">// 让 last 引用指向 huang，就是双向链表的尾节点</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">last</span> <span class="operator">=</span> huang;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 演示:从头到尾进行遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===从头到尾进行遍历===&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (first == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出 first 信息</span></span><br><span class="line">            System.out.println(first);</span><br><span class="line">            first = first.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 演示:从尾到头进行遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===从尾到头进行遍历===&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (last == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出 first 信息</span></span><br><span class="line">            System.out.println(last);</span><br><span class="line">            last = last.pre;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 演示链表的添加对象/数据，是多么的方便</span></span><br><span class="line">        <span class="comment">// 要求:在 tom -------- huang 之间，插入一个对象 smith</span></span><br><span class="line">        <span class="comment">// 创建一个 Node 节点，name 就是 smith</span></span><br><span class="line">        <span class="type">Node</span> <span class="variable">smith</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Node</span>(<span class="string">&quot;smith&quot;</span>);</span><br><span class="line">        <span class="comment">// 把 smith 加入到双向链表（jack -&gt; tom -&gt; huang）</span></span><br><span class="line">        smith.next = huang;</span><br><span class="line">        smith.pre = tom;</span><br><span class="line">        huang.pre = smith;</span><br><span class="line">        tom.next = smith;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 让 first 再次指向 jack</span></span><br><span class="line">        first = jack;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 演示:从头到尾进行遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===从头到尾进行遍历===&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (first == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出 first 信息</span></span><br><span class="line">            System.out.println(first);</span><br><span class="line">            first = first.next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 让 last 再次指向 huang</span></span><br><span class="line">        last = huang;</span><br><span class="line">        <span class="comment">// 演示:从尾到头进行遍历</span></span><br><span class="line">        System.out.println(<span class="string">&quot;===从尾到头进行遍历===&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (last == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 输出 first 信息</span></span><br><span class="line">            System.out.println(last);</span><br><span class="line">            last = last.pre;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个 Node 类，Node 对象，表示双向链表的一个结点</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">    <span class="comment">// 真正存放数据的地方</span></span><br><span class="line">    <span class="keyword">public</span> Object item;</span><br><span class="line">    <span class="comment">// 指向后一个节点</span></span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line">    <span class="comment">// 指向前一个节点</span></span><br><span class="line">    <span class="keyword">public</span> Node pre;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Node</span><span class="params">(Object name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.item = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Node name=&quot;</span> + item;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ArrayList-和-LinkedList-的比较"><a href="#ArrayList-和-LinkedList-的比较" class="headerlink" title="ArrayList 和 LinkedList 的比较"></a>ArrayList 和 LinkedList 的比较</h3><table><thead><tr><th align="center"></th><th align="center">底层结构</th><th align="center">增删的效率</th><th align="center">改查的效率</th></tr></thead><tbody><tr><td align="center">ArrayList</td><td align="center">可变数组</td><td align="center">较低<br>数组扩容</td><td align="center">较高</td></tr><tr><td align="center">LinkedList</td><td align="center">双向链表</td><td align="center">较高，通过链表追加</td><td align="center">较低</td></tr></tbody></table><h2 id="Set-接口和常用方法"><a href="#Set-接口和常用方法" class="headerlink" title="Set 接口和常用方法"></a>Set 接口和常用方法</h2><h3 id="Set-接口基本介绍"><a href="#Set-接口基本介绍" class="headerlink" title="Set 接口基本介绍"></a>Set 接口基本介绍</h3><p>（1）无序（添加和取出的顺序不一样），没有索引。</p><p>（2）不允许有重复元素，所以最多包含一个 null</p><p>（3）JDK API 中 Set 接口的实现类有：</p><blockquote><p>所有已知实现类： </p><p>AbstractSet ， ConcurrentHashMap.KeySetView ， ConcurrentSkipListSet ， CopyOnWriteArraySet ， EnumSet ， &#x3D;&#x3D;HashSet&#x3D;&#x3D; ， JobStateReasons ， LinkedHashSet ， &#x3D;&#x3D;TreeSet&#x3D;&#x3D; </p></blockquote><h3 id="Set-接口的常用方法"><a href="#Set-接口的常用方法" class="headerlink" title="Set 接口的常用方法"></a>Set 接口的常用方法</h3><p>和 List 接口一样，Set 接口也是 Collection 的子接口，因此，常用方法和 Collection 接口一样。</p><h3 id="Set-接口的遍历方式"><a href="#Set-接口的遍历方式" class="headerlink" title="Set 接口的遍历方式"></a>Set 接口的遍历方式</h3><p>同 Collection 的遍历方式一样，因为 Set 接口是 Collection 接口的子接口。</p><ol><li>可以使用迭代器。</li><li>增强 for。</li><li>&#x3D;&#x3D;不能使用&#x3D;&#x3D;索引的方式来获取。</li></ol><h3 id="Set-接口实现类-HashSet"><a href="#Set-接口实现类-HashSet" class="headerlink" title="Set 接口实现类 HashSet"></a>Set 接口实现类 HashSet</h3><h4 id="HashSet-的全面说明"><a href="#HashSet-的全面说明" class="headerlink" title="HashSet 的全面说明"></a>HashSet 的全面说明</h4><p>（1）HashSet 实现了 set 接口</p><p>（2）HashSet 实际上是 HashMap（HashMap 底层是数组+链表+红黑树）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">HashSet</span><span class="params">()</span> &#123;</span><br><span class="line">    map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（3）可以存放 null 值，但是只能有一个 null 值。</p><p>（4）HashSet 不保证元素是有序的，取决于 hash 后，再确定索引的结果。</p><p>（5）不能有重复元素&#x2F;对象。</p><h4 id="HashSet-底层机制说明"><a href="#HashSet-底层机制说明" class="headerlink" title="HashSet 底层机制说明"></a>HashSet 底层机制说明</h4><p>分析 HashSet 底层是 HashMap，HashMap底层是（数组+链表+红黑树）。</p><h4 id="HashSet-的添加元素底层是如何实现的？"><a href="#HashSet-的添加元素底层是如何实现的？" class="headerlink" title="HashSet 的添加元素底层是如何实现的？"></a>HashSet 的添加元素底层是如何实现的？</h4><p>1.HashSet 底层是 HashMap。</p><p>2.添加一个元素时，先得到 hash 值，会转成 -&gt; 索引值</p><p>3.找到存储数据表 table，看这个索引位置是否已经存放有元素。</p><p>4.如果没有，直接加入。</p><p>5.如果有，调用 equals 比较，如果相同，就放弃添加，如果不相同，则添加到最后。</p><p>6.在 Java 8 中，如果一条链表的元素个数到达 TREEIFY_THRESHOLD（默认是 8），并且 table 的大小 &gt;&#x3D; MIN_TREEIFY_CAPACITY（默认是 64）就会进行树化（红黑树）。</p><h4 id="分析-HashSet-的扩容和转成红黑树机制"><a href="#分析-HashSet-的扩容和转成红黑树机制" class="headerlink" title="分析 HashSet 的扩容和转成红黑树机制"></a>分析 HashSet 的扩容和转成红黑树机制</h4><p>1.HashSet 底层是 HashMap，第一次添加时，table 数组扩容到 16，临界值（threshold）是 16*加载因子（loadFactor）是 0.75 &#x3D; 12.</p><p>2.如果 table 数组使用到了临界值 12，就会扩容到 16 * 2 &#x3D; 32，新的临界值就是 32 * 0.75 &#x3D; 24，以此类推。</p><p>3。在 Java 8 中，如果一条链表的元素个数到达 TREEIFY_THRESHOLD（默认是 8），并且 table 的大小 &gt;&#x3D; MIN_TREEIFY_CAPACITY（默认是 64）就会进行树化（红黑树），否则仍采用数组扩容机制。</p><h4 id="练习题-2"><a href="#练习题-2" class="headerlink" title="练习题"></a>练习题</h4><p>需求：</p><p>（1）创建 3 个 Employee 对象放入 HashSet 中</p><p>（2）当 name 和 age 的值相同时，认为是相同员工，不能添加到 HashSet 集合中。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSetExercise</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 定义一个 Employee 类，该类包含：private 成员属性 name,age 要求:</span></span><br><span class="line"><span class="comment"> 创建 3 个 Employee 对象放入 HashSet 中</span></span><br><span class="line"><span class="comment"> 当 name 和 age 的值相同时，认为是相同员工, 不能添加到 HashSet 集合中</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">        <span class="type">HashSet</span> <span class="variable">hashSet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;milan&quot;</span>, <span class="number">18</span>));<span class="comment">//ok</span></span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;smith&quot;</span>, <span class="number">28</span>));<span class="comment">//ok</span></span><br><span class="line">        hashSet.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;milan&quot;</span>, <span class="number">18</span>));<span class="comment">//加入不成功. //回答,加入了几个? 3 个</span></span><br><span class="line">        System.out.println(<span class="string">&quot;hashSet=&quot;</span> + hashSet);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 Employee</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Employee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">        <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果 name 和 age 值相同，则返回相同的 hash 值</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> (Employee) o;</span><br><span class="line">        <span class="type">return</span> <span class="variable">age</span> <span class="operator">=</span>= employee.age &amp;&amp;</span><br><span class="line">                Objects.equals(name, employee.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Set-接口实现类-LinkedHashSet"><a href="#Set-接口实现类-LinkedHashSet" class="headerlink" title="Set 接口实现类 LinkedHashSet"></a>Set 接口实现类 LinkedHashSet</h3><h4 id="LinkedHashSet-的全面说明"><a href="#LinkedHashSet-的全面说明" class="headerlink" title="LinkedHashSet 的全面说明"></a>LinkedHashSet 的全面说明</h4><p>（1）LinkedHashSet 是 HashSet 的子类。</p><p>（2）LinkedHashSet 底层是一个 LinkedHashMap，底层维护了一个数组+双向链表。</p><p>（3）LinkedHashSet 根据元素的 hashCode 值来决定元素的存储位置，同时使用链表维护元素的次序，这使得元素看起来是以插入顺序保存的。</p><p>（4）LinkedHashSet 不允许添加重复元素。</p><p>说明</p><p>（1）在 LinkedHashSet 中维护了一个 hash 表和双向链表（LinkedHastSet 有 head 和 tail）</p><p>（2）每一个节点有 before 和 after 属性，这样可以形成双向链表</p><p>（3）在添加一个元素时，先求 hash 值，在求索引，确定该元素在 table 的位置，然后将添加的元素加入到双向链表（如果已经存在，不添加，&#x3D;&#x3D;原则上和 hashset 一样&#x3D;&#x3D;）。</p><p>（4）这样的话，我们遍历 LinkedHastSet 也能确保插入顺序和遍历顺序一致。</p><h2 id="Map-接口和常用方法"><a href="#Map-接口和常用方法" class="headerlink" title="Map 接口和常用方法"></a>Map 接口和常用方法</h2><h3 id="Map-接口实现类的特点"><a href="#Map-接口实现类的特点" class="headerlink" title="Map 接口实现类的特点"></a>Map 接口实现类的特点</h3><p>（1）Map 与 Collection 并列存在，用于保存具有映射关系的数据：Key：Value。</p><p>（2）Map 中的 key 和 value 可以是任何引用类型的数据，会封装到 &#x3D;&#x3D;HashMap$Node&#x3D;&#x3D; 对象中。</p><p>（3）Map 中的 key 不允许重复，原因和 HashSet 一样。</p><p>（4）Map 中的 value 可以重复。</p><p>（5）Map 中的 key 可以为 null，value 也可以为 null，注意 key 为 null，只能有一个，value 为 null，可以多个。</p><p>（6）常用 String 类作为 Map 的 key。</p><p>（7）key 和 value 之间存在单向一对一关系，即通过指定的 key 总能找到对应的 value。</p><h3 id="Map-接口遍历方法"><a href="#Map-接口遍历方法" class="headerlink" title="Map 接口遍历方法"></a>Map 接口遍历方法</h3><p>（1）containsKey：查找键是否存在。</p><p>（2）keySet：获取所有的键。</p><p>（3）entrySet：获取所有关系 k-v。</p><p>（4）values：获取所有值。</p><h3 id="Map-体系继承图"><a href="#Map-体系继承图" class="headerlink" title="Map 体系继承图"></a>Map 体系继承图</h3><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B/02.png" alt="02"></p><h3 id="Map-接口的常用方法"><a href="#Map-接口的常用方法" class="headerlink" title="Map 接口的常用方法"></a>Map 接口的常用方法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">V <span class="title function_">put</span><span class="params">(K key, V value)</span> </span><br><span class="line">添加</span><br><span class="line">    </span><br><span class="line"><span class="keyword">default</span> <span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object key, Object value)</span> </span><br><span class="line">根据键输出映射关系</span><br><span class="line">    </span><br><span class="line">V <span class="title function_">get</span><span class="params">(Object key)</span> </span><br><span class="line">根据键获取值</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span> </span><br><span class="line">判断个数是否为 <span class="number">0</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> </span><br><span class="line">从该集合中删除所有的映射</span><br><span class="line">    </span><br><span class="line"><span class="type">boolean</span> <span class="title function_">containsKey</span><span class="params">(Object key)</span> </span><br><span class="line">查看指定的 key 是否存在</span><br></pre></td></tr></table></figure><h3 id="Map-六大遍历方式"><a href="#Map-六大遍历方式" class="headerlink" title="Map 六大遍历方式"></a>Map 六大遍历方式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">containsKey</span><span class="params">(Object key)</span> </span><br><span class="line">查看指定的 key 是否存在</span><br><span class="line">    </span><br><span class="line">Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()  </span><br><span class="line">获取所有关系 k-v</span><br><span class="line">  </span><br><span class="line">Set&lt;K&gt; <span class="title function_">keySet</span><span class="params">()</span> </span><br><span class="line">获取所有键  </span><br><span class="line">    </span><br><span class="line">Collection&lt;V&gt; <span class="title function_">values</span><span class="params">()</span> </span><br><span class="line">获取所有值</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapFor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        map.put(<span class="string">&quot;邓超&quot;</span>, <span class="string">&quot;孙俪&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;王宝强&quot;</span>, <span class="string">&quot;马蓉&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;宋喆&quot;</span>, <span class="string">&quot;马蓉&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;刘令博&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="string">&quot;刘亦菲&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;鹿晗&quot;</span>, <span class="string">&quot;关晓彤&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第一组: 先取出 所有的 Key , 通过 Key 取出对应的 Value</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">keySet</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">        <span class="comment">// （1）增强 for</span></span><br><span class="line">        System.out.println(<span class="string">&quot;---第一种方式---&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object key : keySet) &#123;</span><br><span class="line">            System.out.println(key + <span class="string">&quot;-&quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// （2）迭代器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;---第二种方式---&quot;</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> keySet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">key</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">            System.out.println(key + <span class="string">&quot;-&quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//第二组: 把所有的 values 取出</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">values</span> <span class="operator">=</span> map.values();</span><br><span class="line">        <span class="comment">//这里可以使用所有的 Collections 使用的遍历方法</span></span><br><span class="line">        <span class="comment">// (1) 增强 for</span></span><br><span class="line">        System.out.println(<span class="string">&quot;---取出所有的 value 增强 for----&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object value : values) &#123;</span><br><span class="line">            System.out.println(value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// (2) 迭代器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;---取出所有的 value 迭代器----&quot;</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator2</span> <span class="operator">=</span> values.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator2.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> iterator2.next();</span><br><span class="line">            System.out.println(value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//第三组: 通过 EntrySet 来获取 k-v</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();<span class="comment">// EntrySet&lt;Map.Entry&lt;K,V&gt;&gt;</span></span><br><span class="line">        <span class="comment">// (1) 增强 for</span></span><br><span class="line">        System.out.println(<span class="string">&quot;----使用 EntrySet 的 for 增强(第 3 种)----&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Object entry : entrySet) &#123;</span><br><span class="line">            <span class="comment">//将 entry 转成 Map.Entry</span></span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">m</span> <span class="operator">=</span> (Map.Entry) entry;</span><br><span class="line">            System.out.println(m.getKey() + <span class="string">&quot;-&quot;</span> + m.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// (2) 迭代器</span></span><br><span class="line">        System.out.println(<span class="string">&quot;----使用 EntrySet 的 迭代器(第 4 种)----&quot;</span>);</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator3</span> <span class="operator">=</span> entrySet.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator3.hasNext()) &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">entry</span> <span class="operator">=</span> iterator3.next();</span><br><span class="line">            <span class="comment">//System.out.println(next.getClass());//HashMap$Node -实现-&gt; Map.Entry (getKey,getValue)</span></span><br><span class="line">            <span class="comment">//向下转型 Map.Entry</span></span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">m</span> <span class="operator">=</span> (Map.Entry) entry;</span><br><span class="line">            System.out.println(m.getKey() + <span class="string">&quot;-&quot;</span> + m.getValue());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Map-接口实现类-HashMap"><a href="#Map-接口实现类-HashMap" class="headerlink" title="Map 接口实现类 HashMap"></a>Map 接口实现类 HashMap</h3><h4 id="HashMap-小结"><a href="#HashMap-小结" class="headerlink" title="HashMap 小结"></a>HashMap 小结</h4><p>（1）Map 接口的常用实现类：&#x3D;&#x3D;HashMap&#x3D;&#x3D;、&#x3D;&#x3D;Hashtable&#x3D;&#x3D; 和 &#x3D;&#x3D;Properties&#x3D;&#x3D;。</p><p>（2）HashMap 是 Map 接口使用频率最高的实现类。</p><p>（3）HashMap 是 以 key-val 对的方式来存储数据（HashMap$Node 类型）</p><p>（4）key 不能重复，但是值可以重复，允许使用 null 键 和 null 值。</p><p>（5）如果添加相同的 key，则会&#x3D;&#x3D;覆盖&#x3D;&#x3D;原来的 key-val，等同于修改，（key 不会替换，val 会替换）。</p><p>（6）与 HashSet 一样，不保证映射的顺序，因为底层是以 hash 表的方式来存储的（jdk8的 HashMap 底层：&#x3D;&#x3D;数组+链表+红黑树&#x3D;&#x3D;）。</p><p>（7）HashMap 没有实现同步，因此是线程不安全的，方法没有做到同步互斥的操作，没有 &#x3D;&#x3D;synchronized&#x3D;&#x3D;。</p><h4 id="HashMap-底层机制及源码剖"><a href="#HashMap-底层机制及源码剖" class="headerlink" title="HashMap 底层机制及源码剖"></a>HashMap 底层机制及源码剖</h4><p>（1）（k,v）是一个 Node 实现了 Map.Entry&lt;K,V&gt;,查看 HashMap 的源码可以看到。</p><p>（2）jdk7.0的 hashmap 底层实现[数组+链表]，jdk8.0 底层[数组+链表+红黑树]</p><h4 id="HashMap-的扩容机制"><a href="#HashMap-的扩容机制" class="headerlink" title="HashMap 的扩容机制"></a>HashMap 的扩容机制</h4><p>&#x3D;&#x3D;名词：&#x3D;&#x3D;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">capacity 即容量，默认<span class="number">16</span>。</span><br><span class="line">loadFactor 加载因子，默认是<span class="number">0.75</span></span><br><span class="line">threshold 阈值。阈值=容量*加载因子。默认<span class="number">12</span>。当元素数量超过阈值时便会触发扩容。</span><br></pre></td></tr></table></figure><p><strong>什么时候触发扩容？</strong></p><p>一般情况下，当元素数量超过阈值时便会触发扩容。每次扩容的容量都是之前容量的2倍。</p><p>HashMap的容量是有上限的，必须小于1&lt;&lt;30，即 1073741824。如果容量超出了这个数，则不再增长，且阈值会被设置为Integer.MAX_VALUE（ 2 的 31 次方减一 ，即永远不会超出阈值了）。</p><p><strong>JDK7 中的扩容机制</strong></p><p>JDK7的扩容机制相对简单，有以下特性：</p><ul><li>空参数的构造函数：以默认容量、默认负载因子、默认阈值初始化数组。内部数组是空数组。</li><li>有参构造函数：根据参数确定容量、负载因子、阈值等。</li><li>第一次put时会初始化数组，其容量变为不小于指定容量的2的幂数。然后根据负载因子确定阈值。</li><li>如果不是第一次扩容，则 新容量 &#x3D; 旧容量 × 2，新阈值 &#x3D; 新容量 × 负载因子。</li></ul><p><strong>JDK8的扩容机制</strong></p><p>&#x3D;&#x3D;JDK8的扩容做了许多调整。&#x3D;&#x3D;</p><p>HashMap的容量变化通常存在以下几种情况：</p><ol><li>空参数的构造函数：实例化的HashMap默认内部数组是null，即没有实例化。第一次调用put方法时，则会开始第一次初始化扩容，长度为16。</li><li>有参构造函数：用于指定容量。会根据指定的正整数找到&#x3D;&#x3D;不小于指定容量的2的幂数&#x3D;&#x3D;，将这个数设置赋值给&#x3D;&#x3D;阈值&#x3D;&#x3D;（threshold）。第一次调用put方法时，会将阈值赋值给容量，然后让 [阈值 &#x3D; 容量 × 负载因子] 。（因此并不是我们手动指定了容量就一定不会触发扩容，超过阈值后一样会扩容！！）</li><li>如果不是第一次扩容，则容量变为原来的2倍，阈值也变为原来的2倍。（容量和阈值都变为原来的2倍时，负载因子还是不变）</li></ol><p>此外还有几个细节需要注意：</p><ul><li>首次put时，先会触发扩容（算是初始化），然后存入数据，然后判断是否需要扩容；</li><li>不是首次put，则不再初始化，直接存入数据，然后判断是否需要扩容；</li></ul><h3 id="Map-接口实现类-Hashtable"><a href="#Map-接口实现类-Hashtable" class="headerlink" title="Map 接口实现类 Hashtable"></a>Map 接口实现类 Hashtable</h3><h4 id="HashTable-的基本介绍"><a href="#HashTable-的基本介绍" class="headerlink" title="HashTable 的基本介绍"></a>HashTable 的基本介绍</h4><p>（1）存放的元素是键值对：即 K-V。</p><p>（2）HashTable 的键和值都不能为 null，否则会抛出 NullPointerException</p><p>（3）HashTable 使用方法基本上和 HashMap 一样。</p><p>（4）HashTable 是线程安全的（synchronized），HashMap 是线程不安全的</p><h4 id="Hashtable-和-HashMap-对比"><a href="#Hashtable-和-HashMap-对比" class="headerlink" title="Hashtable 和 HashMap 对比"></a>Hashtable 和 HashMap 对比</h4><table><thead><tr><th align="center"></th><th align="center">版本</th><th align="center">线程安全（同步）</th><th align="center">效率</th><th align="center">允许 null 键 null 值</th></tr></thead><tbody><tr><td align="center">Hashmap</td><td align="center">1.2</td><td align="center">不安全</td><td align="center">高</td><td align="center">可以</td></tr><tr><td align="center">Hashtable</td><td align="center">1.0</td><td align="center">安全</td><td align="center">较低</td><td align="center">不可以</td></tr></tbody></table><h3 id="Map-接口实现类-Properties"><a href="#Map-接口实现类-Properties" class="headerlink" title="Map 接口实现类 Properties"></a>Map 接口实现类 Properties</h3><h4 id="基本介绍-1"><a href="#基本介绍-1" class="headerlink" title="基本介绍"></a>基本介绍</h4><p>1、Properties 类继承自 Hashtable 类并且实现了 Map 接口，也是使用一种键值对的形式来保存数据。</p><p>2、它的使用特点和 Hashtable 类似。</p><p>3、Properties 还可以用于从 xxx.Properties 文件中，加载数据到 Properties 类对象，并进行读取和修改。</p><p>4、说明：工作后 xxx.Properties 文件通常作为配置文件。</p><h2 id="开发中如何选择集合实现类"><a href="#开发中如何选择集合实现类" class="headerlink" title="开发中如何选择集合实现类"></a>开发中如何选择集合实现类</h2><p>（1）先判断存储的类型（一组对象[单列]或一组键值对[双列]）</p><p>（2）一组对象[单列]：Collection 接口</p><p>允许重复：List</p><ul><li>增删多：LinkedList（底层维护了一个双向链表）</li><li>改查多：ArrayList（底层维护了 Object 类型的可变数组）</li></ul><p>不允许重复：Set</p><ul><li>无序：HashSet（底层是 HashMap，维护了一个哈希表，即数组+链表+红黑树）</li><li>排序：TreeSet</li><li>插入和取出顺序一致：LinkedHashSet（底层维护了数组+双向链表）</li></ul><p>（3）一组键值对[双列]：Map</p><p>键无序：HashMap（底层是：哈希表 jdk7：数组+链表，jdk8：数组+链表+红黑树）</p><p>键排序：TreeMap</p><p>键插入和取出顺序一致：LinkedHashMap</p><p>读取文件：Properties</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SpringSecurity</title>
      <link href="/2022/05/26/SpringSecurity/"/>
      <url>/2022/05/26/SpringSecurity/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1><center>Spring Security</center></h1><hr><h2 id="Spring-Security-简介"><a href="#Spring-Security-简介" class="headerlink" title="Spring Security 简介"></a>Spring Security 简介</h2><h3 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h3><blockquote><p>Spring 是非常流行和成功的 Java 应用开发框架，Spring Security 正是 Spring 家族中的成员。Spring Security 基于 Spring 框架，提供了一套 Web 应用安全性的完整解决方案。</p><p>正如你可能知道的关于安全方面的两个主要区域是”<strong>认证</strong>“和”<strong>授权</strong>“（或者访问控制），一般来说，Web 应用的安全性包括<strong>用户认证（Authentication）和用户授权（Authorization）</strong>两个部分，这两点也是 Spring Security 重要核心功能。</p><ul><li>用户认证：指的是验证某个用户是否为系统中的合法主体，也就是说用户能否访问该系统。用户认证一般要求用户提供用户名和密码。系统通过校验用户名和密码来完成认证过程。<strong>通俗点说就是系统认为用户是否能登录。</strong></li><li>用户授权：指的是验证某个用户是否有权限执行某个操作。在一个系统中，不同用户所具有的权限是不同的。比如对一个文件来说，有的用户只能进行读取，而有的用户可以进行修改。一般来说，系统会为不同的用户分配不同的角色，而每个角色则对应一系列的权限。<strong>通俗点讲就是系统判断用户是否有权限去做某些事情</strong>。</li></ul></blockquote><h3 id="历史"><a href="#历史" class="headerlink" title="历史"></a>历史</h3><blockquote><p>“Spring Security 开始于 2003 年年底，spring 的 acegi 安全系统”。 起因是 Spring 开发者邮件列表中的一个问题，有人提问是否考虑提供一个基于 spring 的安全实现。</p><p>Spring Security 以”The Acegi Secutity System for Spring” 的名字始于 2013 年晚些时候。一个问题提交到 Spring 开发者的邮件列表，询问是否已经有考虑一个机遇 Spring 的安全性社区实现。那时候 Spring 的社区相对较小（相对现在）。实际上 Spring 自己在2013 年只是一个存在于 ScourseForge 的项目，这个问题的回答是一个值得研究的领域，虽然目前时间的缺乏组织了我们对它的探索。</p><p>在早些时候，这个项目没有任何自己的验证模块，身份验证过程依赖于容器管理的安全性和 Acegi 安全性。而不是专注于授权。开始的时候这很适合，但是越来越多的用户请求额外的容器支持。容器特定的认证领域接口的基本限制变得清晰。还有一个相关的问题增加新的容器的路径，这是最终用户的困惑和错误配置的常见问题。</p><p>Acegi 安全特定的认证服务介绍。大约一年后，Acegi 安全正式成为了 Spring 框架的子项目。1.0.0 最终版本是出版于 2006年，在超过两年半的大量生产的软件项目和数以百计的改进和积极利用社区的贡献。</p><p>Acegi 安全 2007 年底正式成为了 Spring 组合项目，更名为”Spring Security”。</p></blockquote><h3 id="同款产品对比"><a href="#同款产品对比" class="headerlink" title="同款产品对比"></a>同款产品对比</h3><p><strong>Spring Security 特点</strong></p><ul><li>和 Spring 无缝整合。</li><li>全面的权限控制。</li><li>专门为Web 开发而设计。</li><li>旧版本不能脱离Web 环境使用。</li><li>新版本对整个框架进行了分层抽取，分成了核心模块和Web 模块。单独引入核心模块就可以脱离Web 环境。</li><li>重量级。</li></ul><p><strong>Shiro 特点</strong></p><ul><li>轻量级。Shiro 主张的理念是把复杂的事情变简单。针对对性能有更高要求的互联网应用有更好表现。</li><li>通用性。<ul><li>好处：不局限于Web 环境，可以脱离Web 环境使用。</li><li>缺陷：在Web 环境下一些特定的需求需要手动编写代码定制。</li></ul></li></ul><p><strong>总结</strong></p><blockquote><p>Spring Security 是 Spring 家族中的一个安全管理框架，实际上，在 Spring Boot 出现之前，Spring Security 就已经发展了多年了，但是使用的并不多，安全管理这个领域，一直是 Shiro 的天下。</p><p>相对于 Shiro，在 SSM 中整合 Spring Security 都是比较麻烦的操作，所以，Spring Security 虽然功能比 Shiro 强大，但是使用反而没有 Shiro 多（Shiro 虽然功能没有Spring Security 多，但是对于大部分项目而言，Shiro 也够用了）</p><p>自从有了 Spring Boot 之后，Spring Boot 对于 Spring Security 提供了自动化配置方案，可以使用更少的配置来使用 Spring Security。</p><p>因此，一般来说，常见的安全管理技术栈的组合是这样的：</p><ul><li>SSM + Shiro</li><li>Spring Boot&#x2F;Spring Cloud + Spring Security</li></ul><p><strong>以上只是一个推荐的组合而已，如果单纯从技术上来说，无论怎么组合，都是可以运行的。</strong></p></blockquote><h3 id="模块划分"><a href="#模块划分" class="headerlink" title="模块划分"></a>模块划分</h3><p>以下是Spring Security 模块中包含的 jar 文件：</p><ul><li>spring-security-core.jar</li><li>spring-security-remoting.jar</li><li>spring-security-web.jar</li><li>spring-security-config.jar</li><li>spring-security-ldap.jar</li><li>spring-security-oauth2-core.jar</li><li>spring-security-oauth2-client.jar</li><li>spring-security-oauth2-jose.jar</li><li>spring-security-acl.jar</li><li>spring-security-cas.jar</li><li>spring-security-openid.jar</li><li>spring-security-test.jar</li></ul><h2 id="Spring-Security-快速入门"><a href="#Spring-Security-快速入门" class="headerlink" title="Spring Security 快速入门"></a>Spring Security 快速入门</h2><h3 id="1、创建-Spring-Boot-项目"><a href="#1、创建-Spring-Boot-项目" class="headerlink" title="1、创建 Spring Boot 项目"></a>1、创建 Spring Boot 项目</h3><h3 id="2、导入-Spring-Security-依赖"><a href="#2、导入-Spring-Security-依赖" class="headerlink" title="2、导入 Spring Security 依赖"></a>2、导入 Spring Security 依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="3、编写-Controller"><a href="#3、编写-Controller" class="headerlink" title="3、编写 Controller"></a>3、编写 Controller</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.huang.springsecurity.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SayHelloController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">sayHello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4、访问接口"><a href="#4、访问接口" class="headerlink" title="4、访问接口"></a>4、访问接口</h3><blockquote><p>Spring Security 默认的用户名为：user</p><p>密码在项目启动的时候在控制台会打印，<strong>注意每次启动的时候密码都回发生变化</strong>！</p></blockquote><p>浏览器访问：<a href="http://localhost:8080/hello">http://localhost:8080/hello</a></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Spring%20Security/01.png" alt="01"></p><center><strong>正确填写账号密码访问后</strong></center><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Spring%20Security/02.png" alt="02"></p><h2 id="Spring-Security-基本原理"><a href="#Spring-Security-基本原理" class="headerlink" title="Spring Security 基本原理"></a>Spring Security 基本原理</h2><blockquote><p>SpringSecurity 本质是一个<strong>过滤器链</strong>，从启动是可以获取到过滤器链。</p><p>代码底层流程：重点看三个过滤器：</p><ul><li>FilterSecurityInterceptor：是一个方法级的权限过滤器, 基本位于过滤链的最底部。</li><li>ExceptionTranslationFilter：是个异常过滤器，用来处理在认证授权过程中抛出的异常</li><li>UsernamePasswordAuthenticationFilter ：对 &#x2F;login 的 POST 请求做拦截，校验表单中用户名，密码。</li></ul></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> Spring Security </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker</title>
      <link href="/2022/05/07/Docker/"/>
      <url>/2022/05/07/Docker/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1><center>Docker</center></h1><hr><h1><center>基础篇</center></h1><h2 id="Docker-简介"><a href="#Docker-简介" class="headerlink" title="Docker 简介"></a>Docker 简介</h2><h3 id="Docker-为什么出现"><a href="#Docker-为什么出现" class="headerlink" title="Docker 为什么出现"></a>Docker 为什么出现</h3><blockquote><p><strong>假定您在开发一个尚硅谷的谷粒商城，您使用的是一台笔记本电脑而且您的开发环境具有特定的配置。其他开发人员身处的环境配置也各有不同。您正在开发的应用依赖于您当前的配置且还要依赖于某些配置文件。此外，您的企业还拥有标准化的测试和生产环境，且具有自身的配置和一系列支持文件。您希望尽可能多在本地模拟这些环境而不产生重新创建服务器环境的开销。请问？</strong></p><p><strong>您要如何确保应用能够在这些环境中运行和通过质量检测？并且在部署过程中不出现令人头疼的版本、配置问题，也无需重新编写代码和进行故障修复？</strong></p><p><strong>答案就是使用容器。Docker 之所以发展如此迅速，也是因为它对此给出了一个标准化的解决方案—–系统平滑移植，容器虚拟化技术。</strong></p><p><strong>环境配置相当麻烦，换一台机器，就要重来一次，费力费时。很多人想到，能不能从根本上解决问题，软件可以带环境安装？也就是说，安装的时候，把原始环境一模一样地复制过来。开发人员利用 Docker 可以消除协作编码时“在我的机器上可正常工作”的问题。</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/01.png" alt="image-20220505222142843"></p><blockquote><p><strong>之前在服务器配置一个应用的运行环境，要安装各种软件，就拿尚硅谷电商项目的环境来说，Java&#x2F;RabbitMQ&#x2F;MySQL&#x2F;JDBC驱动包等。安装和配置这些东西有多麻烦就不说了，它还不能跨平台。假如我们是在 Windows 上安装的这些环境，到了 Linux 又得重新装。况且就算不跨操作系统，换另一台同样操作系统的服务器，要移植应用也是非常麻烦的。</strong></p><p><strong>传统上认为，软件编码开发&#x2F;测试结束后，所产出的成果即是程序或是能够编译执行的二进制字节码等（java为例）。而为了让这些程序可以顺利执行，开发团队也得准备完整的部署文件，让维运团队得以部署应用程式，开发需要清楚的告诉运维部署团队，用的全部配置文件+所有软件环境。不过，即便如此，仍然常常发生部署失败的状况。Docker 的出现使得 Docker 得以打破过去「程序即应用」的观念。透过镜像（images）将作业系统核心除外，运作应用程式所需要的系统环境，由下而上打包，达到应用程式跨平台间的无缝接轨运作。</strong></p></blockquote><h3 id="Docker-理念概念"><a href="#Docker-理念概念" class="headerlink" title="Docker 理念概念"></a>Docker 理念概念</h3><blockquote><p><strong>Docker 是基于 Go 语言实现的云开源项目。</strong></p><p><strong>Docker 的主要目标是“Build，Ship and Run Any App,Anywhere”，也就是通过对应用组件的封装、分发、部署、运行等生命周期的管理，使用户的 APP（可以是一个 WEB 应用或数据库应用等等）及其运行环境能够做到“一次镜像，处处运行”。</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/02.png" alt="02"></p><blockquote><p><strong>Linux 容器技术的出现就解决了这样一个问题，而 Docker 就是在它的基础上发展过来的。将应用打成镜像，通过镜像成为运行在 Docker 容器上面的实例，而 Docker 容器在任何操作系统上都是一致的，这就实现了跨平台、跨服务器。只需要一次配置好环境，换到别的机子上就可以一键部署好，大大简化了操作。</strong></p></blockquote><h3 id="Docker-是什么"><a href="#Docker-是什么" class="headerlink" title="Docker 是什么"></a>Docker 是什么</h3><blockquote><p><strong>解决了运行环境和配置问题的软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术。</strong></p></blockquote><h3 id="传统虚拟机和容器的对比"><a href="#传统虚拟机和容器的对比" class="headerlink" title="传统虚拟机和容器的对比"></a>传统虚拟机和容器的对比</h3><h4 id="容器发展简史"><a href="#容器发展简史" class="headerlink" title="容器发展简史"></a>容器发展简史</h4><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/03.png" alt="03"></p><h4 id="传统虚拟机技术"><a href="#传统虚拟机技术" class="headerlink" title="传统虚拟机技术"></a>传统虚拟机技术</h4><blockquote><p><strong>虚拟机（virtual machine）就是带环境安装的一种解决方案。</strong></p><p><strong>它可以在一种操作系统里面运行另一种操作系统，比如在Windows10系统里面运行 Linux 系统 CentOS7。应用程序对此毫无感知，因为虚拟机看上去跟真实系统一模一样，而对于底层系统来说，虚拟机就是一个普通文件，不需要了就删掉，对其他部分毫无影响。这类虚拟机完美的运行了另一套系统，能够使应用程序，操作系统和硬件三者之间的逻辑不变。</strong>  </p></blockquote><table><thead><tr><th>Win10</th><th>VMWare</th><th>Centos7</th><th>各种cpu、内存网络额配置+各种软件</th><th>虚拟机实例</th></tr></thead></table><blockquote><p><strong>传统虚拟机技术基于安装在主操作系统上的虚拟机管理（如：VirtualBox 和 VMWare 等），创建虚拟机（虚拟出各种硬件），在虚拟机上安装操作系统，在从操作系统中安装部署各种应用。</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/04.png" alt="04"></p><h5 id="传统虚拟机的缺点"><a href="#传统虚拟机的缺点" class="headerlink" title="传统虚拟机的缺点"></a>传统虚拟机的缺点</h5><ol><li><p><strong>资源占用多</strong></p></li><li><p><strong>冗余步骤多</strong></p></li><li><p><strong>启动慢</strong></p></li></ol><h4 id="容器虚拟化技术"><a href="#容器虚拟化技术" class="headerlink" title="容器虚拟化技术"></a>容器虚拟化技术</h4><blockquote><p><strong>由于前面虚拟机存在某些缺点，Linux发展出了另一种虚拟化技术：</strong></p><p><strong>Linux 容器（Linux Containers，缩写为 LXC）</strong></p><p><strong>Linux 容器是与系统其他部分隔离开的一系列进程，从另一个镜像运行，并由该镜像提供支持进程所需的全部文件。容器提供的镜像包含了应用的所有依赖项，因而在从开发到测试再到生产的整个过程中，它都具有可移植性和一致性。</strong></p><p><strong>Linux 容器不是模拟一个完整的操作系统而是对进程进行隔离。有了容器，就可以将软件运行所需的所有资源打包到一个隔离的容器中。容器与虚拟机不同，不需要捆绑一整套操作系统，只需要软件工作所需的库资源和设置。系统因此而变得高效轻量并保证部署在任何环境中的软件都能始终如一地运行。</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/05.png" alt="05"></p><blockquote><p><strong>Docker 容器是在操作系统层面上实现虚拟化，直接复用本地主机的操作系统，而传统虚拟机则是在硬件层面实现虚拟化。与传统的虚拟机相比，Docker 优势体现为启动速度快、占用体积小。</strong></p></blockquote><h3 id="Docker-能干嘛能解决什么问题"><a href="#Docker-能干嘛能解决什么问题" class="headerlink" title="Docker 能干嘛能解决什么问题"></a>Docker 能干嘛能解决什么问题</h3><h4 id="技术职级变化"><a href="#技术职级变化" class="headerlink" title="技术职级变化"></a>技术职级变化</h4><blockquote><p><strong>英文：coder→programmer→software engineer→DevOps engineer</strong></p><p><strong>翻译：编码器→程序→软件工程师→DevOps工程师</strong></p></blockquote><h4 id="开发-x2F-运维（DevOps）新一代开发工程师"><a href="#开发-x2F-运维（DevOps）新一代开发工程师" class="headerlink" title="开发&#x2F;运维（DevOps）新一代开发工程师"></a>开发&#x2F;运维（DevOps）新一代开发工程师</h4><blockquote><p><strong>一次构建、随处运行</strong></p><ul><li><strong>更快速的应用交付和部署</strong></li><li><strong>更便捷的升级和扩缩容</strong></li><li><strong>更简单的系统运维</strong></li><li><strong>更高效的计算资源利用</strong></li></ul></blockquote><h4 id="Docker-应用场景"><a href="#Docker-应用场景" class="headerlink" title="Docker 应用场景"></a>Docker 应用场景</h4><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/06.png" alt="06"></p><h4 id="哪些企业在使用"><a href="#哪些企业在使用" class="headerlink" title="哪些企业在使用"></a>哪些企业在使用</h4><blockquote><ul><li><strong>新浪</strong></li><li><strong>美团</strong></li><li><strong>蘑菇街</strong></li></ul><p><strong>………..</strong></p></blockquote><h2 id="Docker-安装"><a href="#Docker-安装" class="headerlink" title="Docker 安装"></a>Docker 安装</h2><center><strong>注意：我这里使用阿里云服务器进行安装，操作系统为CentOS 7.6 64位</strong></center><h3 id="1、操作系统要求"><a href="#1、操作系统要求" class="headerlink" title="1、操作系统要求"></a>1、操作系统要求</h3><blockquote><p><strong>要安裝 Docker 引擎，你需要一個維持的 CentOS 7 或 8 版本。不支持或测试存档版本。</strong></p></blockquote><h3 id="2、卸载旧版本"><a href="#2、卸载旧版本" class="headerlink" title="2、卸载旧版本"></a>2、卸载旧版本</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure><h3 id="3、安装gcc相关"><a href="#3、安装gcc相关" class="headerlink" title="3、安装gcc相关"></a>3、安装gcc相关</h3><blockquote><p><strong>因为阿里云服务器自带 gcc，所有这里我就无需安装。使用<code>gcc -v</code>命令来查看是否安装了 gcc</strong>。</p></blockquote><h3 id="4、安装需要的软件包"><a href="#4、安装需要的软件包" class="headerlink" title="4、安装需要的软件包"></a>4、安装需要的软件包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y yum-utils</span><br></pre></td></tr></table></figure><h3 id="5、设置stable镜像仓库"><a href="#5、设置stable镜像仓库" class="headerlink" title="5、设置stable镜像仓库"></a>5、设置stable镜像仓库</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><h3 id="6、更新yum软件包索引"><a href="#6、更新yum软件包索引" class="headerlink" title="6、更新yum软件包索引"></a>6、更新yum软件包索引</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure><h3 id="7、安装DOCKER-CE"><a href="#7、安装DOCKER-CE" class="headerlink" title="7、安装DOCKER CE"></a>7、安装DOCKER CE</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure><h3 id="8、启动docker"><a href="#8、启动docker" class="headerlink" title="8、启动docker"></a>8、启动docker</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><h3 id="9、重启docker"><a href="#9、重启docker" class="headerlink" title="9、重启docker"></a>9、重启docker</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="10、测试"><a href="#10、测试" class="headerlink" title="10、测试"></a>10、测试</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run hello-world</span><br></pre></td></tr></table></figure><p>出现以下说明安装成功！</p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/07.png" alt="img"></p><h3 id="11、卸载"><a href="#11、卸载" class="headerlink" title="11、卸载"></a>11、卸载</h3><p><strong>停止docker服务</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop docker</span><br></pre></td></tr></table></figure><p><strong>卸载 Docker 引擎、CLI 和容器包：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure><p><strong>主机上的映像、容器、卷或自定义配置文件不会自动删除。删除所有映像、容器和卷：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /var/lib/docker</span><br><span class="line">rm -rf /var/lib/containerd</span><br></pre></td></tr></table></figure><h3 id="12、阿里云镜像加速"><a href="#12、阿里云镜像加速" class="headerlink" title="12、阿里云镜像加速"></a>12、阿里云镜像加速</h3><p><strong>（1）来到阿里云的容器镜像服务</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/08.png" alt="08"></p><p><strong>（2）根据操作文档进行操作</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/09.png" alt="09"></p><p><strong>（3）代码</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建目录</span></span><br><span class="line">mkdir -p /etc/docker</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加内容到daemon.json文件</span></span><br><span class="line">tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://w0ycug45.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重新加载配置文件</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启docker服务</span></span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h2 id="为什么-Docker-会比-VM-虚拟机快"><a href="#为什么-Docker-会比-VM-虚拟机快" class="headerlink" title="为什么 Docker 会比 VM 虚拟机快"></a>为什么 Docker 会比 VM 虚拟机快</h2><h3 id="底层原理"><a href="#底层原理" class="headerlink" title="底层原理"></a>底层原理</h3><p><strong>（1）docker 有着比虚拟机更少的抽象层</strong></p><p><strong>由于 docker 不需要 Hypervisor（虚拟机）实现硬件资源虚拟化,运行在 docker 容器上的程序直接使用的都是实际物理机的硬件资源。因此在 CPU、内存利用率上 docker 将会在效率上有明显优势。</strong></p><p><strong>（2）docker 利用的是宿主机的内核,而不需要加载操作系统OS内核</strong></p><p><strong>当新建一个容器时，docker 不需要和虚拟机一样重新加载一个操作系统内核。进而避免引寻、加载操作系统内核返回等比较费时费资源的过程,当新建一个虚拟机时,虚拟机软件需要加载 OS,返回新建过程是分钟级别的。而 docker 由于直接利用宿主机的操作系统,则省略了返回过程,因此新建一个 docker 容器只需要几秒钟。</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/10.png" alt="10"></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/11.png" alt="11"></p><h2 id="Docker-常用命令"><a href="#Docker-常用命令" class="headerlink" title="Docker 常用命令"></a>Docker 常用命令</h2><h3 id="帮助启动类命令"><a href="#帮助启动类命令" class="headerlink" title="帮助启动类命令"></a>帮助启动类命令</h3><h4 id="（1）启动docker"><a href="#（1）启动docker" class="headerlink" title="（1）启动docker"></a>（1）启动docker</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><h4 id="（2）停止docker"><a href="#（2）停止docker" class="headerlink" title="（2）停止docker"></a>（2）停止docker</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop docker</span><br></pre></td></tr></table></figure><h4 id="（3）重启docker"><a href="#（3）重启docker" class="headerlink" title="（3）重启docker"></a>（3）重启docker</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h4 id="（4）查看docker-状态"><a href="#（4）查看docker-状态" class="headerlink" title="（4）查看docker 状态"></a>（4）查看docker 状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status docker</span><br></pre></td></tr></table></figure><h4 id="（5）开机启动"><a href="#（5）开机启动" class="headerlink" title="（5）开机启动"></a>（5）开机启动</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable docker</span><br></pre></td></tr></table></figure><h4 id="（6）查看docker-概要信息"><a href="#（6）查看docker-概要信息" class="headerlink" title="（6）查看docker 概要信息"></a>（6）查看docker 概要信息</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><h4 id="（7）查看docker-总体帮助文档"><a href="#（7）查看docker-总体帮助文档" class="headerlink" title="（7）查看docker 总体帮助文档"></a>（7）查看docker 总体帮助文档</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker --help</span><br></pre></td></tr></table></figure><h4 id="（8）查看docker-命令帮助文档"><a href="#（8）查看docker-命令帮助文档" class="headerlink" title="（8）查看docker 命令帮助文档"></a>（8）查看docker 命令帮助文档</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker 具体命令 --help</span><br></pre></td></tr></table></figure><h3 id="镜像命令"><a href="#镜像命令" class="headerlink" title="镜像命令"></a>镜像命令</h3><h4 id="（1）列出本地主机上的镜像"><a href="#（1）列出本地主机上的镜像" class="headerlink" title="（1）列出本地主机上的镜像"></a>（1）列出本地主机上的镜像</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images [OPTIONS] [REPOSITORY[:TAG]]</span><br></pre></td></tr></table></figure><p><strong>OPTIONS 说明：</strong></p><ul><li><strong>-a：列出本地所有的镜像（含中间映像层，默认情况下，过滤掉中间映像层）；</strong></li><li><strong>–digests：显示镜像的摘要信息；</strong></li><li><strong>-f：显示满足条件的镜像；</strong></li><li><strong>–format：指定返回值的模板文件；</strong></li><li><strong>–no-trunc：显示完整的镜像信息；</strong></li><li><strong>-q：只显示镜像ID。</strong></li></ul><h4 id="（2）从Docker-Hub-查找镜像"><a href="#（2）从Docker-Hub-查找镜像" class="headerlink" title="（2）从Docker Hub 查找镜像"></a>（2）从Docker Hub 查找镜像</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search [OPTIONS] TERM</span><br></pre></td></tr></table></figure><p><strong>OPTIONS 说明：</strong></p><ul><li><p><strong>–automated :只列出 automated build类型的镜像；</strong></p></li><li><p><strong>–no-trunc :显示完整的镜像描述；</strong></p></li><li><p><strong>-f &lt;过滤条件&gt;:列出收藏数不小于指定值的镜像。</strong></p></li></ul><p><strong>参数说明：</strong></p><ul><li><strong>NAME：镜像仓库源的名称</strong></li><li><strong>DESCRIPTION：镜像的描述</strong></li><li><strong>OFFICIAL：是否 docker 官方发布</strong></li><li><strong>stars：类似 Github 里面的 star，表示点赞、喜欢的意思。</strong></li><li><strong>AUTOMATED：自动构建。</strong></li></ul><h4 id="（3）从镜像仓库中拉取或者更新指定镜像"><a href="#（3）从镜像仓库中拉取或者更新指定镜像" class="headerlink" title="（3）从镜像仓库中拉取或者更新指定镜像"></a>（3）从镜像仓库中拉取或者更新指定镜像</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull [OPTIONS] NAME[:TAG|@DIGEST]</span><br></pre></td></tr></table></figure><p><strong>OPTIONS 说明：</strong></p><ul><li><strong>-a：拉取所有 tagged 镜像</strong></li><li><strong>–disable-content-trust：忽略镜像的校验,默认开启</strong></li></ul><h4 id="（4）查看镜像-x2F-容器-x2F-数据卷所占的空间"><a href="#（4）查看镜像-x2F-容器-x2F-数据卷所占的空间" class="headerlink" title="（4）查看镜像&#x2F;容器&#x2F;数据卷所占的空间"></a>（4）查看镜像&#x2F;容器&#x2F;数据卷所占的空间</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker system df</span><br></pre></td></tr></table></figure><h4 id="（5）-删除本地一个或多个镜像"><a href="#（5）-删除本地一个或多个镜像" class="headerlink" title="（5） 删除本地一个或多个镜像"></a>（5） 删除本地一个或多个镜像</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi [OPTIONS] IMAGE [IMAGE...]</span><br></pre></td></tr></table></figure><p><strong>OPTIONS说明：</strong></p><p><strong>-f：强制删除；</strong></p><p><strong>–no-prune：不移除该镜像的过程镜像，默认移除；</strong></p><h3 id="虚拟镜像"><a href="#虚拟镜像" class="headerlink" title="虚拟镜像"></a>虚拟镜像</h3><h4 id="虚拟镜像是什么"><a href="#虚拟镜像是什么" class="headerlink" title="虚拟镜像是什么"></a>虚拟镜像是什么</h4><blockquote><p><strong>仓库名、标签都是<none>的镜像，俗称虚拟镜像dangling image</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/12.png" alt="12"></p><h3 id="容器命令"><a href="#容器命令" class="headerlink" title="容器命令"></a>容器命令</h3><blockquote><p><strong>注意：有镜像才能创建容器，这是根本前提。</strong></p></blockquote><h4 id="（1）创建一个新的容器并运行一个命令"><a href="#（1）创建一个新的容器并运行一个命令" class="headerlink" title="（1）创建一个新的容器并运行一个命令"></a>（1）创建一个新的容器并运行一个命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span><br></pre></td></tr></table></figure><p><strong>OPTIONS 说明：</strong></p><ul><li><strong>-a stdin：指定标准输入输出内容类型，可选 STDIN&#x2F;STDOUT&#x2F;STDERR 三项；</strong></li><li><strong>-d：后台运行容器，并返回容器ID；</strong></li><li><strong>-i：以交互模式运行容器，通常与 -t 同时使用；</strong></li><li><strong>-P：随机端口映射，容器内部端口随机映射到主机的端口</strong></li><li><strong>-p：指定端口映射，格式为：主机(宿主)端口:容器端口</strong></li><li><strong>-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用；</strong></li><li><strong>–name&#x3D;”nginx-lb”：为容器指定一个名称；</strong></li><li><strong>–dns 8.8.8.8：指定容器使用的DNS服务器，默认和宿主一致；</strong></li><li><strong>–dns-search example.com：指定容器DNS搜索域名，默认和宿主一致；</strong></li><li><strong>-h “mars”：指定容器的hostname；</strong></li><li><strong>-e username&#x3D;”ritchie”: 设置环境变量；</strong></li><li><strong>–env-file&#x3D;[]：从指定文件读入环境变量；</strong></li><li><strong>–cpuset&#x3D;”0-2” or –cpuset&#x3D;”0,1,2”：绑定容器到指定CPU运行；</strong></li><li><strong>-m：设置容器使用内存最大值；</strong></li><li><strong>–net&#x3D;”bridge”：指定容器的网络连接类型，支持 bridge&#x2F;host&#x2F;none&#x2F;container: 四种类型；</strong></li><li><strong>–link&#x3D;[]：添加链接到另一个容器；</strong></li><li><strong>–expose&#x3D;[]：开放一个端口或一组端口；</strong></li><li><strong>–volume , -v：绑定一个卷</strong></li></ul><h4 id="（2）列出当前所有正在运行的容器"><a href="#（2）列出当前所有正在运行的容器" class="headerlink" title="（2）列出当前所有正在运行的容器"></a>（2）列出当前所有正在运行的容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps [OPTIONS]</span><br></pre></td></tr></table></figure><p><strong>OPTIONS说明：</strong></p><ul><li><strong>-a：显示所有的容器，包括未运行的。</strong></li><li><strong>-f：根据条件过滤显示的内容。</strong></li><li><strong>–format：指定返回值的模板文件。</strong></li><li><strong>-l：显示最近创建的容器。</strong></li><li><strong>-n：列出最近创建的n个容器。</strong></li><li><strong>–no-trunc：不截断输出。</strong></li><li><strong>-q：静默模式，只显示容器编号。</strong></li><li><strong>-s：显示总的文件大小。</strong></li></ul><h4 id="（3）退出容器"><a href="#（3）退出容器" class="headerlink" title="（3）退出容器"></a>（3）退出容器</h4><p>**方式一：exit**</p><p><strong>run 进去容器，exit 退出，容器停止</strong>。</p><p>**方式二：ctrl+p+q**</p><p><strong>run 进去容器，ctrl+p+q 退出，容器不停止。</strong></p><h4 id="（4）启动已停止运行的容器"><a href="#（4）启动已停止运行的容器" class="headerlink" title="（4）启动已停止运行的容器"></a>（4）启动已停止运行的容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start 容器ID/容器名</span><br></pre></td></tr></table></figure><h4 id="（5）重启容器"><a href="#（5）重启容器" class="headerlink" title="（5）重启容器"></a>（5）重启容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart 容器ID/容器名</span><br></pre></td></tr></table></figure><h4 id="（6）停止容器"><a href="#（6）停止容器" class="headerlink" title="（6）停止容器"></a>（6）停止容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop 容器ID/容器名</span><br></pre></td></tr></table></figure><h4 id="（7）强制停止容器"><a href="#（7）强制停止容器" class="headerlink" title="（7）强制停止容器"></a>（7）强制停止容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker kill 容器ID/容器名</span><br></pre></td></tr></table></figure><h4 id="（8）删除已停止的容器"><a href="#（8）删除已停止的容器" class="headerlink" title="（8）删除已停止的容器"></a>（8）删除已停止的容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm 容器ID</span><br></pre></td></tr></table></figure><h4 id="（9）一次性删除多个容器实例"><a href="#（9）一次性删除多个容器实例" class="headerlink" title="（9）一次性删除多个容器实例"></a>（9）<strong>一次性删除多个容器实例</strong></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker rm -f $(docker ps -a -q) </span><br><span class="line">docker ps -a -q | xargs docker rm</span><br></pre></td></tr></table></figure><h4 id="（10）启动守护式容器（后台服务器）"><a href="#（10）启动守护式容器（后台服务器）" class="headerlink" title="（10）启动守护式容器（后台服务器）"></a>（10）启动守护式容器（后台服务器）</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run d 容器名</span><br></pre></td></tr></table></figure><blockquote><p><strong>例：使用镜像 centos:latest 以后台模式启动一个容器</strong></p><p><strong><code>docker run -d centos</code></strong></p><p><strong>问题：然后docker ps -a 进行查看, 会发现容器已经退出</strong>。</p><p><strong>很重要的要说明的一点：Docker 容器后台运行,就必须有一个前台进程</strong>，容器运行的命令如果不是那些一直挂起的命令（比如运行top，tail），就是会自动退出的。**</p><hr><p><strong>这个是 docker 的机制问题,比如你的 web 容器,我们以 nginx 为例，正常情况下，我们配置启动服务只需要启动响应的 service 即可。例如 <code>service nginx start</code></strong></p><p><strong>但是,这样做，nginx 为后台进程模式运行,就导致 docker 前台没有运行的应用，这样的容器后台启动后，会立即自杀因为他觉得他没事可做了。</strong></p><p><strong>所以，最佳的解决方案是,将你要运行的程序以前台进程的形式运行，常见就是命令行模式，表示我还有交互操作，别中断，O(∩_∩)O哈哈~</strong></p></blockquote><h4 id="（11）查看容器日志"><a href="#（11）查看容器日志" class="headerlink" title="（11）查看容器日志"></a>（11）查看容器日志</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs 容器ID</span><br></pre></td></tr></table></figure><h4 id="（12）查看容器内运行的进程"><a href="#（12）查看容器内运行的进程" class="headerlink" title="（12）查看容器内运行的进程"></a>（12）查看容器内运行的进程</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker top 容器ID</span><br></pre></td></tr></table></figure><h4 id="（13）查看容器内部细节"><a href="#（13）查看容器内部细节" class="headerlink" title="（13）查看容器内部细节"></a>（13）查看容器内部细节</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker inspect 容器ID</span><br></pre></td></tr></table></figure><h4 id="（14）进入正在运行的容器并以命令行交互"><a href="#（14）进入正在运行的容器并以命令行交互" class="headerlink" title="（14）进入正在运行的容器并以命令行交互"></a>（14）进入正在运行的容器并以命令行交互</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it 容器ID /bin/bash</span><br></pre></td></tr></table></figure><p><strong>或</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker attach 容器ID  </span><br></pre></td></tr></table></figure><blockquote><p><strong>推荐使用 docker exec 命令，因为退出容器终端，不会导致容器的停止。</strong></p></blockquote><p><strong>两个命令的区别</strong></p><blockquote><ul><li><strong>exec 是在容器中打开新的终端，并且可以启动新的进程，用 exit 退出，不会导致容器的停止。</strong></li><li><strong>attach 直接进入容器启动命令的终端，不会启动新的进程，用 exit 退出，会导致容器的停止。</strong></li></ul></blockquote><h4 id="（15）从容器内拷贝文件到主机上"><a href="#（15）从容器内拷贝文件到主机上" class="headerlink" title="（15）从容器内拷贝文件到主机上"></a>（15）从容器内拷贝文件到主机上</h4><blockquote><p><strong>容器→主机</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp 容器ID:容器内路径 目的主机路径</span><br></pre></td></tr></table></figure><p><strong>例如：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker cp 6610152993fc:/demo.txt /local/huang.txt</span><br></pre></td></tr></table></figure><h4 id="（16）导入和导出容器"><a href="#（16）导入和导出容器" class="headerlink" title="（16）导入和导出容器"></a>（16）导入和导出容器</h4><blockquote><p><strong>export 导出容器的内容留作一个 tar 归档文件[对应 import 命令]</strong></p><p><strong>import 从 tar 包中的内容创建一个新的文件系统再导入为镜像[对应 export]</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker export 容器ID &gt; 文件名.tar</span><br><span class="line">cat 文件名.tar | docker import - 镜像用户/镜像名:镜像版本号</span><br></pre></td></tr></table></figure><p><strong>例如：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">导出容器</span></span><br><span class="line">docker export 6610152993fc &gt; huang.tar</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">强制停止容器</span></span><br><span class="line">docker kill 6610152993fc</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除已停止的容器</span></span><br><span class="line">docker rm 6610152993fc</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">导入容器</span></span><br><span class="line">cat huang.tar | docker import - huang/ubuntu:1.0</span><br></pre></td></tr></table></figure><h3 id="小总结"><a href="#小总结" class="headerlink" title="小总结"></a>小总结</h3><center><strong>图片正下方还有命令</strong></center><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/13.png" alt="13"></p><table><thead><tr><th align="center">命令</th><th align="center">描述</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center"><strong>attach</strong></td><td align="center"><strong>Attach to a running container</strong></td><td align="center"><strong>当前 shell 下 attach 连接指定运行镜像</strong></td></tr><tr><td align="center"><strong>build</strong></td><td align="center"><strong>Build an image from a Dockerfile</strong></td><td align="center"><strong>通过 Dockerfile 定制镜像</strong></td></tr><tr><td align="center"><strong>commit</strong></td><td align="center"><strong>Create a new image from a container changes</strong></td><td align="center"><strong>提交当前容器为新的镜像</strong></td></tr><tr><td align="center"><strong>cp</strong></td><td align="center"><strong>Copy files&#x2F;folders from the containers filesystem to the host path</strong></td><td align="center"><strong>从容器中拷贝指定文件或者目录到宿主机中</strong></td></tr><tr><td align="center"><strong>create</strong></td><td align="center"><strong>Create a new container</strong></td><td align="center"><strong>创建一个新的容器，同 run，但不启动容器</strong></td></tr><tr><td align="center"><strong>diff</strong></td><td align="center"><strong>Inspect changes on a container’s filesystem</strong></td><td align="center"><strong>查看 docker 容器变化</strong></td></tr><tr><td align="center"><strong>events</strong></td><td align="center"><strong>Get real time events from the server</strong></td><td align="center"><strong>从 docker 服务获取容器实时事件</strong></td></tr><tr><td align="center"><strong>exec</strong></td><td align="center"><strong>Run a command in an existing container</strong></td><td align="center"><strong>在已存在的容器上运行命令</strong></td></tr><tr><td align="center"><strong>export</strong></td><td align="center"><strong>Stream the contents of a container as a tar archive</strong></td><td align="center"><strong>导出容器的内容流作为一个 tar 归档文件[对应 import ]</strong></td></tr><tr><td align="center"><strong>history</strong></td><td align="center"><strong>Show the history of an image</strong></td><td align="center"><strong>展示一个镜像形成历史</strong></td></tr><tr><td align="center"><strong>images</strong></td><td align="center"><strong>List images</strong></td><td align="center"><strong>列出系统当前镜像</strong></td></tr><tr><td align="center"><strong>import</strong></td><td align="center"><strong>Create a new filesystem image from the contents of a tarball</strong></td><td align="center"><strong>从tar包中的内容创建一个新的文件系统映像[对应export]</strong></td></tr><tr><td align="center"><strong>info</strong></td><td align="center"><strong>Display system-wide information</strong></td><td align="center"><strong>显示系统相关信息</strong></td></tr><tr><td align="center"><strong>inspect</strong></td><td align="center"><strong>Return low-level information on a container</strong></td><td align="center"><strong>查看容器详细信息</strong></td></tr><tr><td align="center"><strong>kill</strong></td><td align="center"><strong>Kill a running container</strong></td><td align="center"><strong>kill 指定 docker 容器</strong></td></tr><tr><td align="center"><strong>load</strong></td><td align="center"><strong>Load an image from a tar archive</strong></td><td align="center"><strong>从一个 tar 包中加载一个镜像[对应 save]</strong></td></tr><tr><td align="center"><strong>login</strong></td><td align="center"><strong>Register or Login to the docker registry server</strong></td><td align="center"><strong>注册或者登陆一个 docker 源服务器</strong></td></tr><tr><td align="center"><strong>logout</strong></td><td align="center"><strong>Log out from a Docker registry server</strong></td><td align="center"><strong>从当前 Docker registry 退出</strong></td></tr><tr><td align="center"><strong>logs</strong></td><td align="center"><strong>Fetch the logs of a container</strong></td><td align="center"><strong>输出当前容器日志信息</strong></td></tr><tr><td align="center"><strong>port</strong></td><td align="center"><strong>Lookup the public-facing port which is NAT-ed to PRIVATE_PORT</strong></td><td align="center"><strong>查看映射端口对应的容器内部源端口</strong></td></tr><tr><td align="center"><strong>pause</strong></td><td align="center"><strong>Pause all processes within a container</strong></td><td align="center"><strong>暂停容器</strong></td></tr><tr><td align="center"><strong>ps</strong></td><td align="center"><strong>List containers</strong></td><td align="center"><strong>列出容器列表</strong></td></tr><tr><td align="center"><strong>pull</strong></td><td align="center"><strong>Pull an image or a repository from the docker registry server</strong></td><td align="center"><strong>从docker镜像源服务器拉取指定镜像或者库镜像</strong></td></tr><tr><td align="center"><strong>push</strong></td><td align="center"><strong>Push an image or a repository to the docker registry server</strong></td><td align="center"><strong>推送指定镜像或者库镜像至docker源服务器</strong></td></tr><tr><td align="center"><strong>restart</strong></td><td align="center"><strong>Restart a running container</strong></td><td align="center"><strong>重启运行的容器</strong></td></tr><tr><td align="center"><strong>rm</strong></td><td align="center"><strong>Remove one or more containers</strong></td><td align="center"><strong>移除一个或者多个容器</strong></td></tr><tr><td align="center"><strong>rmi</strong></td><td align="center"><strong>Remove one or more images</strong></td><td align="center"><strong>移除一个或多个镜像[无容器使用该镜像才可删除，否则需删除相关容器才可继续或 -f 强制删除]</strong></td></tr><tr><td align="center"><strong>run</strong></td><td align="center"><strong>Run a command in a new container</strong></td><td align="center"><strong>创建一个新的容器并运行一个命令</strong></td></tr><tr><td align="center"><strong>save</strong></td><td align="center"><strong>Save an image to a tar archive</strong></td><td align="center"><strong>保存一个镜像为一个 tar 包[对应 load]</strong></td></tr><tr><td align="center"><strong>search</strong></td><td align="center"><strong>Search for an image on the Docker Hub</strong></td><td align="center"><strong>在 docker hub 中搜索镜像</strong></td></tr><tr><td align="center"><strong>start</strong></td><td align="center"><strong>Start a stopped containers</strong></td><td align="center"><strong>启动容器</strong></td></tr><tr><td align="center"><strong>stop</strong></td><td align="center"><strong>Stop a running containers</strong></td><td align="center"><strong>停止容器</strong></td></tr><tr><td align="center"><strong>tag</strong></td><td align="center"><strong>Tag an image into a repository</strong></td><td align="center"><strong>给源中镜像打标签</strong></td></tr><tr><td align="center"><strong>top</strong></td><td align="center"><strong>Lookup the running processes of a container</strong></td><td align="center"><strong>查看容器中运行的进程信息</strong></td></tr><tr><td align="center"><strong>unpause</strong></td><td align="center"><strong>Unpause a paused container</strong></td><td align="center"><strong>取消暂停容器</strong></td></tr><tr><td align="center"><strong>version</strong></td><td align="center"><strong>Show the docker version information</strong></td><td align="center"><strong>查看 docker 版本号</strong></td></tr><tr><td align="center"><strong>wait</strong></td><td align="center"><strong>Block until a container stops, then print its exit code</strong></td><td align="center"><strong>截取容器停止时的退出状态值</strong></td></tr></tbody></table><h2 id="Docker-镜像"><a href="#Docker-镜像" class="headerlink" title="Docker 镜像"></a>Docker 镜像</h2><h3 id="镜像是什么"><a href="#镜像是什么" class="headerlink" title="镜像是什么"></a>镜像是什么</h3><blockquote><p><strong>镜像是一种轻量级、可执行的独立软件包，它包含运行某个软件所需的所有内容，我们把应用程序和配置依赖打包好形成一个可交付的运行环境（包括代码、运行时需要的库、环境变量和配置文件等），这个打包好的运行环境就是 image 镜像文件。</strong></p><p><strong>只有通过这个镜像文件才能生成 Docker 容器实例（类似 Java 中 new 出来一个对象）。</strong></p></blockquote><h3 id="分层的镜像"><a href="#分层的镜像" class="headerlink" title="分层的镜像"></a>分层的镜像</h3><blockquote><p><strong>以我们的 pull 为例，在下载的过程中我们可以看到 docker 的镜像好像是在一层一层的在下载。</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/14.png" alt="14"></p><h3 id="UnionFS（联合文件系统）"><a href="#UnionFS（联合文件系统）" class="headerlink" title="UnionFS（联合文件系统）"></a>UnionFS（联合文件系统）</h3><blockquote><p><strong>Union文件系统（UnionFS）是一种分层、轻量级并且高性能的文件系统，它支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下（unite several directories into a single virtual filesystem）。Union 文件系统是 Docker 镜像的基础。镜像可以通过分层来进行继承，基于基础镜像（没有父镜像），可以制作各种具体的应用镜像。</strong></p></blockquote><h3 id="Docker-镜像加载原理"><a href="#Docker-镜像加载原理" class="headerlink" title="Docker 镜像加载原理"></a>Docker 镜像加载原理</h3><blockquote><p><strong>docker 的镜像实际上由一层一层的文件系统组成，这种层级的文件系统 UnionFS。</strong></p><p><strong>bootfs（boot file system）主要包含 bootloader 和 kernel，bootloader 主要是引导加载 kernel，Linux 刚启动时会加载 bootfs 文件系统，在 Docker 镜像的最底层是引导文件系统 bootfs。这一层与我们典型的 Linux&#x2F;Unix 系统是一样的，包含 boot 加载器和内核。当 boot 加载完成之后整个内核就都在内存中了，此时内存的使用权已由 bootfs 转交给内核，此时系统也会卸载 bootfs。</strong></p><p><strong>rootfs（root file system），在 bootfs 之上。包含的就是典型 Linux 系统中的 &#x2F;dev，&#x2F;proc，&#x2F;bin，&#x2F;etc 等标准目录和文件。rootfs就是各种不同的操作系统发行版，比如Ubuntu，Centos等等。</strong> </p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/15.png" alt="15"></p><blockquote><p><strong>平时我们安装进虚拟机的 CentOS 都是好几个G，为什么 docker 这里才200M？</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/16.png" alt="16"></p><blockquote><p><strong>对于一个精简的 OS，rootfs 可以很小，只需要包括最基本的命令、工具和程序库就可以了，因为底层直接用 Host 的 kernel，自己只需要提供 rootfs 就行了。由此可见对于不同的 Linux 发行版，bootfs 基本是一致的，rootfs 会有差别, 因此不同的发行版可以公用 bootfs。</strong></p></blockquote><h3 id="为什么-Docker-镜像要采用这种分层结构呢"><a href="#为什么-Docker-镜像要采用这种分层结构呢" class="headerlink" title="为什么 Docker 镜像要采用这种分层结构呢"></a>为什么 Docker 镜像要采用这种分层结构呢</h3><blockquote><p><strong>镜像分层最大的一个好处就是共享资源，方便复制迁移，就是为了复用。</strong></p><p><strong>比如说有多个镜像都从相同的 base 镜像构建而来，那么 Docker Host 只需在磁盘上保存一份 base 镜像；</strong></p><p><strong>同时内存中也只需加载一份 base 镜像，就可以为所有容器服务了。而且镜像的每一层都可以被共享。</strong></p></blockquote><h3 id="重点理解"><a href="#重点理解" class="headerlink" title="重点理解"></a>重点理解</h3><blockquote><p><strong>Docker 镜像层都是只读的，容器层是可写的</strong></p><p><strong>当容器启动时，一个新的可写层被加载到镜像的顶部。</strong></p><p><strong>这一层通常被称作“容器层”，“容器层”之下的都叫“镜像层”。</strong></p></blockquote><h3 id="Docker-镜像-commit-操作案例"><a href="#Docker-镜像-commit-操作案例" class="headerlink" title="Docker 镜像 commit 操作案例"></a>Docker 镜像 commit 操作案例</h3><p><strong>（1）从 Docker Hub 上下载 ubuntu 镜像到本地并成功运行</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">拉取镜像</span></span><br><span class="line">docker pull ubuntu</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建容器</span></span><br><span class="line">docker run -it ubuntu /bin/bash</span><br></pre></td></tr></table></figure><p><strong>（2）安装 vim 命令</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">先更新我们的包管理工具</span></span><br><span class="line">apt-get update</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后安装我们需要的 vim 命令</span></span><br><span class="line">apt-get -y install vim</span><br></pre></td></tr></table></figure><p><strong>（3）安装完成后，commit 我们自己的新镜像</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit -m=&quot;vim cmd add ok&quot; -a=&quot;huang&quot; 9b678b384d31 huang/myubuntu:1.0</span><br></pre></td></tr></table></figure><p><strong>（4）启动我们的新镜像和原来的对比</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/17.png" alt="17"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker run -it ubuntu /bin/bash</span><br><span class="line">root@6de30c5f70ac:/# vim a.txt</span><br><span class="line">bash: vim: command not found</span><br><span class="line">root@6de30c5f70ac:/# exit     </span><br><span class="line">exit</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker run -it 54ac0505e68e /bin/bash</span><br><span class="line">root@26d4c7e82170:/# vim a.txt</span><br><span class="line">root@26d4c7e82170:/# </span><br></pre></td></tr></table></figure><h3 id="小总结-1"><a href="#小总结-1" class="headerlink" title="小总结"></a>小总结</h3><blockquote><p><strong>Docker 中的镜像分层，支持通过扩展现有镜像，创建新的镜像。类似 Java 继承于一个 Base 基础类，自己再按需扩展。</strong></p><p><strong>新镜像是从 base 镜像一层一层叠加生成的。每安装一个软件，就在现有镜像的基础上增加一层。</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/18.png" alt="18"></p><h2 id="本地镜像发布到阿里云"><a href="#本地镜像发布到阿里云" class="headerlink" title="本地镜像发布到阿里云"></a>本地镜像发布到阿里云</h2><h3 id="本地镜像发布到阿里云流程"><a href="#本地镜像发布到阿里云流程" class="headerlink" title="本地镜像发布到阿里云流程"></a>本地镜像发布到阿里云流程</h3><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/19.png" alt="19"></p><h4 id="（1）创建仓库镜像"><a href="#（1）创建仓库镜像" class="headerlink" title="（1）创建仓库镜像"></a>（1）创建仓库镜像</h4><center><strong>进入到阿里云容器镜像服务页面</strong></center><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/20.png" alt="20"></p><center><strong>创建个人版实例</strong></center><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/21.png" alt="21"></p><center><strong>创建命名空间</strong></center><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/22.png" alt="22"></p><center><strong>创建仓库</strong></center><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/23.png" alt="23"></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/24.png" alt="24"></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/25.png" alt="25"></p><h4 id="（2）将本地镜像推送到阿里云"><a href="#（2）将本地镜像推送到阿里云" class="headerlink" title="（2）将本地镜像推送到阿里云"></a>（2）将本地镜像推送到阿里云</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">1. 登录阿里云Docker Registry</span></span><br><span class="line">docker login --username=枯木逢春ioi registry.cn-shenzhen.aliyuncs.com</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">2. 将镜像推送到Registry</span></span><br><span class="line">docker tag 54ac0505e68e registry.cn-shenzhen.aliyuncs.com/minami/myubuntu:1.0</span><br><span class="line">docker push registry.cn-shenzhen.aliyuncs.com/minami/myubuntu:1.0</span><br></pre></td></tr></table></figure><h3 id="从阿里云镜像仓库拉取镜像"><a href="#从阿里云镜像仓库拉取镜像" class="headerlink" title="从阿里云镜像仓库拉取镜像"></a>从阿里云镜像仓库拉取镜像</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull registry.cn-shenzhen.aliyuncs.com/minami/myubuntu:1.0</span><br></pre></td></tr></table></figure><h2 id="本地镜像发布到私有库"><a href="#本地镜像发布到私有库" class="headerlink" title="本地镜像发布到私有库"></a>本地镜像发布到私有库</h2><blockquote><p><strong>官方 Docker Hub地址：<a href="https://hub.docker.com/%EF%BC%8C%E4%B8%AD%E5%9B%BD%E5%A4%A7%E9%99%86%E8%AE%BF%E9%97%AE%E5%A4%AA%E6%85%A2%E4%BA%86%E4%B8%94%E5%87%86%E5%A4%87%E8%A2%AB%E9%98%BF%E9%87%8C%E4%BA%91%E5%8F%96%E4%BB%A3%E7%9A%84%E8%B6%8B%E5%8A%BF%EF%BC%8C%E4%B8%8D%E5%A4%AA%E4%B8%BB%E6%B5%81%E3%80%82">https://hub.docker.com/，中国大陆访问太慢了且准备被阿里云取代的趋势，不太主流。</a></strong></p><p><strong>Dockerhub、阿里云这样的公共镜像仓库可能不太方便，涉及机密的公司不可能提供镜像给公网，所以需要创建一个本地私人仓库供给团队使用，基于公司内部项目构建镜像。</strong></p><p><strong>Docker Registry 是官方提供的工具，可以用于构建私有镜像仓库</strong></p></blockquote><h3 id="将本地镜像推送到私有库"><a href="#将本地镜像推送到私有库" class="headerlink" title="将本地镜像推送到私有库"></a>将本地镜像推送到私有库</h3><h4 id="1、下载镜像-Docker-Registry"><a href="#1、下载镜像-Docker-Registry" class="headerlink" title="1、下载镜像 Docker Registry"></a>1、下载镜像 Docker Registry</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull registry</span><br></pre></td></tr></table></figure><h4 id="2、运行私有库-Registry，相当于本地有个私有-Docker-hub"><a href="#2、运行私有库-Registry，相当于本地有个私有-Docker-hub" class="headerlink" title="2、运行私有库 Registry，相当于本地有个私有 Docker hub"></a>2、运行私有库 Registry，相当于本地有个私有 Docker hub</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 5000:5000  -v /huang/myregistry/:/tmp/registry --privileged=true registry</span><br></pre></td></tr></table></figure><blockquote><p><strong>默认情况，仓库被创建在容器的<code>/var/lib/registry</code>目录下，建议自行用容器卷映射，方便于宿主机联调。</strong></p></blockquote><h4 id="3、案例演示创建一个新镜像，ubuntu-安装-ifconfig-命令"><a href="#3、案例演示创建一个新镜像，ubuntu-安装-ifconfig-命令" class="headerlink" title="3、案例演示创建一个新镜像，ubuntu 安装 ifconfig 命令"></a>3、案例演示创建一个新镜像，ubuntu 安装 ifconfig 命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">先更新我们的包管理工具</span></span><br><span class="line">apt-get update</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">然后安装我们需要的 vim 命令</span></span><br><span class="line">apt-get -y install net-tools</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装完成后，commit 我们自己的新镜像</span></span><br><span class="line">docker commit -m=&quot;ifconfig cmd add&quot; -a=&quot;huang&quot; 5a565940abde huangubuntu:2.0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">运行刚刚 commit 的镜像</span></span><br><span class="line">docker run -it 5185f9b2130c /bin/bash</span><br></pre></td></tr></table></figure><h4 id="4、curl-验证私服库上有什么镜像"><a href="#4、curl-验证私服库上有什么镜像" class="headerlink" title="4、curl 验证私服库上有什么镜像"></a>4、curl 验证私服库上有什么镜像</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -XGET http://120.78.11.141:5000/v2/_catalog</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：这里需要到阿里云安全组里开放 5000 端口。</strong></p></blockquote><h4 id="5、将新镜像-huangubuntu2-0-修改符合私服规范的-Tag"><a href="#5、将新镜像-huangubuntu2-0-修改符合私服规范的-Tag" class="headerlink" title="5、将新镜像 huangubuntu2.0 修改符合私服规范的 Tag"></a>5、将新镜像 huangubuntu2.0 修改符合私服规范的 Tag</h4><blockquote><p><strong>按照公式：<code>docker tag 镜像:Tag Host:Port/Repository:Tag</code></strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker tag huangubuntu:2.0 120.78.11.141:5000/huangubuntu:2.0</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker images</span><br><span class="line">REPOSITORY                                          TAG       IMAGE ID       CREATED             SIZE</span><br><span class="line">120.78.11.141:5000/huangubuntu                      2.0       5185f9b2130c   11 minutes ago      109MB</span><br><span class="line">huangubuntu                                         2.0       5185f9b2130c   11 minutes ago      109MB</span><br><span class="line">registry.cn-shenzhen.aliyuncs.com/minami/myubuntu   1.0       54ac0505e68e   About an hour ago   176MB</span><br><span class="line">registry                                            latest    b8604a3fe854   5 months ago        26.2MB</span><br><span class="line">ubuntu                                              latest    ba6acccedd29   6 months ago        72.8MB</span><br></pre></td></tr></table></figure><h4 id="6、修改配置文件使之支持-http"><a href="#6、修改配置文件使之支持-http" class="headerlink" title="6、修改配置文件使之支持 http"></a>6、修改配置文件使之支持 http</h4><p><strong>vim命令新增如下红色内容：<code>vim /etc/docker/daemon.json</code></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;insecure-registries&quot;: [&quot;120.78.11.141:5000&quot;]</span><br></pre></td></tr></table></figure><p><strong>添加后的完整文件内容如下：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://w0ycug45.mirror.aliyuncs.com&quot;]，</span><br><span class="line">  &quot;insecure-registries&quot;: [&quot;120.78.11.141:5000&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>别无脑照着复制，registry-mirrors 配置的是国内阿里提供的镜像加速地址，不用加速的话访问官网的会很慢。</strong><br><strong>2个配置中间有个逗号 ‘,’别漏了，这个配置是 json 格式的。</strong><br><strong>2个配置中间有个逗号 ‘,’别漏了，这个配置是 json 格式的。</strong><br><strong>2个配置中间有个逗号 ‘,’别漏了，这个配置是 json 格式的。</strong></p><p><strong>上述理由：docker 默认不允许 http 方式推送镜像，通过配置选项来取消这个限制。&#x3D;&#x3D;&#x3D;&#x3D;&gt; 修改完后如果不生效，建议重启docker</strong></p></blockquote><h4 id="7、push-推送到私服库"><a href="#7、push-推送到私服库" class="headerlink" title="7、push 推送到私服库"></a>7、push 推送到私服库</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启 Docker</span></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# systemctl restart docker</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">运行私有仓库</span></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker run -d -p 5000:5000  -v /huang/myregistry/:/tmp/registry --privileged=true registry</span><br><span class="line">2de0c3f7eab806a6b8faa91abcfa44d7ba8073d58664734e897506719187c125</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">推送</span></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker push 120.78.11.141:5000/huangubuntu:2.0</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="8、curl-验证私服库上有什么镜像"><a href="#8、curl-验证私服库上有什么镜像" class="headerlink" title="8、curl 验证私服库上有什么镜像"></a>8、curl 验证私服库上有什么镜像</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# curl -XGET http://120.78.11.141:5000/v2/_catalog</span><br><span class="line">&#123;&quot;repositories&quot;:[&quot;huangubuntu&quot;]&#125;</span><br></pre></td></tr></table></figure><h4 id="9、pull-到本地并运行"><a href="#9、pull-到本地并运行" class="headerlink" title="9、pull 到本地并运行"></a>9、pull 到本地并运行</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker rmi -f 120.78.11.141:5000/huangubuntu:2.0</span><br><span class="line">Untagged: 120.78.11.141:5000/huangubuntu:2.0</span><br><span class="line">Untagged: 120.78.11.141:5000/huangubuntu@sha256:e8a2f670d94dfbbc97e1c1c2b9ba5d36b85e96e5b8818dc03af6c9fa8791cce6</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker pull 120.78.11.141:5000/huangubuntu:2.0</span><br><span class="line">2.0: Pulling from huangubuntu</span><br><span class="line">7b1a6ab2e44d: Already exists </span><br><span class="line">a4efec4ddfa0: Already exists </span><br><span class="line">Digest: sha256:e8a2f670d94dfbbc97e1c1c2b9ba5d36b85e96e5b8818dc03af6c9fa8791cce6</span><br><span class="line">Status: Downloaded newer image for 120.78.11.141:5000/huangubuntu:2.0</span><br><span class="line">120.78.11.141:5000/huangubuntu:2.0</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker images</span><br><span class="line">REPOSITORY                                          TAG       IMAGE ID       CREATED          SIZE</span><br><span class="line">120.78.11.141:5000/huangubuntu                      2.0       5185f9b2130c   39 minutes ago   109MB</span><br><span class="line">registry.cn-shenzhen.aliyuncs.com/minami/myubuntu   1.0       54ac0505e68e   2 hours ago      176MB</span><br><span class="line">registry                                            latest    b8604a3fe854   5 months ago     26.2MB</span><br><span class="line">ubuntu                                              latest    ba6acccedd29   6 months ago     72.8MB</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# docker run -it 5185f9b2130c /bin/bash</span><br><span class="line"></span><br><span class="line">root@edc01cd7addd:/# ifconfig</span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 172.17.0.3  netmask 255.255.0.0  broadcast 172.17.255.255</span><br><span class="line">        ether 02:42:ac:11:00:03  txqueuelen 0  (Ethernet)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 0  bytes 0 (0.0 B)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br></pre></td></tr></table></figure><h2 id="Docker-容器数据卷"><a href="#Docker-容器数据卷" class="headerlink" title="Docker 容器数据卷"></a>Docker 容器数据卷</h2><h3 id="踩坑"><a href="#踩坑" class="headerlink" title="踩坑"></a>踩坑</h3><blockquote><p><strong>容器卷记得加入：<code>privileged=true</code></strong></p><p><strong>原因：</strong></p><p><strong>Docker 挂载主机目录访问如果出现cannot open directory .: Permission denied</strong></p><p><strong>解决办法：在挂载目录后多加一个<code>--privileged=true</code>参数即可</strong></p><p><strong>如果是 CentOS7 安全模块会比之前系统版本加强，不安全的会先禁止，所以目录挂载的情况被默认为不安全的行为，在SELinux里面挂载目录被禁止掉了额，如果要开启，我们一般使用–privileged&#x3D;true命令，扩大容器的权限解决挂载目录没有权限的问题，也即使用该参数，container 内的 root 拥有真正的 root 权限，否则，container 内的 root 只是外部的一个普通用户权限。</strong></p></blockquote><h3 id="Docker-容器数据卷是什么"><a href="#Docker-容器数据卷是什么" class="headerlink" title="Docker 容器数据卷是什么"></a>Docker 容器数据卷是什么</h3><blockquote><p><strong>一句话：有点类似我们 Redis 里面的 RDB 和 AOF 文件。</strong></p><p><strong>将 Docker 容器内的数据保存进宿主机的磁盘中.</strong></p></blockquote><h3 id="运行一个带有容器卷存储功能的容器实例"><a href="#运行一个带有容器卷存储功能的容器实例" class="headerlink" title="运行一个带有容器卷存储功能的容器实例"></a>运行一个带有容器卷存储功能的容器实例</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --privileged=true -v/宿主机的绝对路径目录:/容器内目录 镜像名</span><br></pre></td></tr></table></figure><h3 id="Docker-容器数据卷能干什么"><a href="#Docker-容器数据卷能干什么" class="headerlink" title="Docker 容器数据卷能干什么"></a>Docker 容器数据卷能干什么</h3><blockquote><p><strong>将运用与运行的环境打包镜像，run 后形成容器实例运行 ，但是我们对数据的要求希望是持久化的。</strong></p><p><strong>Docker 容器产生的数据，如果不备份，那么当容器实例删除后，容器内的数据自然也就没有了。</strong></p><p><strong>为了能保存数据在 docker 中我们使用卷。</strong></p><hr><p><strong>特点：</strong></p><p><strong>1：数据卷可在容器之间共享或重用数据。</strong></p><p><strong>2：卷中的更改可以直接实时生效，爽</strong>。</p><p><strong>3：数据卷中的更改不会包含在镜像的更新中。</strong></p><p><strong>4：数据卷的生命周期一直持续到没有容器使用它为止</strong>。</p></blockquote><h3 id="容器数据卷案例"><a href="#容器数据卷案例" class="headerlink" title="容器数据卷案例"></a>容器数据卷案例</h3><h4 id="1、宿主-VS-容器之间映射添加容器卷"><a href="#1、宿主-VS-容器之间映射添加容器卷" class="headerlink" title="1、宿主 VS 容器之间映射添加容器卷"></a>1、宿主 VS 容器之间映射添加容器卷</h4><h5 id="（1）直接命令添加"><a href="#（1）直接命令添加" class="headerlink" title="（1）直接命令添加"></a>（1）直接命令添加</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --privileged=true -v/tmp/host_data:/tmp/docker_data --name=u1 ubuntu</span><br></pre></td></tr></table></figure><h5 id="（2）查看数据卷是否挂载成功"><a href="#（2）查看数据卷是否挂载成功" class="headerlink" title="（2）查看数据卷是否挂载成功"></a>（2）查看数据卷是否挂载成功</h5><blockquote><p><strong>命令：<code>docker inspect 容器ID</code></strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/26.png" alt="26"></p><h5 id="（3）容器和宿主机之间数据共享"><a href="#（3）容器和宿主机之间数据共享" class="headerlink" title="（3）容器和宿主机之间数据共享"></a>（3）容器和宿主机之间数据共享</h5><blockquote><p><strong>1、docker 修改，主机同步获得</strong> </p><p><strong>2、主机修改，docker 同步获得</strong></p><p><strong>3、docker 容器 stop，主机修改，docker 容器重启看数据是否同步。</strong></p></blockquote><h4 id="2、读写规则映射添加说明"><a href="#2、读写规则映射添加说明" class="headerlink" title="2、读写规则映射添加说明"></a>2、读写规则映射添加说明</h4><h5 id="读写（默认）"><a href="#读写（默认）" class="headerlink" title="读写（默认）"></a>读写（默认）</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --privileged=true -v/宿主机的绝对路径目录:/容器内目录 镜像名</span><br></pre></td></tr></table></figure><blockquote><p><strong>默认同上案例，默认就是 rw。</strong></p></blockquote><h5 id="只读"><a href="#只读" class="headerlink" title="只读"></a>只读</h5><blockquote><p><strong>容器实例内部被限制，只能读取（read only）不能写。</strong></p><p><strong>&#x2F;容器目录:ro 镜像名               就能完成功能，此时容器自己只能读取不能写</strong>  </p><p><strong>ro &#x3D; read only</strong></p><p><strong>此时如果宿主机写入内容，可以同步给容器内，容器可以读取到。</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --privileged=true -v/宿主机的绝对路径目录:/容器内目录:ro 镜像名</span><br></pre></td></tr></table></figure><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/27.png" alt="27"></p><h4 id="3、卷的继承和共享"><a href="#3、卷的继承和共享" class="headerlink" title="3、卷的继承和共享"></a>3、卷的继承和共享</h4><h5 id="（1）容器1完成和宿主机的映射"><a href="#（1）容器1完成和宿主机的映射" class="headerlink" title="（1）容器1完成和宿主机的映射"></a>（1）容器1完成和宿主机的映射</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it  --privileged=true -v /mydocker/u:/tmp --name u1 ubuntu</span><br></pre></td></tr></table></figure><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/28.png" alt="28"></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/29.png" alt="29"></p><h5 id="（2）容器2继承容器1的卷规则"><a href="#（2）容器2继承容器1的卷规则" class="headerlink" title="（2）容器2继承容器1的卷规则"></a>（2）容器2继承容器1的卷规则</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --privileged=true --volumes-from 父类 --name u2 ubuntu</span><br></pre></td></tr></table></figure><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/30.png" alt="30"></p><h2 id="Docker-常规安装简介"><a href="#Docker-常规安装简介" class="headerlink" title="Docker 常规安装简介"></a>Docker 常规安装简介</h2><h3 id="总体步骤"><a href="#总体步骤" class="headerlink" title="总体步骤"></a>总体步骤</h3><h4 id="（1）搜索镜像"><a href="#（1）搜索镜像" class="headerlink" title="（1）搜索镜像"></a><strong>（1）搜索镜像</strong></h4><h4 id="（2）拉取镜像"><a href="#（2）拉取镜像" class="headerlink" title="（2）拉取镜像"></a><strong>（2）拉取镜像</strong></h4><h4 id="（3）查看镜像"><a href="#（3）查看镜像" class="headerlink" title="（3）查看镜像"></a><strong>（3）查看镜像</strong></h4><h4 id="（4）启动镜像（服务端口映射）"><a href="#（4）启动镜像（服务端口映射）" class="headerlink" title="（4）启动镜像（服务端口映射）"></a>（4）启动镜像（服务端口映射）</h4><h4 id="（5）停止容器"><a href="#（5）停止容器" class="headerlink" title="（5）停止容器"></a><strong>（5）停止容器</strong></h4><h4 id="（6）移除容器"><a href="#（6）移除容器" class="headerlink" title="（6）移除容器"></a><strong>（6）移除容器</strong></h4><h3 id="Tomcat-安装"><a href="#Tomcat-安装" class="headerlink" title="Tomcat 安装"></a>Tomcat 安装</h3><h4 id="（1）Docker-hub-上面查找-Tomcat-镜像"><a href="#（1）Docker-hub-上面查找-Tomcat-镜像" class="headerlink" title="（1）Docker hub 上面查找 Tomcat 镜像"></a>（1）Docker hub 上面查找 Tomcat 镜像</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search tomcat</span><br></pre></td></tr></table></figure><h4 id="（2）从-Docker-hub-上拉取-Tomcat-镜像到本地"><a href="#（2）从-Docker-hub-上拉取-Tomcat-镜像到本地" class="headerlink" title="（2）从 Docker hub 上拉取 Tomcat 镜像到本地"></a>（2）从 Docker hub 上拉取 Tomcat 镜像到本地</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull tomcat</span><br></pre></td></tr></table></figure><h4 id="（3）docker-images-查看是否有拉取到-Tomcat"><a href="#（3）docker-images-查看是否有拉取到-Tomcat" class="headerlink" title="（3）docker images 查看是否有拉取到 Tomcat"></a>（3）docker images 查看是否有拉取到 Tomcat</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h4 id="（4）使用-Tomcat-镜像创建容器实例（也叫运行镜像）"><a href="#（4）使用-Tomcat-镜像创建容器实例（也叫运行镜像）" class="headerlink" title="（4）使用 Tomcat 镜像创建容器实例（也叫运行镜像）"></a>（4）使用 Tomcat 镜像创建容器实例（也叫运行镜像）</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 8080:8080 --name t1 tomcat</span><br></pre></td></tr></table></figure><p><strong>解决新版 Tomcat 问题：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入到容器内部</span></span><br><span class="line">docker exec -it 2ae389b9976a /bin/bash</span><br></pre></td></tr></table></figure><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/31.png" alt="31"></p><h4 id="（5）访问-Tomcat-首页"><a href="#（5）访问-Tomcat-首页" class="headerlink" title="（5）访问 Tomcat 首页"></a>（5）访问 Tomcat 首页</h4><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/32.png" alt="32"></p><h4 id="（6）免修改版说明"><a href="#（6）免修改版说明" class="headerlink" title="（6）免修改版说明"></a>（6）免修改版说明</h4><blockquote><p><strong>只需要下载低版本的 Tomcat 即可。</strong></p></blockquote><h3 id="Mysql-安装"><a href="#Mysql-安装" class="headerlink" title="Mysql 安装"></a>Mysql 安装</h3><h4 id="（1）Docker-hub-上面查找-MySQL-镜像"><a href="#（1）Docker-hub-上面查找-MySQL-镜像" class="headerlink" title="（1）Docker hub 上面查找 MySQL 镜像"></a>（1）Docker hub 上面查找 MySQL 镜像</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search mysql</span><br></pre></td></tr></table></figure><h4 id="（2）从-Docker-hub-上（阿里云加速器）拉取-MySQL-镜像到本地标签为5-7"><a href="#（2）从-Docker-hub-上（阿里云加速器）拉取-MySQL-镜像到本地标签为5-7" class="headerlink" title="（2）从 Docker hub 上（阿里云加速器）拉取 MySQL 镜像到本地标签为5.7"></a>（2）从 Docker hub 上（阿里云加速器）拉取 MySQL 镜像到本地标签为5.7</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:5.7</span><br></pre></td></tr></table></figure><h4 id="（3）使用-MySQL5-7-镜像创建容器（也叫运行镜像）"><a href="#（3）使用-MySQL5-7-镜像创建容器（也叫运行镜像）" class="headerlink" title="（3）使用 MySQL5.7 镜像创建容器（也叫运行镜像）"></a>（3）使用 MySQL5.7 镜像创建容器（也叫运行镜像）</h4><h5 id="简单版"><a href="#简单版" class="headerlink" title="简单版"></a>简单版</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建 MySQL 容器</span></span><br><span class="line">docker run -p 3306:3306 -e MYSQL_ROOT_PASSWORD=123456 -d mysql:5.7</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检测是否创建成功</span></span><br><span class="line">docker ps</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入到容器里面</span></span><br><span class="line">docker exec -it 92f2ee78e06f /bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">连接 MySQL</span></span><br><span class="line">mysql -uroot -p123456</span><br></pre></td></tr></table></figure><blockquote><p><strong>问题1： Docker 上默认字符集编码隐患</strong></p><p><strong>docker里面的mysql容器实例查看，内容如下：</strong></p><p><strong>mysql&gt;  SHOW VARIABLES LIKE ‘character%’;</strong><br><strong>+————————–+—————————-+</strong><br><strong>| Variable_name            | Value                      |</strong><br><strong>+————————–+—————————-+</strong><br><strong>| character_set_client     | latin1                     |</strong><br><strong>| character_set_connection | latin1                     |</strong><br><strong>| character_set_database   | latin1                     |</strong><br><strong>| character_set_filesystem | binary                     |</strong><br><strong>| character_set_results    | latin1                     |</strong><br><strong>| character_set_server     | latin1                     |</strong><br><strong>| character_set_system     | utf8                       |</strong><br><strong>| character_sets_dir       | &#x2F;usr&#x2F;share&#x2F;mysql&#x2F;charsets&#x2F; |</strong><br><strong>+————————–+—————————-+</strong><br><strong>8 rows in set (0.00 sec)</strong></p><p><strong>问题2：删除容器后，里面的 MySQL 数据怎么办？容器实例一删除，你还有什么？删容器到跑路。</strong></p></blockquote><h5 id="实战版"><a href="#实战版" class="headerlink" title="实战版"></a>实战版</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">新增 MySQL 容器实例</span></span><br><span class="line">docker run -d -p 3306:3306 --privileged=true -v /huang/mysql/log:/var/log/mysql -v /huang/mysql/data:/var/lib/mysql -v /huang/mysql/conf:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=123456  --name mysql mysql:5.7</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">新建 my.cnf 通过容器卷同步给 MySQL 实例</span></span><br><span class="line">cd /huang/mysql/conf/</span><br><span class="line">vim my.cnf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加以下内容</span></span><br><span class="line">[client]</span><br><span class="line">default_character_set=utf8</span><br><span class="line">[mysqld]</span><br><span class="line">collation_server = utf8_general_ci</span><br><span class="line">character_set_server = utf8</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看是否添加成功</span></span><br><span class="line">cat my.cnf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启 MySQL 实例</span></span><br><span class="line">docker restart mysql</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重新进入容器</span></span><br><span class="line">docker exec -it mysql /bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">连接 MySQL</span></span><br><span class="line">mysql -uroot -p123456</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">再次查看字符集编码</span></span><br><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">SHOW VARIABLES LIKE <span class="string">&#x27;character%&#x27;</span>;</span></span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name            | Value                      |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client     | utf8                       |</span><br><span class="line">| character_set_connection | utf8                       |</span><br><span class="line">| character_set_database   | utf8                       |</span><br><span class="line">| character_set_filesystem | binary                     |</span><br><span class="line">| character_set_results    | utf8                       |</span><br><span class="line">| character_set_server     | utf8                       |</span><br><span class="line">| character_set_system     | utf8                       |</span><br><span class="line">| character_sets_dir       | /usr/share/mysql/charsets/ |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h4><blockquote><p><strong>前的DB  无效</strong></p><p><strong>修改字符集操作+重启mysql容器实例</strong></p><p><strong>之后的DB  有效，需要新建</strong></p><p><strong>结论：docker 安装完 MySQL 并 run 出容器后，建议请先修改完字符集编码后再新建 mysql 库-表-插数据</strong></p></blockquote><h3 id="Redis-安装"><a href="#Redis-安装" class="headerlink" title="Redis 安装"></a>Redis 安装</h3><h4 id="（1）从-Docker-hub（阿里云加速器）拉取-Redis-镜像到本地标签为6-2-6"><a href="#（1）从-Docker-hub（阿里云加速器）拉取-Redis-镜像到本地标签为6-2-6" class="headerlink" title="（1）从 Docker hub（阿里云加速器）拉取 Redis 镜像到本地标签为6.2.6"></a>（1）从 Docker hub（阿里云加速器）拉取 Redis 镜像到本地标签为6.2.6</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis:6.2.6</span><br></pre></td></tr></table></figure><h4 id="（2）再-Centros-宿主机下新建目录-x2F-app-x2F-redis"><a href="#（2）再-Centros-宿主机下新建目录-x2F-app-x2F-redis" class="headerlink" title="（2）再 Centros 宿主机下新建目录&#x2F;app&#x2F;redis"></a>（2）再 Centros 宿主机下新建目录&#x2F;app&#x2F;redis</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /app/redis</span><br></pre></td></tr></table></figure><h4 id="（3）将一个-Redis-conf-文件模板拷贝进-x2F-app-x2F-redis目录下"><a href="#（3）将一个-Redis-conf-文件模板拷贝进-x2F-app-x2F-redis目录下" class="headerlink" title="（3）将一个 Redis.conf 文件模板拷贝进&#x2F;app&#x2F;redis目录下"></a>（3）将一个 Redis.conf 文件模板拷贝进&#x2F;app&#x2F;redis目录下</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /redis/redis-6.2.6/redis.conf /app/redis/</span><br></pre></td></tr></table></figure><h4 id="（4）修改-redis-conf-文件"><a href="#（4）修改-redis-conf-文件" class="headerlink" title="（4）修改 redis.conf 文件"></a>（4）修改 redis.conf 文件</h4><blockquote><p><strong>开启 redis 验证    可选</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">requirepass foobared</span></span><br></pre></td></tr></table></figure><blockquote><p> <strong>注释掉</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="built_in">bind</span> 127.0.0.1 -::1</span></span><br></pre></td></tr></table></figure><blockquote><p> <strong>将 daemonize yes 注释起来或者 daemonize no设置，因为该配置和docker run 中- d 参数冲突，会导致容器一直启动失败</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">daemonize no</span><br></pre></td></tr></table></figure><blockquote><p><strong>开启redis数据持久化  appendonly yes  可选</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">appendonly no</span><br></pre></td></tr></table></figure><h4 id="（5）使用-Redis6-2-6-镜像创建容器（也叫运行镜像）"><a href="#（5）使用-Redis6-2-6-镜像创建容器（也叫运行镜像）" class="headerlink" title="（5）使用 Redis6.2.6 镜像创建容器（也叫运行镜像）"></a>（5）使用 Redis6.2.6 镜像创建容器（也叫运行镜像）</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run  -p 6379:6379 --name myr3 --privileged=true -v /app/redis/redis.conf:/etc/redis/redis.conf -v /app/redis/data:/data -d redis:6.2.6 redis-server /etc/redis/redis.conf</span><br></pre></td></tr></table></figure><h4 id="（6）测试"><a href="#（6）测试" class="headerlink" title="（6）测试"></a>（6）测试</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看容器是否创建成功</span></span><br><span class="line">docker ps -a</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器内部测试 redis 命令</span></span><br><span class="line">docker exec -it myr3 /bin/bash</span><br><span class="line"></span><br><span class="line">redis-cli</span><br><span class="line"></span><br><span class="line">set k1 v1</span><br><span class="line"></span><br><span class="line">get k1</span><br></pre></td></tr></table></figure><h4 id="（7）证明-Docker-启动使用了我们自己指定的配置文件"><a href="#（7）证明-Docker-启动使用了我们自己指定的配置文件" class="headerlink" title="（7）证明 Docker 启动使用了我们自己指定的配置文件"></a>（7）证明 Docker 启动使用了我们自己指定的配置文件</h4><blockquote><p><strong>修改宿主机下&#x2F;app&#x2F;redis里的 redis.conf 文件，修改 databases 10</strong></p></blockquote><h4 id="（8）测试"><a href="#（8）测试" class="headerlink" title="（8）测试"></a>（8）测试</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启容器</span></span><br><span class="line">docker restart myr3</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看启动成功没有</span></span><br><span class="line">docker ps</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入容器</span></span><br><span class="line">docker exec -it myr3 /bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">连接 redis</span></span><br><span class="line">redis-cli</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">测试命令</span></span><br><span class="line">127.0.0.1:6379&gt; select 15</span><br><span class="line">(error) ERR DB index is out of range</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">说明 Docker 启动使用了我们自己指定的配置文件</span></span><br></pre></td></tr></table></figure><h1><center>高级篇</center></h1><h2 id="Docker-复制安装详说"><a href="#Docker-复制安装详说" class="headerlink" title="Docker 复制安装详说"></a>Docker 复制安装详说</h2><h3 id="MySQL-主从搭建"><a href="#MySQL-主从搭建" class="headerlink" title="MySQL 主从搭建"></a>MySQL 主从搭建</h3><h4 id="（1）新建主服务器容器实例-3307"><a href="#（1）新建主服务器容器实例-3307" class="headerlink" title="（1）新建主服务器容器实例 3307"></a>（1）新建主服务器容器实例 3307</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从 Docker hub 上拉取镜像</span></span><br><span class="line">docker pull mysql:5.7</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">新建容器实例</span></span><br><span class="line">docker run -p 3307:3306 --name mysql-master \</span><br><span class="line">-v /mydata/mysql-master/log:/var/log/mysql \</span><br><span class="line">-v /mydata/mysql-master/data:/var/lib/mysql \</span><br><span class="line">-v /mydata/mysql-master/conf:/etc/mysql \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=root \</span><br><span class="line">-d mysql:5.7</span><br></pre></td></tr></table></figure><h4 id="（2）进入-x2F-mydata-x2F-mysql-master-x2F-conf目录下新建my-cnf"><a href="#（2）进入-x2F-mydata-x2F-mysql-master-x2F-conf目录下新建my-cnf" class="headerlink" title="（2）进入&#x2F;mydata&#x2F;mysql-master&#x2F;conf目录下新建my.cnf"></a>（2）进入&#x2F;mydata&#x2F;mysql-master&#x2F;conf目录下新建my.cnf</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cd /mydata/mysql-master/conf</span><br><span class="line"></span><br><span class="line">vim my.cnf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加以下内容</span></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 设置server_id，同一局域网中需要唯一</span></span></span><br><span class="line">server_id=101 </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 指定不需要同步的数据库名称</span></span></span><br><span class="line">binlog-ignore-db=mysql  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 开启二进制日志功能</span></span></span><br><span class="line">log-bin=mall-mysql-bin  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 设置二进制日志使用内存大小（事务）</span></span></span><br><span class="line">binlog_cache_size=1M  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 设置使用的二进制日志格式（mixed,statement,row）</span></span></span><br><span class="line">binlog_format=mixed  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 二进制日志过期清理时间。默认值为0，表示不自动清理。</span></span></span><br><span class="line">expire_logs_days=7  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 跳过主从复制中遇到的所有错误或指定类型的错误，避免slave端复制中断。</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 如：1062错误是指一些主键重复，1032错误是因为主从数据库数据不一致</span></span></span><br><span class="line">slave_skip_errors=1062</span><br></pre></td></tr></table></figure><h4 id="（3）修改完配置后重启-master-实例"><a href="#（3）修改完配置后重启-master-实例" class="headerlink" title="（3）修改完配置后重启 master 实例"></a>（3）修改完配置后重启 master 实例</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart mysql-master</span><br></pre></td></tr></table></figure><h4 id="（4）进入-mysql-master-容器"><a href="#（4）进入-mysql-master-容器" class="headerlink" title="（4）进入 mysql-master 容器"></a>（4）进入 mysql-master 容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动容器</span></span><br><span class="line">docker exec -it mysql-master /bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">连接 MySQL 密码为 root</span></span><br><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><h4 id="（5）master-容器实例内创建数据同步用户"><a href="#（5）master-容器实例内创建数据同步用户" class="headerlink" title="（5）master 容器实例内创建数据同步用户"></a>（5）master 容器实例内创建数据同步用户</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE USER &#x27;slave&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;;</span><br><span class="line"></span><br><span class="line">GRANT REPLICATION SLAVE,REPLICATION CLIENT ON *.* TO &#x27;slave&#x27;@&#x27;%&#x27;;</span><br></pre></td></tr></table></figure><h4 id="（6）新建从服务器实例-3308"><a href="#（6）新建从服务器实例-3308" class="headerlink" title="（6）新建从服务器实例 3308"></a>（6）新建从服务器实例 3308</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 3308:3306 --name mysql-slave \</span><br><span class="line">-v /mydata/mysql-slave/log:/var/log/mysql \</span><br><span class="line">-v /mydata/mysql-slave/data:/var/lib/mysql \</span><br><span class="line">-v /mydata/mysql-slave/conf:/etc/mysql \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=root  \</span><br><span class="line">-d mysql:5.7</span><br></pre></td></tr></table></figure><h4 id="（7）进入-x2F-mydata-x2F-mysql-slave-x2F-conf目录下新建my-cnf"><a href="#（7）进入-x2F-mydata-x2F-mysql-slave-x2F-conf目录下新建my-cnf" class="headerlink" title="（7）进入&#x2F;mydata&#x2F;mysql-slave&#x2F;conf目录下新建my.cnf"></a>（7）进入&#x2F;mydata&#x2F;mysql-slave&#x2F;conf目录下新建my.cnf</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">cd /mydata/mysql-slave/conf</span><br><span class="line"></span><br><span class="line">vim my.cnf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加以下内容</span></span><br><span class="line">[mysqld]</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 设置server_id，同一局域网中需要唯一</span></span></span><br><span class="line">server_id=102</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 指定不需要同步的数据库名称</span></span></span><br><span class="line">binlog-ignore-db=mysql  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 开启二进制日志功能，以备Slave作为其它数据库实例的Master时使用</span></span></span><br><span class="line">log-bin=mall-mysql-slave1-bin  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 设置二进制日志使用内存大小（事务）</span></span></span><br><span class="line">binlog_cache_size=1M  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 设置使用的二进制日志格式（mixed,statement,row）</span></span></span><br><span class="line">binlog_format=mixed  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 二进制日志过期清理时间。默认值为0，表示不自动清理。</span></span></span><br><span class="line">expire_logs_days=7  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 跳过主从复制中遇到的所有错误或指定类型的错误，避免slave端复制中断。</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 如：1062错误是指一些主键重复，1032错误是因为主从数据库数据不一致</span></span></span><br><span class="line">slave_skip_errors=1062  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># relay_log配置中继日志</span></span></span><br><span class="line">relay_log=mall-mysql-relay-bin  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># log_slave_updates表示slave将复制事件写进自己的二进制日志</span></span></span><br><span class="line">log_slave_updates=1  </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># slave设置为只读（具有super权限的用户除外）</span></span></span><br><span class="line">read_only=1</span><br></pre></td></tr></table></figure><h4 id="（8）修改完配置后重启-slave-实例"><a href="#（8）修改完配置后重启-slave-实例" class="headerlink" title="（8）修改完配置后重启 slave 实例"></a>（8）修改完配置后重启 slave 实例</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart mysql-slave</span><br></pre></td></tr></table></figure><h4 id="（9）在主数据库中查看主从同步状态"><a href="#（9）在主数据库中查看主从同步状态" class="headerlink" title="（9）在主数据库中查看主从同步状态"></a>（9）在主数据库中查看主从同步状态</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show master status;</span><br><span class="line">+-----------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| File                  | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+-----------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| mall-mysql-bin.000001 |      617 |              | mysql            |                   |</span><br><span class="line">+-----------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><h4 id="（10）进入mysql-slave容器"><a href="#（10）进入mysql-slave容器" class="headerlink" title="（10）进入mysql-slave容器"></a>（10）进入mysql-slave容器</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">启动容器</span></span><br><span class="line">docker exec -it mysql-slave /bin/bash</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">连接 MySQL 密码为 root</span></span><br><span class="line">mysql -uroot -p</span><br></pre></td></tr></table></figure><h4 id="（11）在从数据库中配置主从复制"><a href="#（11）在从数据库中配置主从复制" class="headerlink" title="（11）在从数据库中配置主从复制"></a>（11）在从数据库中配置主从复制</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">change master to master_host=&#x27;宿主机ip&#x27;, master_user=&#x27;slave&#x27;, master_password=&#x27;123456&#x27;, master_port=3307, master_log_file=&#x27;mall-mysql-bin.000001&#x27;, master_log_pos=617, master_connect_retry=30;</span><br></pre></td></tr></table></figure><blockquote><p><strong>主从复制命令参数说明：</strong></p><p><strong>master_host：主数据库的IP地址；</strong></p><p><strong>master_port：主数据库的运行端口；</strong></p><p><strong>master_user：在主数据库创建的用于同步数据的用户账号；</strong></p><p><strong>master_password：在主数据库创建的用于同步数据的用户密码；</strong></p><p><strong>master_log_file：指定从数据库要复制数据的日志文件，通过查看主数据的状态，获取File参数；</strong></p><p><strong>master_log_pos：指定从数据库从哪个位置开始复制数据，通过查看主数据的状态，获取Position参数；</strong></p><p><strong>master_connect_retry：连接失败重试的时间间隔，单位为秒。</strong></p></blockquote><p><strong>最终执行命令为：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">change master to master_host=&#x27;120.78.11.141&#x27;, master_user=&#x27;slave&#x27;, master_password=&#x27;123456&#x27;, master_port=3307, master_log_file=&#x27;mall-mysql-bin.000001&#x27;, master_log_pos=617, master_connect_retry=30;</span><br></pre></td></tr></table></figure><h4 id="（12）在从数据库中查看主从同步状态"><a href="#（12）在从数据库中查看主从同步状态" class="headerlink" title="（12）在从数据库中查看主从同步状态"></a>（12）在从数据库中查看主从同步状态</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show slave status \G;</span><br></pre></td></tr></table></figure><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/33.png" alt="33"></p><h4 id="（13）在从服务器中开启主从同步"><a href="#（13）在从服务器中开启主从同步" class="headerlink" title="（13）在从服务器中开启主从同步"></a>（13）在从服务器中开启主从同步</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start slave;</span><br></pre></td></tr></table></figure><h4 id="（14）查看从数据库状态发现已同步"><a href="#（14）查看从数据库状态发现已同步" class="headerlink" title="（14）查看从数据库状态发现已同步"></a>（14）查看从数据库状态发现已同步</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show slave status \G;</span><br></pre></td></tr></table></figure><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/34.png" alt="34"></p><h4 id="（15）主从复制测试"><a href="#（15）主从复制测试" class="headerlink" title="（15）主从复制测试"></a>（15）主从复制测试</h4><p><strong>主机新建库-使用库-新建表-插入数据</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database db01;</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; use db01;</span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; create table t1</span><br><span class="line">    -&gt; (</span><br><span class="line">    -&gt; id int,</span><br><span class="line">    -&gt;     name varchar(20)</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.03 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t1 values (1,&#x27;zs&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.02 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line">mysql&gt; ;</span><br><span class="line">ERROR: </span><br><span class="line">No query specified</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into t1 values (1,&#x27;zs&#x27;);</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from t1;</span><br><span class="line">+------+------+</span><br><span class="line">| id   | name |</span><br><span class="line">+------+------+</span><br><span class="line">|    1 | zs   |</span><br><span class="line">|    1 | zs   |</span><br><span class="line">+------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>从机使用库查看记录</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; use db01;</span><br><span class="line">Reading table information for completion of table and column names</span><br><span class="line">You can turn off this feature to get a quicker startup with -A</span><br><span class="line"></span><br><span class="line">Database changed</span><br><span class="line">mysql&gt; select * from t1;</span><br><span class="line">+------+------+</span><br><span class="line">| id   | name |</span><br><span class="line">+------+------+</span><br><span class="line">|    1 | zs   |</span><br><span class="line">|    1 | zs   |</span><br><span class="line">+------+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="安装-Redis-集群（大厂面试题第四季-分布式存储案例真题）"><a href="#安装-Redis-集群（大厂面试题第四季-分布式存储案例真题）" class="headerlink" title="安装 Redis 集群（大厂面试题第四季-分布式存储案例真题）"></a>安装 Redis 集群（大厂面试题第四季-分布式存储案例真题）</h3><h4 id="cluster（集群）模式-Docker-版哈希槽分区进行亿级数据存储"><a href="#cluster（集群）模式-Docker-版哈希槽分区进行亿级数据存储" class="headerlink" title="cluster（集群）模式-Docker 版哈希槽分区进行亿级数据存储"></a>cluster（集群）模式-Docker 版哈希槽分区进行亿级数据存储</h4><h5 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h5><blockquote><p><strong>问题：1~2亿条数据需要缓存，请问如何设计这个存储案例？</strong></p><p><strong>回答：单机单台100%不可能，肯定是分布式存储，用 Redis 如何落地？</strong></p><p><strong>上述问题阿里P6~P7工程案例和场景设计类必考题目，一般业界有三种解决方案。</strong></p></blockquote><h5 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h5><p><strong>1、哈希取余分区</strong></p><blockquote><p><strong>2亿条记录就是2亿个k,v，我们单机不行必须要分布式多机，假设有3台机器构成一个集群，用户每次读写操作都是根据公式：</strong><br><strong>hash(key) % N个机器台数，计算出哈希值，用来决定数据映射到哪一个节点上。</strong></p><p><strong>优点：</strong><br><strong>简单粗暴，直接有效，只需要预估好数据规划好节点，例如3台、8台、10台，就能保证一段时间的数据支撑。使用Hash算法让固定的一部分请求落到同一台服务器上，这样每台服务器固定处理一部分请求（并维护这些请求的信息），起到负载均衡+分而治之的作用。</strong></p><p><strong>缺点：</strong><br><strong>原来规划好的节点，进行扩容或者缩容就比较麻烦了额，不管扩缩，每次数据变动导致节点有变动，映射关系需要重新进行计算，在服务器个数固定不变时没有问题，如果需要弹性扩容或故障停机的情况下，原来的取模公式就会发生变化：Hash(key)&#x2F;3会变成Hash(key) &#x2F;?。此时地址经过取余运算的结果将发生很大变化，根据公式获取的服务器也会变得不可控。</strong><br><strong>某个redis机器宕机了，由于台数数量变化，会导致hash取余全部数据重新洗牌。</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/35.png" alt="35"></p><p><strong>2、一致性哈希算法分区</strong></p><p><strong>一致性哈希算法分区是什么？</strong></p><blockquote><p><strong>一致性Hash算法背景</strong></p><p><strong>一致性哈希算法在1997年由麻省理工学院中提出的，设计目标是为了解决</strong></p><p><strong>分布式缓存数据变动和映射问题，某个机器宕机了，分母数量改变了，自然取余数不OK了。</strong></p></blockquote><p><strong>能干嘛？</strong></p><blockquote><p><strong>提出一致性 Hash 解决方案。</strong></p><p><strong>目的是当服务器个数发生变动时，尽量减少影响客户端到服务器的映射关系。</strong></p></blockquote><p><strong>三大步骤</strong></p><p><strong>（1）算法构建一致性哈希环</strong></p><blockquote><p><strong>一致性哈希环</strong></p><p><strong>一致性哈希算法必然有个hash函数并按照算法产生hash值，这个算法的所有可能哈希值会构成一个全量集，这个集合可以成为一个hash空间[0,2^32-1]，这个是一个线性空间，但是在算法中，我们通过适当的逻辑控制将它首尾相连(0 &#x3D; 2^32),这样让它逻辑上形成了一个环形空间。</strong></p><p><strong>它也是按照使用取模的方法，前面笔记介绍的节点取模法是对节点（服务器）的数量进行取模。而一致性Hash算法是对2^32取模，简单来说，一致性Hash算法将整个哈希值空间组织成一个虚拟的圆环，如假设某哈希函数H的值空间为0-2^32-1（即哈希值是一个32位无符号整形），整个哈希环如下图：整个空间按顺时针方向组织，圆环的正上方的点代表0，0点右侧的第一个点代表1，以此类推，2、3、4、……直到2^32-1，也就是说0点左侧的第一个点代表2^32-1， 0和2^32-1在零点中方向重合，我们把这个由2^32个点组成的圆环称为Hash环。</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/36.png" alt="36"></p></blockquote><p><strong>（2）服务器 IP 节点映射</strong></p><blockquote><p><strong>节点映射</strong></p><p><strong>将集群中各个IP节点映射到环上的某一个位置。</strong></p><p><strong>将各个服务器使用Hash进行一个哈希，具体可以选择服务器的IP或主机名作为关键字进行哈希，这样每台机器就能确定其在哈希环上的位置。假如4个节点NodeA、B、C、D，经过IP地址的哈希函数计算(hash(ip))，使用IP地址哈希后在环空间的位置如下：</strong>  </p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/37.png" alt="37"></p></blockquote><p><strong>（3）key 落到服务器的落键规则</strong></p><blockquote><p><strong>当我们需要存储一个kv键值对时，首先计算key的hash值，hash(key)，将这个key使用相同的函数Hash计算出哈希值并确定此数据在环上的位置，从此位置沿环顺时针“行走”，第一台遇到的服务器就是其应该定位到的服务器，并将该键值对存储在该节点上。</strong></p><p><strong>如我们有Object A、Object B、Object C、Object D四个数据对象，经过哈希计算后，在环空间上的位置如下：根据一致性Hash算法，数据A会被定为到Node A上，B被定为到Node B上，C被定为到Node C上，D被定为到Node D上。</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/38.png" alt="38"></p></blockquote><p><strong>优点</strong></p><p><strong>一致性哈希算法的容错性</strong></p><blockquote><p><strong>容错性</strong></p><p><strong>假设Node C宕机，可以看到此时对象A、B、D不会受到影响，只有C对象被重定位到Node D。一般的，在一致性Hash算法中，如果一台服务器不可用，则受影响的数据仅仅是此服务器到其环空间中前一台服务器（即沿着逆时针方向行走遇到的第一台服务器）之间数据，其它不会受到影响。简单说，就是C挂了，受到影响的只是B、C之间的数据，并且这些数据会转移到D进行存储。</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/39.png" alt="39"></p></blockquote><p><strong>一致性哈希算法的拓展性</strong></p><blockquote><p> <strong>扩展性</strong></p><p> <strong>数据量增加了，需要增加一台节点NodeX，X的位置在A和B之间，那收到影响的也就是A到X之间的数据，重新把A到X的数据录入到X上即可，</strong></p><p> <strong>不会导致hash取余全部数据重新洗牌。</strong></p><p> <img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/40.png" alt="40"></p></blockquote><p><strong>缺点</strong></p><p><strong>一致性哈希算法的数据倾斜问题</strong></p><blockquote><p><strong>Hash环的数据倾斜问题</strong></p><p><strong>一致性Hash算法在服务节点太少时，容易因为节点分布不均匀而造成数据倾斜（被缓存的对象大部分集中缓存在某一台服务器上）问题，</strong></p><p><strong>例如系统中只有两台服务器：</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/41.png" alt="41"></p></blockquote><p><strong>小总结</strong></p><blockquote><p><strong>为了在节点数目发生改变时尽可能少的迁移数据</strong></p><p><strong>将所有的存储节点排列在收尾相接的Hash环上，每个key在计算Hash后会顺时针找到临近的存储节点存放。</strong></p><p><strong>而当有节点加入或退出时仅影响该节点在Hash环上顺时针相邻的后续节点。</strong>  </p><hr><p><strong>优点</strong></p><p><strong>加入和删除节点只影响哈希环中顺时针方向的相邻的节点，对其他节点无影响。</strong></p><hr><p><strong>缺点</strong> </p><p><strong>数据的分布和节点的位置有关，因为这些节点不是均匀的分布在哈希环上的，所以数据在进行存储时达不到均匀分布的效果。</strong></p></blockquote><p><strong>3、哈希槽分区</strong></p><p><strong>为什么出现？</strong></p><blockquote><p><strong>哈希槽实质就是一个数组，数组[0,2^14 -1]形成hash slot空间。</strong></p></blockquote><p><strong>能干什么？</strong></p><blockquote><p><strong>解决均匀分配的问题，在数据和节点之间又加入了一层，把这层称为哈希槽（slot），用于管理数据和节点之间的关系，现在就相当于节点上放的是槽，槽里放的是数据。</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/42.png" alt="42"></p><p><strong>槽解决的是粒度问题，相当于把粒度变大了，这样便于数据移动。</strong></p><p><strong>哈希解决的是映射问题，使用key的哈希值来计算所在的槽，便于数据分配。</strong></p></blockquote><p> <strong>多少个hash槽</strong></p><blockquote><p><strong>一个集群只能有16384个槽，编号0-16383（0-2^14-1）。这些槽会分配给集群中的所有主节点，分配策略没有要求。可以指定哪些编号的槽分配给哪个主节点。集群会记录节点和槽的对应关系。解决了节点和槽的关系后，接下来就需要对key求哈希值，然后对16384取余，余数是几key就落入对应的槽里。slot &#x3D; CRC16(key) % 16384。以槽为单位移动数据，因为槽的数目是固定的，处理起来比较容易，这样数据移动问题就解决了。</strong></p></blockquote><h4 id="开打步骤"><a href="#开打步骤" class="headerlink" title="开打步骤"></a>开打步骤</h4><h5 id="3主3从-Redis-集群配置"><a href="#3主3从-Redis-集群配置" class="headerlink" title="3主3从 Redis 集群配置"></a>3主3从 Redis 集群配置</h5><p><strong>（1）关闭防火墙+启动Docker后台服务</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入/bin目录</span></span><br><span class="line">cd /bin</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">关闭防火墙</span></span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启 docker</span></span><br><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><p><strong>（2）新建6个Docker容器Redis实例</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name redis-node-1 --net host --privileged=true -v /data/redis/share/redis-node-1:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6381</span><br><span class="line"></span><br><span class="line">docker run -d --name redis-node-2 --net host --privileged=true -v /data/redis/share/redis-node-2:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6382</span><br><span class="line"></span><br><span class="line">docker run -d --name redis-node-3 --net host --privileged=true -v /data/redis/share/redis-node-3:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6383</span><br><span class="line"></span><br><span class="line">docker run -d --name redis-node-4 --net host --privileged=true -v /data/redis/share/redis-node-4:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6384</span><br><span class="line"></span><br><span class="line">docker run -d --name redis-node-5 --net host --privileged=true -v /data/redis/share/redis-node-5:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6385</span><br><span class="line"></span><br><span class="line">docker run -d --name redis-node-6 --net host --privileged=true -v /data/redis/share/redis-node-6:/data redis:6.0.8 --cluster-enabled yes --appendonly yes --port 6386</span><br></pre></td></tr></table></figure><p><strong>如果运行成功，效果如下：</strong></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/43.png" alt="43"></p><p><strong>命令分步解释：</strong></p><blockquote><p><strong>创建并运行 Docker 容器实例</strong><br><strong>docker run</strong></p><p><strong>容器名字</strong><br><strong>– name redis-node 6</strong></p><p><strong>使用宿主机的 IP 和 端口，默认</strong><br><strong>–net host</strong></p><p><strong>获取宿主机 root 用户权限</strong><br><strong>–privileged&#x3D;true</strong></p><p><strong>容器卷，宿主机地址:docker 内部地址</strong><br><strong>-v &#x2F;data&#x2F;redis&#x2F;share&#x2F;redis-node-6:&#x2F;data</strong></p><p><strong>redis 镜像和版本号</strong><br><strong>redis:6.0.8</strong></p><p><strong>开启 Redis 集群</strong><br><strong>–cluster-enable yes</strong></p><p><strong>开启持久化</strong><br><strong>–appendonly yes</strong></p><p><strong>Redis 端口号</strong><br><strong>–port 6386</strong></p></blockquote><p><strong>（3）进入容器Redis-node-1并为6台机器构建集群关系</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it redis-node-1 /bin/bash</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意，进入 docker 容器后才能执行一下命令，且注意自己的真实IP地址（需要开放对应端口）</strong></p><p><strong>特别注意：需要开放集群的所有端口+10000的端口，及其 6379</strong></p><p><strong>比如：6381，对应开放端口就是16381</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/46.png" alt="46"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli --cluster create 120.78.11.141:6381 120.78.11.141:6382 120.78.11.141:6383 120.78.11.141:6384 120.78.11.141:6385 120.78.11.141:6386 --cluster-replicas 1</span><br></pre></td></tr></table></figure><blockquote><p><strong>–cluster-replicas 1 表示为每个master创建一个slave节点</strong></p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/44.png" alt="44"></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/45.png" alt="45"></p><p><strong>（4）链接进入6381作为切入点，查看集群状态</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -p 6381</span><br><span class="line"></span><br><span class="line">cluster info</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/47.png" alt="47"></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Docker/48.png" alt="48"></p><h5 id="主从容错切换迁移案例"><a href="#主从容错切换迁移案例" class="headerlink" title="主从容错切换迁移案例"></a>主从容错切换迁移案例</h5><p><strong>数据读写存储</strong></p><p><strong>容错切换迁移</strong></p><h5 id="主从扩容案例"><a href="#主从扩容案例" class="headerlink" title="主从扩容案例"></a>主从扩容案例</h5><h5 id="主从缩容案例"><a href="#主从缩容案例" class="headerlink" title="主从缩容案例"></a>主从缩容案例</h5>]]></content>
      
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redis</title>
      <link href="/2022/05/05/Redis/"/>
      <url>/2022/05/05/Redis/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><hr><h1><center>Redis</center></h1><h2 id="Redis安装"><a href="#Redis安装" class="headerlink" title="Redis安装"></a>Redis安装</h2><center><strong>注意：我这里使用阿里云服务器进行安装，操作系统为CentOS 7.6 64位</strong></center><p><strong>1、检测gcc编译器是否安装了（因为阿里云服务器自带gcc编译器所以，我这里就不需要安装了）</strong></p><p><strong><code>gcc --version</code></strong></p><p><strong>2、进入到根目录</strong></p><p><strong><code>cd /</code></strong></p><p><strong>3、创建redis目录</strong></p><p><strong><code>mkdir redis</code></strong></p><p><strong>4、进入到redis目录</strong></p><p><strong><code>cd /redis</code></strong></p><p><strong>5、下载redis</strong></p><p><strong><code>wget</code> <a href="https://download.redis.io/releases/redis-6.2.6.tar.gz">https://download.redis.io/releases/redis-6.2.6.tar.gz</a></strong></p><h3 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h3><p><strong>1、解压</strong></p><p><strong><code>tar -zvxfredis-6.2.6.tar.gz</code></strong></p><p><strong>2、删除压缩包</strong></p><p>rm -r redis-6.2.6.tar.gz</p><p><strong>3、进入redis目录</strong></p><p><strong>cd redis-6.2.6</strong></p><h3 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h3><p>1、编译</p><p><strong>make</strong></p><p>2、安装（会默认安装到&#x2F;usr&#x2F;local&#x2F;bin目录下）</p><p><strong>make install</strong></p><h3 id="启动redis"><a href="#启动redis" class="headerlink" title="启动redis"></a>启动redis</h3><h4 id="前台启动"><a href="#前台启动" class="headerlink" title="前台启动"></a>前台启动</h4><p>注意：前台启动，命令行窗口不能关闭，否则服务器停止，<strong>不推荐</strong></p><p><strong>redis-server</strong></p><h4 id="后台启动（推荐）"><a href="#后台启动（推荐）" class="headerlink" title="后台启动（推荐）"></a>后台启动（推荐）</h4><p>1、进入到&#x2F;redis-6.2.6目录</p><p><strong>cd &#x2F;redis&#x2F;redis-6.2.6</strong></p><p>2、修改redis配置文件，将daemonize no修改为daemonize yes，最后按一下ESC键输入:wq保存</p><p><strong>vim redis.conf</strong></p><p>3、启动</p><p><strong>redis-server &#x2F;redis&#x2F;redis-6.2.6&#x2F;redis.conf</strong></p><h3 id="查看Redis是否正在运行"><a href="#查看Redis是否正在运行" class="headerlink" title="查看Redis是否正在运行"></a>查看Redis是否正在运行</h3><h4 id="采取查看进程方式"><a href="#采取查看进程方式" class="headerlink" title="采取查看进程方式"></a>采取查看进程方式</h4><p><strong>ps -aux | grep redis</strong></p><h4 id="采取查看端口方式"><a href="#采取查看端口方式" class="headerlink" title="采取查看端口方式"></a>采取查看端口方式</h4><p><strong>netstat -lanp | grep 6379</strong></p><h3 id="访问客户端"><a href="#访问客户端" class="headerlink" title="访问客户端"></a>访问客户端</h3><h4 id="用客户端访问"><a href="#用客户端访问" class="headerlink" title="用客户端访问"></a>用客户端访问</h4><p><strong>redis-cli是连接本地redis服务的一个命令，通过该命令后可以既然怒redis的脚本控制台。</strong></p><p><strong>redis-cli</strong></p><h4 id="多个端口访问"><a href="#多个端口访问" class="headerlink" title="多个端口访问"></a>多个端口访问</h4><p><strong>redis-cli -p6379</strong></p><h3 id="关闭redis"><a href="#关闭redis" class="headerlink" title="关闭redis"></a>关闭redis</h3><h4 id="单实例关闭"><a href="#单实例关闭" class="headerlink" title="单实例关闭"></a>单实例关闭</h4><p><strong>redis-cli shutdown</strong></p><h4 id="进入终端后关闭"><a href="#进入终端后关闭" class="headerlink" title="进入终端后关闭"></a>进入终端后关闭</h4><p><strong>shutdown</strong></p><h4 id="多实例关闭，指定端口关闭"><a href="#多实例关闭，指定端口关闭" class="headerlink" title="多实例关闭，指定端口关闭"></a>多实例关闭，指定端口关闭</h4><p><strong>redis-cli -p 6379 shutdown</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Shell</title>
      <link href="/2022/05/05/Shell/"/>
      <url>/2022/05/05/Shell/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1><center>Shell</center></h1><hr><h2 id="Shell-概述"><a href="#Shell-概述" class="headerlink" title="Shell 概述"></a>Shell 概述</h2><blockquote><p>Shell 是一个<strong>命令行解释器</strong>，它接收应用程序&#x2F;用户命令，然后调用操作系统内核。</p></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/%E5%8D%9A%E5%AE%A2/01.png" alt="01"></p><blockquote><p>Shell 还是一个功能相当强大的编程语言，易编写、易调试、灵活性强。</p></blockquote><p><strong>Linux 提供的 Shell 解析器有</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat /etc/shells</span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/usr/bin/sh</span><br><span class="line">/usr/bin/bash</span><br></pre></td></tr></table></figure><p><strong>bash 和 sh 的关系</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# ll | grep bash </span><br><span class="line">-rwxr-xr-x. 1 root root 941880 5 月 11 2016 bash </span><br><span class="line">lrwxrwxrwx. 1 root root 4 5 月 27 2017 sh -&gt; bash</span><br></pre></td></tr></table></figure><p><strong>Centos 默认的解析器是 bash</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# echo $SHELL</span><br><span class="line">/bin/bash</span><br></pre></td></tr></table></figure><h2 id="Shell-脚本入门"><a href="#Shell-脚本入门" class="headerlink" title="Shell 脚本入门"></a>Shell 脚本入门</h2><h3 id="脚本格式"><a href="#脚本格式" class="headerlink" title="脚本格式"></a>脚本格式</h3><blockquote><p><strong>脚本以<code>#!/bin/bash</code> 开头（指定解析器）</strong></p></blockquote><h3 id="第一个-Shell-脚本：helloworld-sh"><a href="#第一个-Shell-脚本：helloworld-sh" class="headerlink" title="第一个 Shell 脚本：helloworld.sh"></a>第一个 Shell 脚本：helloworld.sh</h3><h4 id="（1）需求：创建一个-Shell-脚本，输出-helloworld"><a href="#（1）需求：创建一个-Shell-脚本，输出-helloworld" class="headerlink" title="（1）需求：创建一个 Shell 脚本，输出 helloworld"></a>（1）需求：创建一个 Shell 脚本，输出 helloworld</h4><h4 id="（2）案例实操"><a href="#（2）案例实操" class="headerlink" title="（2）案例实操"></a>（2）案例实操</h4><p><strong>命令：<code>vim helloworld.sh</code></strong></p><p><strong>添加以下内容：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &quot;hello world&quot;</span><br></pre></td></tr></table></figure><h4 id="（3）脚本的常用执行方式"><a href="#（3）脚本的常用执行方式" class="headerlink" title="（3）脚本的常用执行方式"></a>（3）脚本的常用执行方式</h4><h5 id="第一种：采用-bash-或-sh-脚本的相对路径或绝对路径（不用赋予脚本-x-权限）"><a href="#第一种：采用-bash-或-sh-脚本的相对路径或绝对路径（不用赋予脚本-x-权限）" class="headerlink" title="第一种：采用 bash 或 sh+脚本的相对路径或绝对路径（不用赋予脚本+x 权限）"></a>第一种：采用 bash 或 sh+脚本的相对路径或绝对路径（不用赋予脚本+x 权限）</h5><p><strong>sh+脚本的相对路径</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# sh ./helloworld.sh </span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><p><strong>sh+脚本的绝对路径</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# sh /home/shells/helloworld.sh </span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><p><strong>bash+脚本的相对路径</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# bash ./helloworld.sh </span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><p><strong>bash+脚本的绝对路径</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# bash /home/shells/helloworld.sh </span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><h5 id="第二种：采用输入脚本的绝对路径或相对路径执行脚本（必须具有可执行权限-x）"><a href="#第二种：采用输入脚本的绝对路径或相对路径执行脚本（必须具有可执行权限-x）" class="headerlink" title="第二种：采用输入脚本的绝对路径或相对路径执行脚本（必须具有可执行权限+x）"></a>第二种：采用输入脚本的绝对路径或相对路径执行脚本（必须具有可执行权限+x）</h5><p><strong>①首先要赋予 helloworld.sh 脚本的+x 权限</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod +x helloworld.sh</span><br></pre></td></tr></table></figure><p><strong>②执行脚本</strong></p><p><strong>相对路径</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./helloworld.sh </span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><p><strong>绝对路径</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# /home/shells/helloworld.sh </span><br><span class="line">hello world</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：</strong></p><p><strong>第一种执行方法，本质是 bash 解析器帮你执行脚本，所以脚本本身不需要执行权限。</strong></p><p><strong>第二种执行方法，本质是脚本需要自己执行，所以需要执行权限。</strong></p></blockquote><h5 id="第三种：在脚本的路径前加上“-”或者-source"><a href="#第三种：在脚本的路径前加上“-”或者-source" class="headerlink" title="第三种：在脚本的路径前加上“.”或者 source"></a>第三种：在脚本的路径前加上“.”或者 source</h5><p><strong>①有以下脚本</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# cat test.sh </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">A=5</span><br><span class="line">echo $A</span><br></pre></td></tr></table></figure><p><strong>②分别使用 sh，bash，.&#x2F; 和 . 的方式来执行，结果如下：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# bash test.sh </span><br><span class="line">5</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $A</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# sh test.sh </span><br><span class="line">5</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $A</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./test.sh </span><br><span class="line">5</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $A</span><br><span class="line">5</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# . test.sh </span><br><span class="line">5</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $A</span><br><span class="line">5</span><br></pre></td></tr></table></figure><blockquote><p><strong>原因：</strong> </p><p><strong>前两种方式都是在当前 shell 中打开一个子 shell 来执行脚本内容，当脚本内容结束，则 子 shell 关闭，回到父 shell 中。</strong> </p><p><strong>第三种，也就是使用在脚本路径前加“.”或者 source 的方式，可以使脚本内容在当前 shell 里执行，而无需打开子 shell！这也是为什么我们每次要修改完&#x2F;etc&#x2F;profile 文件以后，需 要 source 一下的原因。</strong> </p><p><strong>开子 shell 与不开子 shell 的区别就在于，环境变量的继承关系，如在子 shell 中设置的 当前变量，父 shell 是不可见的。</strong></p></blockquote><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="系统预定义变量"><a href="#系统预定义变量" class="headerlink" title="系统预定义变量"></a>系统预定义变量</h3><p><strong>常用系统变量 $HOME、$PWD、$SHELL、$USER 等</strong></p><h4 id="案例实操"><a href="#案例实操" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>（1）查看系统变量的值</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $HOME</span><br><span class="line">/root</span><br></pre></td></tr></table></figure><p><strong>（2）显示当前 Shell 中所有变量：set</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# set</span><br><span class="line">A=5</span><br><span class="line">BASH=/bin/bash</span><br><span class="line">BASHOPTS=checkwinsize:cmdhist:expand_aliases:extquote:force_fignore:histappend:hostcomplete:interactive_comments:login_shell:progcomp:promptvars:sourcepath</span><br><span class="line">BASH_ALIASES=()</span><br><span class="line">BASH_ARGC=()</span><br><span class="line">BASH_ARGV=()</span><br><span class="line">BASH_CMDS=()</span><br><span class="line">BASH_LINENO=()</span><br><span class="line">BASH_SOURCE=()</span><br><span class="line">BASH_VERSINFO=([0]=&quot;4&quot; [1]=&quot;2&quot; [2]=&quot;46&quot; [3]=&quot;2&quot; [4]=&quot;release&quot; [5]=&quot;x86_64-redhat-linux-gnu&quot;)</span><br><span class="line">BASH_VERSION=&#x27;4.2.46(2)-release&#x27;</span><br><span class="line">COLUMNS=168</span><br><span class="line">DIRSTACK=()</span><br><span class="line">EUID=0</span><br><span class="line">GROUPS=()</span><br><span class="line">HISTCONTROL=ignoredups</span><br><span class="line">HISTFILE=/root/.bash_history</span><br><span class="line">HISTFILESIZE=1000</span><br><span class="line">HISTSIZE=1000</span><br><span class="line">HOME=/root</span><br><span class="line">HOSTNAME=iZwz9104i5lanril7l7pz3Z</span><br><span class="line">HOSTTYPE=x86_64</span><br><span class="line">ID=0</span><br><span class="line">IFS=$&#x27; \t\n&#x27;</span><br><span class="line">LANG=en_US.UTF-8</span><br><span class="line">LESSOPEN=&#x27;||/usr/bin/lesspipe.sh %s&#x27;</span><br><span class="line">LINES=37</span><br><span class="line">LOGNAME=root</span><br><span class="line">LS_COLORS=&#x27;rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:&#x27;</span><br><span class="line">MACHTYPE=x86_64-redhat-linux-gnu</span><br><span class="line">MAIL=/var/spool/mail/root</span><br><span class="line">MAILCHECK=60</span><br><span class="line">OLDPWD=/root</span><br><span class="line">OPTERR=1</span><br><span class="line">OPTIND=1</span><br><span class="line">OSTYPE=linux-gnu</span><br><span class="line">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">PIPESTATUS=([0]=&quot;0&quot;)</span><br><span class="line">PPID=3251</span><br><span class="line">PROMPT_COMMAND=&#x27;printf &quot;\033]0;%s@%s:%s\007&quot; &quot;$&#123;USER&#125;&quot; &quot;$&#123;HOSTNAME%%.*&#125;&quot; &quot;$&#123;PWD/#$HOME/~&#125;&quot;&#x27;</span><br><span class="line">PS1=&#x27;[\u@\h \W]\$ &#x27;</span><br><span class="line">PS2=&#x27;&gt; &#x27;</span><br><span class="line">PS4=&#x27;+ &#x27;</span><br><span class="line">PWD=/</span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">SHELLOPTS=braceexpand:emacs:hashall:histexpand:history:interactive-comments:monitor</span><br><span class="line">SHLVL=1</span><br><span class="line">SSH_CLIENT=&#x27;113.100.207.204 6232 22&#x27;</span><br><span class="line">SSH_CONNECTION=&#x27;113.100.207.204 6232 172.24.164.254 22&#x27;</span><br><span class="line">SSH_TTY=/dev/pts/0</span><br><span class="line">TERM=xterm</span><br><span class="line">UID=0</span><br><span class="line">USER=root</span><br><span class="line">XDG_RUNTIME_DIR=/run/user/0</span><br><span class="line">XDG_SESSION_ID=127</span><br><span class="line">_=/root</span><br><span class="line">colors=/root/.dircolors</span><br></pre></td></tr></table></figure><h3 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h3><h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><p><strong>（1）定义变量：变量名&#x3D;变量值，注意，&#x3D;号前后不能有空格</strong></p><p><strong>（2）撤销变量：unset 变量名</strong></p><p><strong>（3）声明静态变量：<code>readonly 变量</code>，注意：不能 unset</strong></p><h4 id="变量定义规则"><a href="#变量定义规则" class="headerlink" title="变量定义规则"></a>变量定义规则</h4><p><strong>（1）变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。</strong></p><p><strong>（2）等号两侧不能有空格</strong> </p><p><strong>（3）在 bash 中，变量默认类型都是字符串类型，无法直接进行数值运算。</strong></p><p> <strong>（4）变量的值如果有空格，需要使用双引号或单引号括起来。</strong></p><h4 id="案例实操-1"><a href="#案例实操-1" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>（1）定义变量 A</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# A=5</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $A</span><br><span class="line">5</span><br></pre></td></tr></table></figure><p><strong>（2）给变量 A 重新赋值</strong> </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# A=8</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $A</span><br><span class="line">8</span><br></pre></td></tr></table></figure><p><strong>（3）撤销变量 A</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# unset A</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $A</span><br></pre></td></tr></table></figure><p><strong>（4）声明静态的变量 B&#x3D;2，不能 unset</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# readonly B=2</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $B</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# B=9</span><br><span class="line">-bash: B: readonly variable</span><br></pre></td></tr></table></figure><p><strong>（5）在 bash 中，变量默认类型都是字符串类型，无法直接进行数值运算</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# C=1+2</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $C</span><br><span class="line">1+2</span><br></pre></td></tr></table></figure><p><strong>（6）变量的值如果有空格，需要使用双引号或单引号括起来</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# D=I love huang</span><br><span class="line">-bash: love: command not found</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# D=&quot;I love huang&quot;</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $D</span><br><span class="line">I love huang</span><br></pre></td></tr></table></figure><p><strong>（7）可把变量提升为全局环境变量，可供其他 Shell 程序使用</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export 变量名</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# exportvim helloworld.sh </span><br></pre></td></tr></table></figure><p><strong>在 helloworld.sh 文件中增加 echo $B</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span> </span><br><span class="line">echo &quot;helloworld&quot; </span><br><span class="line">echo $B</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><p><strong>发现并没有打印输出变量 B 的值。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./helloworld.sh </span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# export B</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./helloworld.sh </span><br><span class="line">hello world</span><br><span class="line">2</span><br></pre></td></tr></table></figure><h3 id="特殊变量"><a href="#特殊变量" class="headerlink" title="特殊变量"></a>特殊变量</h3><h4 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a><strong>基本语法</strong></h4><p> **<code>$n</code> **</p><p><strong>功能描述：n 为数字，$0 代表该脚本名称，$1-$9 代表第一到第九个参数，十以 上的参数，十以上的参数需要用大括号包含，如${10}</strong></p><h4 id="案例实操-2"><a href="#案例实操-2" class="headerlink" title="案例实操"></a>案例实操</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch parameter.sh</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim parameter.sh </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &#x27;=======$n=======&#x27;</span><br><span class="line">echo $0</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chomod 777 parameter.sh </span><br><span class="line">-bash: chomod: command not found</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chomod -w  parameter.sh </span><br><span class="line">-bash: chomod: command not found</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chomod +x  parameter.sh </span><br><span class="line">-bash: chomod: command not found</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod 777 parameter.sh </span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./parameter.sh cls xz</span><br><span class="line">=======$n=======</span><br><span class="line">./parameter.sh</span><br><span class="line">cls</span><br><span class="line">xz</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="、"><a href="#、" class="headerlink" title="$*、$@"></a>$*、$@</h4><h5 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法"></a><strong>基本语法</strong></h5><p> **<code>$*</code> **</p><p>*<em>功能描述：这个变量代表命令行中所有的参数，$<em>把所有的参数看成一个整体</em></em> </p><p>**<code>$@</code> **</p><p><strong>功能描述：这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待</strong></p><h5 id="案例实操-3"><a href="#案例实操-3" class="headerlink" title="案例实操"></a>案例实操</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim parameter.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &#x27;=======$n=======&#x27;</span><br><span class="line">echo $0</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line">echo &#x27;=======$#=======&#x27;</span><br><span class="line">echo $#</span><br><span class="line">echo &#x27;=======$*=======&#x27;</span><br><span class="line">echo $*</span><br><span class="line">echo &#x27;=======$@=======&#x27;</span><br><span class="line">echo $@</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./parameter.sh a b c d e f g</span><br><span class="line">=======$n=======</span><br><span class="line">./parameter.sh</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">=======$#=======</span><br><span class="line">7</span><br><span class="line">=======$*=======</span><br><span class="line">a b c d e f g</span><br><span class="line">=======$@=======</span><br><span class="line">a b c d e f g</span><br></pre></td></tr></table></figure><h4 id="？"><a href="#？" class="headerlink" title="$？"></a>$？</h4><h5 id="基本语法-3"><a href="#基本语法-3" class="headerlink" title="基本语法"></a>基本语法</h5><p>**<code>$？</code> **</p><p><strong>功能描述：最后一次执行的命令的返回状态。如果这个变量的值为 0，证明上一 个命令正确执行；如果这个变量的值为非 0（具体是哪个数，由命令自己来决定），则证明 上一个命令执行不正确了。</strong></p><h5 id="案例实操-4"><a href="#案例实操-4" class="headerlink" title="案例实操"></a>案例实操</h5><p><strong>判断 helloworld.sh 脚本是否正确执行</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./helloworld.sh </span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure><h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="基本语法-4"><a href="#基本语法-4" class="headerlink" title="基本语法"></a>基本语法</h3><p><strong><code>“$((运算式))” 或 “$[运算式]”</code></strong></p><h3 id="案例实操-5"><a href="#案例实操-5" class="headerlink" title="案例实操"></a>案例实操</h3><p><em><em>计算（2+3）</em> 4 的值</em>*</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# S=$[(2+3)*4]</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $S</span><br><span class="line">20</span><br></pre></td></tr></table></figure><h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><h3 id="基本语法-5"><a href="#基本语法-5" class="headerlink" title="基本语法"></a>基本语法</h3><p><strong>（1）test condition</strong> </p><p><strong>（2）[ condition ]（<code>注意 condition 前后要有空格</code>） 注意：条件非空即为 true，[  huang ]返回 true，[ ] 返回 false。</strong></p><h3 id="常用判断条件"><a href="#常用判断条件" class="headerlink" title="常用判断条件"></a>常用判断条件</h3><h4 id="（1）两个整数之间比较"><a href="#（1）两个整数之间比较" class="headerlink" title="（1）两个整数之间比较"></a><strong>（1）两个整数之间比较</strong></h4><table><thead><tr><th>-eq 等于（equal）</th><th>-ne 不等于（not equal）</th></tr></thead><tbody><tr><td>-lt 小于（less than）</td><td>-le 小于等于（less equal）</td></tr><tr><td>-gt 大于（greater than）</td><td>-ge 大于等于（greater equal）</td></tr></tbody></table><blockquote><p> <strong>注：如果是字符串之间的比较 ，用等号“&#x3D;”判断相等；用“!&#x3D;”判断不等。</strong></p></blockquote><h4 id="（2）按照文件权限进行判断"><a href="#（2）按照文件权限进行判断" class="headerlink" title="（2）按照文件权限进行判断"></a><strong>（2）按照文件权限进行判断</strong></h4><p><strong>-r 有读的权限（read）</strong></p><p> <strong>-w 有写的权限（write）</strong> </p><p><strong>-x 有执行的权限（execute）</strong></p><h4 id="（3）按照文件类型进行判断"><a href="#（3）按照文件类型进行判断" class="headerlink" title="（3）按照文件类型进行判断"></a><strong>（3）按照文件类型进行判断</strong></h4><p><strong>-e 文件存在（existence）</strong> </p><p><strong>-f 文件存在并且是一个常规的文件（file）</strong></p><p> <strong>-d 文件存在并且是一个目录（directory）</strong></p><h4 id="案例实操-6"><a href="#案例实操-6" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>（1）23 是否大于等于 22</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# [ 23 -ge 22 ]</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p><strong>（2）helloworld.sh 是否具有写权限</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# [ -w helloworld.sh ]</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure><p><strong>（3）&#x2F;home&#x2F;cls.txt 目录中的文件是否存在</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# [ -e /home/cls.txt ]</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# echo $?</span><br><span class="line">1</span><br></pre></td></tr></table></figure><p><strong>（4）多条件判断（&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令，|| 表示上一 条命令执行失败后，才执行下一条命令）</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# [ huang ] &amp;&amp; echo OK || echo notOK </span><br><span class="line">OK</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# [  ] &amp;&amp; echo OK || echo notOK</span><br><span class="line">notOK</span><br></pre></td></tr></table></figure><h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="if-判断"><a href="#if-判断" class="headerlink" title="if 判断"></a>if 判断</h3><h4 id="基本语法-6"><a href="#基本语法-6" class="headerlink" title="基本语法"></a>基本语法</h4><h5 id="（1）单分支"><a href="#（1）单分支" class="headerlink" title="（1）单分支"></a>（1）单分支</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ];then </span><br><span class="line">程序 </span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p><strong>或者</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ] </span><br><span class="line">then</span><br><span class="line">程序 </span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h5 id="（2）多分支"><a href="#（2）多分支" class="headerlink" title="（2）多分支"></a>（2）多分支</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ] </span><br><span class="line">then</span><br><span class="line">程序 </span><br><span class="line">elif [ 条件判断式 ] </span><br><span class="line">then</span><br><span class="line">程序 </span><br><span class="line">else</span><br><span class="line">程序 </span><br><span class="line">fi</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意事项：</strong> </p><p><strong>①[ 条件判断式 ]，中括号和条件判断式之间必须有空格</strong> </p><p><strong>②if 后要有空格</strong></p></blockquote><h4 id="案例实操-7"><a href="#案例实操-7" class="headerlink" title="案例实操"></a><strong>案例实操</strong></h4><p><strong>输入一个数字，如果是 1，则输出 banzhang zhen shuai，如果是 2，则输出 cls zhen mei， 如果是其它，什么也不输出。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch if.sh</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim if.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span> </span><br><span class="line"></span><br><span class="line">if [ $1 -eq 1 ] </span><br><span class="line">then </span><br><span class="line">    echo &quot;banzhang zhen shuai&quot; </span><br><span class="line">elif [ $1 -eq 2 ] </span><br><span class="line">then </span><br><span class="line">    echo &quot;cls zhen mei&quot; </span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod 777 if.sh </span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./if.sh 1</span><br><span class="line">banzhang zhen shuai</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./if.sh 2</span><br><span class="line">cls zhen mei</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="case-语句"><a href="#case-语句" class="headerlink" title="case 语句"></a>case 语句</h3><h4 id="基本语法-7"><a href="#基本语法-7" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in </span><br><span class="line">&quot;值 1&quot;）</span><br><span class="line">如果变量的值等于值 1，则执行程序 1 </span><br><span class="line">;;</span><br><span class="line">&quot;值 2&quot;）如果变量的值等于值 2，则执行程序 2 </span><br><span class="line">;; </span><br><span class="line">…省略其他分支… </span><br><span class="line">*） </span><br><span class="line">如果变量的值都不是以上的值，则执行此程序 </span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure><p><strong>注意事项：</strong> </p><p><strong>（1）case 行尾必须为单词“in”，每一个模式匹配必须以右括号“）”结束。</strong> </p><p><strong>（2）双分号“;;”表示命令序列结束，相当于 java 中的 break。</strong> </p><p><strong>（3）最后的“*）”表示默认模式，相当于 java 中的 default。</strong></p><h4 id="案例实操-8"><a href="#案例实操-8" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>输入一个数字，如果是 1，则输出 banzhang，如果是 2，则输出 cls，如果是其它，输出 renyao。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch case.sh</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim case.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">        echo &quot;banzhang&quot;</span><br><span class="line">;;</span><br><span class="line"></span><br><span class="line">&quot;2&quot;)</span><br><span class="line">        echo &quot;cls&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">        echo &quot;renyao&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod 777 case.sh </span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./case.sh 1</span><br><span class="line"></span><br><span class="line">banzhang</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./case.sh 2</span><br><span class="line">cls</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./case.sh 3</span><br><span class="line">renyao</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h3><h4 id="基本语法-8"><a href="#基本语法-8" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for (( 初始值;循环控制条件;变量变化 )) </span><br><span class="line">do </span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h4 id="案例实操-9"><a href="#案例实操-9" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>从 1 加到 100</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch for1.sh</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim for1.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">sum=0</span><br><span class="line">for((i=0;i&lt;=100;i++))</span><br><span class="line">do</span><br><span class="line">        sum=$[$sum+$i]</span><br><span class="line">done</span><br><span class="line">echo $sum</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法 2"></a>基本语法 2</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3... </span><br><span class="line">do </span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h4 id="案例实操-10"><a href="#案例实操-10" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>（1）打印所有输入参数</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch for2.sh</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim for2.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">打印数字</span></span><br><span class="line"></span><br><span class="line">for i in cls mly wls</span><br><span class="line">do</span><br><span class="line">        echo &quot;ban zhang love $i&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./for2.sh </span><br><span class="line">ban zhang love cls</span><br><span class="line">ban zhang love mly</span><br><span class="line">ban zhang love wls</span><br></pre></td></tr></table></figure><p>*<em>（2）比较$<em>和$@区别</em></em></p><p>**$<em>和$@都表示传递给函数或脚本的所有参数，不被双引号“”包含时，都以$1 $2 …$n 的形式输出所有参数。</em>*</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch for3.sh</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim for3.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo &#x27;========$========&#x27;n</span><br><span class="line">for i in $*</span><br><span class="line">do</span><br><span class="line">        echo &quot;ban zhang love $i&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &#x27;========$@========&#x27;</span><br><span class="line">for j in $@</span><br><span class="line">do</span><br><span class="line">        echo &quot;ban zhang love $j&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod 777 for3.sh </span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./for3.sh cls mly wls</span><br><span class="line">========$========n</span><br><span class="line">ban zhang love cls</span><br><span class="line">ban zhang love mly</span><br><span class="line">ban zhang love wls</span><br><span class="line">========$@========</span><br><span class="line">ban zhang love cls</span><br><span class="line">ban zhang love mly</span><br><span class="line">ban zhang love wls</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>*<em>当它们被双引号“”包含时，$<em>会将所有的参数作为一个整体，以“$1 $2 …$n”的形式输 出所有参数；$@会将各个参数分开，以“$1” “$2”…“$n”的形式输出所有参数。</em></em></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span> </span><br><span class="line">echo &#x27;=============$*=============&#x27; </span><br><span class="line">for i in &quot;$*&quot; </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">$*中的所有参数看成是一个整体，所以这个 <span class="keyword">for</span> 循环只会循环一次</span> </span><br><span class="line">do </span><br><span class="line">echo &quot;ban zhang love $i&quot; </span><br><span class="line">done </span><br><span class="line"></span><br><span class="line">echo &#x27;=============$@=============&#x27; </span><br><span class="line">for j in &quot;$@&quot; </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="variable">$@</span>中的每个参数都看成是独立的，所以“<span class="variable">$@</span>”中有几个参数，就会循环几次</span> </span><br><span class="line">do </span><br><span class="line">echo &quot;ban zhang love $j&quot; </span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod 777 for4.sh </span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./for4.sh cls mly wls</span><br><span class="line">=============$*=============</span><br><span class="line">ban zhang love cls mly wls</span><br><span class="line">=============$@=============</span><br><span class="line">ban zhang love cls</span><br><span class="line">ban zhang love mly</span><br><span class="line">ban zhang love wls</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="while-循环"><a href="#while-循环" class="headerlink" title="while 循环"></a>while 循环</h3><h4 id="基本语法-9"><a href="#基本语法-9" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式 ] </span><br><span class="line">do </span><br><span class="line">程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure><h4 id="案例实操-11"><a href="#案例实操-11" class="headerlink" title="案例实操"></a>案例实操</h4><p> <strong>从 1 加到 100</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch while.sh</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim  while.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">sum=0</span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 100 ]</span><br><span class="line">do</span><br><span class="line">        sum=$[$sum+$i]</span><br><span class="line">        i=$[$i+1]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo $sum</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod 777 while.sh </span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./while.sh </span><br><span class="line">5050</span><br></pre></td></tr></table></figure><h2 id="read-读取控制台输入"><a href="#read-读取控制台输入" class="headerlink" title="read 读取控制台输入"></a>read 读取控制台输入</h2><h3 id="基本语法-10"><a href="#基本语法-10" class="headerlink" title="基本语法"></a>基本语法</h3><p><strong><code>read (选项) (参数)</code></strong></p><p> <strong>①选项：</strong></p><p>​<strong>-p：指定读取值时的提示符；</strong></p><p>​<strong>-t：指定读取值时等待的时间（秒）如果-t 不加表示一直等待</strong> </p><p><strong>②参数</strong></p><p>​<strong>变量：指定读取值的变量名</strong></p><h3 id="案例实操-12"><a href="#案例实操-12" class="headerlink" title="案例实操"></a>案例实操</h3><p><strong>提示 7 秒内，读取控制台输入的名称</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch read.sh</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim read.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">read -t 7 -p &quot;Enter your name in 7 seconds :&quot; NN</span><br><span class="line">echo $NN</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod 777 read.sh </span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./read.sh </span><br><span class="line">Enter your name in 7 seconds :huang</span><br><span class="line">huang</span><br></pre></td></tr></table></figure><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h3><h4 id="basename"><a href="#basename" class="headerlink" title="basename"></a>basename</h4><h5 id="基本语法-11"><a href="#基本语法-11" class="headerlink" title="基本语法"></a>基本语法</h5><p> **<code>basename [string / pathname] [suffix]</code> **</p><p><strong>功能描述：basename 命令会删掉所有的前缀包括最后一个（‘&#x2F;’）字符，然后将字符串显示出来。</strong></p><p> <strong>basename 可以理解为取路径里的文件名称</strong> </p><p><strong>选项：</strong> </p><p><strong>suffix 为后缀，如果 suffix 被指定了，basename 会将 pathname 或 string 中的 suffix 去掉。</strong></p><h5 id="案例实操-13"><a href="#案例实操-13" class="headerlink" title="案例实操"></a>案例实操</h5><p><strong>截取该&#x2F;home&#x2F;banzhang.txt 路径的文件名称。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# basename /home/banzhang.txt</span><br><span class="line"></span><br><span class="line">banzhang.txt</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# basename /home/banzhang.txt .txt</span><br><span class="line">banzhang</span><br></pre></td></tr></table></figure><h4 id="dirname"><a href="#dirname" class="headerlink" title="dirname"></a>dirname</h4><h5 id="基本语法-12"><a href="#基本语法-12" class="headerlink" title="基本语法"></a>基本语法</h5><p>**<code>dirname 文件绝对路径</code> **</p><p><strong>功能描述：从给定的包含绝对路径的文件名中去除文件名 （非目录的部分），然后返回剩下的路径（目录的部分）</strong> </p><p><strong>dirname 可以理解为取文件路径的绝对路径名称</strong></p><h5 id="案例实操-14"><a href="#案例实操-14" class="headerlink" title="案例实操"></a>案例实操</h5><p> <strong>获取 banzhang.txt 文件的路径</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# dirname /home/banzhang.txt</span><br><span class="line">/home</span><br></pre></td></tr></table></figure><h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><h4 id="基本语法-13"><a href="#基本语法-13" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ function ] funname[()] </span><br><span class="line">&#123; </span><br><span class="line">Action; </span><br><span class="line">[return int;] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="经验技巧"><a href="#经验技巧" class="headerlink" title="经验技巧"></a>经验技巧</h4><p><strong>（1）必须在调用函数地方之前，先声明函数，shell 脚本是逐行运行。不会像其它语言一样先编译。</strong> </p><p><strong>（2）函数返回值，只能通过$?系统变量获得，可以显示加：return 返回，如果不加，将 以最后一条命令运行结果，作为返回值。return 后跟数值 n(0-255)</strong></p><h4 id="案例实操-15"><a href="#案例实操-15" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>计算两个输入参数的和。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# touch fun.sh</span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# vim fun.sh </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">function sum()</span><br><span class="line">&#123;</span><br><span class="line">   s=0  </span><br><span class="line">   s=$[$1+$2]</span><br><span class="line">   echo &quot;$s&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">read -p &quot;请输入第一个数字:&quot; n1;</span><br><span class="line">read -p &quot;请输入第二个数字:&quot; n2;</span><br><span class="line">sum $n1 $n2;</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# chmod 777 fun.sh </span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z /]# ./fun.sh </span><br><span class="line">请输入第一个数字:5</span><br><span class="line">请输入第二个数字:5</span><br><span class="line">10</span><br></pre></td></tr></table></figure><h2 id="正则表达式入门"><a href="#正则表达式入门" class="headerlink" title="正则表达式入门"></a>正则表达式入门</h2><blockquote><p><strong>正则表达式使用单个字符串来描述、匹配一系列符合某个语法规则的字符串。在很多文 本编辑器里，正则表达式通常被用来检索、替换那些符合某个模式的文本。在 Linux 中，grep， sed，awk 等文本处理工具都支持通过正则表达式进行模式匹配。</strong></p></blockquote><h3 id="常规匹配"><a href="#常规匹配" class="headerlink" title="常规匹配"></a>常规匹配</h3><p><strong>一串不包含特殊字符的正则表达式匹配它自己，例如：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat /etc/passwd | grep huang</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>就会匹配所有包含 huang的行。</strong></p><h3 id="常用特殊字符"><a href="#常用特殊字符" class="headerlink" title="常用特殊字符"></a>常用特殊字符</h3><h4 id="（1）特殊字符："><a href="#（1）特殊字符：" class="headerlink" title="（1）特殊字符：^"></a>（1）特殊字符：^</h4><p><strong>^ 匹配一行的开头，例如：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat /etc/passwd | grep ^a</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>会匹配出所有以 a 开头的行</strong></p><h4 id="（2）特殊字符："><a href="#（2）特殊字符：" class="headerlink" title="（2）特殊字符：$"></a>（2）特殊字符：$</h4><p><strong>$ 匹配一行的结束，例如：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat /etc/passwd | grep t$ </span><br></pre></td></tr></table></figure><p><strong>会匹配出所有以 t 结尾的行</strong> </p><blockquote><p><strong>思考：^$ 匹配什么？</strong></p><p><strong>答案：匹配所有以$开头的行</strong></p></blockquote><h4 id="（3）特殊字符："><a href="#（3）特殊字符：" class="headerlink" title="（3）特殊字符：."></a>（3）特殊字符：.</h4><p><strong>. 匹配一个任意的字符，例如：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat /etc/passwd | grep r..t</span><br></pre></td></tr></table></figure><p><strong>会匹配包含 rabt,rbbt,rxdt,root 等的所有行</strong></p><h4 id="（4）特殊字符："><a href="#（4）特殊字符：" class="headerlink" title="（4）特殊字符：*"></a>（4）特殊字符：*</h4><p><strong>不单独使用，他和上一个字符连用，表示匹配上一个字符 0 次或多次，例如：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat /etc/passwd | grep ro*t</span><br></pre></td></tr></table></figure><p><strong>会匹配 rt, rot, root, rooot, roooot 等所有行</strong></p><blockquote><p><em><em>思考：.</em> 匹配什么？</em>*</p><p><strong>答案：匹配任意除换行符“\n”外的字符0次或无限次。</strong></p></blockquote><h4 id="（5）字符区间（中括号）："><a href="#（5）字符区间（中括号）：" class="headerlink" title="（5）字符区间（中括号）：[ ]"></a>（5）字符区间（中括号）：[ ]</h4><p><strong>[ ] 表示匹配某个范围内的一个字符，例如</strong></p><ul><li><strong>[6,8]——匹配 6 或者 8</strong></li><li><strong>[0-9]——匹配一个 0-9 的数字</strong></li><li><strong>[0-9]*——匹配任意长度的数字字符串</strong></li><li>***[a-z]——匹配一个 a-z 之间的字符**</li><li><strong><em>[a-z]</em> ——匹配任意长度的字母字符串</strong></li><li><strong>[a-c, e-f]-匹配 a-c 或者 e-f 之间的任意字符</strong></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat /etc/passwd | grep r[a,b,c]*t</span><br></pre></td></tr></table></figure><p><strong>会匹配 rt,rat, rbt, rabt, rbact,rabccbaaacbt 等等所有行</strong></p><h4 id="（6）特殊字符："><a href="#（6）特殊字符：" class="headerlink" title="（6）特殊字符：\"></a>（6）特殊字符：\</h4><p><strong>\ 表示转义，并不会单独使用。由于所有特殊字符都有其特定匹配模式，当我们想匹配 某一特殊字符本身时</strong></p><p><strong>例如：我想找出所有包含 ‘$’ 的行，就会碰到困难。此时我们就要 将转义字符和特殊字符连用，来表示特殊字符本身，例如</strong>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat /etc/passwd | grep ‘a\$b’</span><br></pre></td></tr></table></figure><p><strong>就会匹配所有包含 a$b 的行。注意需要使用单引号将表达式引起来。</strong></p><h2 id="文本处理工具"><a href="#文本处理工具" class="headerlink" title="文本处理工具"></a>文本处理工具</h2><h3 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h3><p>​<strong>cut 的工作就是“剪”，具体的说就是在文件中负责剪切数据用的。cut 命令从文件的每 一行剪切字节、字符和字段并将这些字节、字符和字段输出。</strong></p><h4 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h4><p><strong><code>cut [选项参数] filename</code></strong> </p><p><strong>说明：默认分隔符是制表符</strong></p><h4 id="选项参数说明"><a href="#选项参数说明" class="headerlink" title="选项参数说明"></a>选项参数说明</h4><table><thead><tr><th align="center"><strong>选项参数</strong></th><th align="center"><strong>功能</strong></th></tr></thead><tbody><tr><td align="center"><strong>-f</strong></td><td align="center"><strong>列号，提取第几列</strong></td></tr><tr><td align="center"><strong>-d</strong></td><td align="center"><strong>分隔符，按照指定分隔符分割列，默认是制表符“\t”</strong></td></tr><tr><td align="center"><strong>-c</strong></td><td align="center"><strong>按字符进行切割 后加加 n 表示取第几列 比如 -c 1</strong></td></tr></tbody></table><h4 id="案例实操-16"><a href="#案例实操-16" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>（1）数据准备</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# touch cut.txt</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# vim  cut.txt </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo wo</span><br><span class="line">lai lai</span><br><span class="line">le le</span><br></pre></td></tr></table></figure><p><strong>（2）切割 cut.txt 第一列</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cut -d &quot; &quot; -f 1 cut.txt </span><br><span class="line">dong</span><br><span class="line">guan</span><br><span class="line">wo</span><br><span class="line">lai</span><br><span class="line">le</span><br></pre></td></tr></table></figure><p><strong>（3）切割 cut.txt 第二、三列</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cut -d &quot; &quot; -f 2,3 cut.txt</span><br><span class="line">shen</span><br><span class="line">zhen</span><br><span class="line">wo</span><br><span class="line">lai</span><br><span class="line">le</span><br></pre></td></tr></table></figure><p><strong>（4）在 cut.txt 文件中切割出 guan</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# cat cut.txt |grep guan | cut -d &quot; &quot; -f 1</span><br><span class="line">guan</span><br></pre></td></tr></table></figure><p><strong>（5）选取系统 PATH 变量值，第 2 个“：”开始后的所有路径：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line"></span><br><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# echo $PATH | cut -d &quot;:&quot; -f 3-</span><br><span class="line">/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></table></figure><p><strong>（6）切割 ifconfig 后打印的 IP 地址</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# ifconfig ens33 | grep netmask | cut -d &quot; &quot; -f 10 </span><br><span class="line">192.168.111.101</span><br></pre></td></tr></table></figure><h3 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h3><p><strong>一个强大的文本分析工具，把文件逐行的读入，以空格为默认分隔符将每行切片，切开 的部分再进行分析处理。</strong></p><h4 id="基本用法-1"><a href="#基本用法-1" class="headerlink" title="基本用法"></a>基本用法</h4><p><code>**awk [选项参数] ‘/pattern1/&#123;action1&#125; /**</code></p><p><strong>pattern2&#x2F;{action2}…’ filename pattern：表示 awk 在数据中查找的内容，就是匹配模式</strong> </p><p><strong>action：在找到匹配内容时所执行的一系列命令</strong></p><h4 id="选项参数说明-1"><a href="#选项参数说明-1" class="headerlink" title="选项参数说明"></a>选项参数说明</h4><table><thead><tr><th align="center">选项参数</th><th align="center">功能</th></tr></thead><tbody><tr><td align="center"><strong>-F</strong></td><td align="center"><strong>指定输入文件分隔符</strong></td></tr><tr><td align="center"><strong>-v</strong></td><td align="center"><strong>赋值一个用户定义变量</strong></td></tr></tbody></table><h4 id="案例实操-17"><a href="#案例实操-17" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>（1）数据准备</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# sudo cp /etc/passwd ./</span><br><span class="line">passwd 数据的含义 </span><br><span class="line">用户名:密码(加密过后的):用户 id:组 id:注释:用户家目录:shell 解析器</span><br></pre></td></tr></table></figure><p><strong>（2）搜索 passwd 文件以 root 关键字开头的所有行，并输出该行的第 7 列。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# awk -F : &#x27;/^root/&#123;print $7&#125;&#x27; passwd</span><br><span class="line">/bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>（3）搜索 passwd 文件以 root 关键字开头的所有行，并输出该行的第 1 列和第 7 列， 中间以“，”号分割。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# awk -F : &#x27;/^root/&#123;print $1&quot;,&quot;$7&#125;&#x27; passwd</span><br><span class="line">root,/bin/bash</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：只有匹配了 pattern 的行才会执行 action。</strong></p></blockquote><p><strong>（4）只显示&#x2F;etc&#x2F;passwd 的第一列和第七列，以逗号分割，且在所有行前面添加列名 user， shell 在最后一行添加”dahaige，&#x2F;bin&#x2F;zuishuai”。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# awk -F : &#x27;BEGIN&#123;print &quot;user, shell&quot;&#125; &#123;print $1&quot;,&quot;$7&#125; END&#123;print &quot;dahaige,/bin/zuishuai&quot;&#125;&#x27; passwd</span><br><span class="line">user, shell</span><br><span class="line">root,/bin/bash</span><br><span class="line">bin,/sbin/nologin</span><br><span class="line">daemon,/sbin/nologin</span><br><span class="line">adm,/sbin/nologin</span><br><span class="line">lp,/sbin/nologin</span><br><span class="line">sync,/bin/sync</span><br><span class="line">shutdown,/sbin/shutdown</span><br><span class="line">halt,/sbin/halt</span><br><span class="line">mail,/sbin/nologin</span><br><span class="line">operator,/sbin/nologin</span><br><span class="line">games,/sbin/nologin</span><br><span class="line">ftp,/sbin/nologin</span><br><span class="line">nobody,/sbin/nologin</span><br><span class="line">systemd-network,/sbin/nologin</span><br><span class="line">dbus,/sbin/nologin</span><br><span class="line">polkitd,/sbin/nologin</span><br><span class="line">sshd,/sbin/nologin</span><br><span class="line">postfix,/sbin/nologin</span><br><span class="line">chrony,/sbin/nologin</span><br><span class="line">nscd,/sbin/nologin</span><br><span class="line">tcpdump,/sbin/nologin</span><br><span class="line">dahaige,/bin/zuishuai</span><br></pre></td></tr></table></figure><blockquote><p><strong>注意：BEGIN 在所有数据读取行之前执行；END 在所有数据执行之后执行。</strong></p></blockquote><p><strong>（5）将 passwd 文件中的用户 id 增加数值 1 并输出</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# awk -v i=1 -F : &#x27;&#123;print $3+i&#125;&#x27; passwd</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">15</span><br><span class="line">100</span><br><span class="line">193</span><br><span class="line">82</span><br><span class="line">1000</span><br><span class="line">75</span><br><span class="line">90</span><br><span class="line">999</span><br><span class="line">29</span><br><span class="line">73</span><br></pre></td></tr></table></figure><h4 id="awk-的内置变量"><a href="#awk-的内置变量" class="headerlink" title="awk 的内置变量"></a>awk 的内置变量</h4><table><thead><tr><th align="center"><strong>变量</strong></th><th align="center"><strong>说明</strong></th></tr></thead><tbody><tr><td align="center"><strong>FILENAME</strong></td><td align="center"><strong>文件名</strong></td></tr><tr><td align="center"><strong>NR</strong></td><td align="center"><strong>已读的记录数（行号）</strong></td></tr><tr><td align="center"><strong>NF</strong></td><td align="center"><strong>浏览记录的域的个数（切割后，列的个数）</strong></td></tr></tbody></table><h4 id="案例实操-18"><a href="#案例实操-18" class="headerlink" title="案例实操"></a>案例实操</h4><p><strong>（1）统计 passwd 文件名，每行的行号，每行的列数</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# awk -F : &#x27;&#123;print &quot;filename:&quot; FILENAME &quot;,linenum:&quot; NR &quot;,col:&quot;NF&#125;&#x27; passwd</span><br><span class="line">filename:passwd,linenum:1,col:7</span><br><span class="line">filename:passwd,linenum:2,col:7</span><br><span class="line">filename:passwd,linenum:3,col:7</span><br><span class="line">filename:passwd,linenum:4,col:7</span><br><span class="line">filename:passwd,linenum:5,col:7</span><br><span class="line">filename:passwd,linenum:6,col:7</span><br><span class="line">filename:passwd,linenum:7,col:7</span><br><span class="line">filename:passwd,linenum:8,col:7</span><br><span class="line">filename:passwd,linenum:9,col:7</span><br><span class="line">filename:passwd,linenum:10,col:7</span><br><span class="line">filename:passwd,linenum:11,col:7</span><br><span class="line">filename:passwd,linenum:12,col:7</span><br><span class="line">filename:passwd,linenum:13,col:7</span><br><span class="line">filename:passwd,linenum:14,col:7</span><br><span class="line">filename:passwd,linenum:15,col:7</span><br><span class="line">filename:passwd,linenum:16,col:7</span><br><span class="line">filename:passwd,linenum:17,col:7</span><br><span class="line">filename:passwd,linenum:18,col:7</span><br><span class="line">filename:passwd,linenum:19,col:7</span><br><span class="line">filename:passwd,linenum:20,col:7</span><br><span class="line">filename:passwd,linenum:21,col:7</span><br></pre></td></tr></table></figure><p><strong>（2）查询 ifconfig 命令输出结果中的空行所在的行号</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# ifconfig | awk &#x27;/^$/&#123;print NR&#125;&#x27;</span><br><span class="line">8</span><br><span class="line">16</span><br></pre></td></tr></table></figure><p><strong>（3）切割 IP</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9104i5lanril7l7pz3Z ~]# ifconfig ens33 | awk &#x27;/netmask/ &#123;print $2&#125;&#x27;</span><br><span class="line">192.168.6.101</span><br></pre></td></tr></table></figure><h2 id="综合应用案例"><a href="#综合应用案例" class="headerlink" title="综合应用案例"></a>综合应用案例</h2><h3 id="归档文件"><a href="#归档文件" class="headerlink" title="归档文件"></a>归档文件</h3><p><strong>实际生产应用中，往往需要对重要数据进行归档备份。</strong> </p><p><strong>需求：实现一个每天对指定目录归档备份的脚本，输入一个目录名称（末尾不带&#x2F;）， 将目录下所有文件按天归档保存，并将归档日期附加在归档文件名上，放在&#x2F;root&#x2F;archive 下。</strong> </p><p><strong>这里用到了归档命令：<code>tar</code></strong> </p><p><strong>后面可以加上-c 选项表示归档，加上-z 选项表示同时进行压缩，得到的文件后缀名 为.tar.gz。</strong> </p><p><strong>脚本实现如下：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">首先判断输入的参数个数是否为1</span></span><br><span class="line">if [ $# -ne 1 ]</span><br><span class="line">then</span><br><span class="line">        echo &quot;参数个数错误!应该输入一个参数，作为归档目录名&quot;</span><br><span class="line">        exit</span><br><span class="line">fi</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">从参数中获取目录名称</span></span><br><span class="line">if [ -d $1 ]</span><br><span class="line">then</span><br><span class="line">        echo    </span><br><span class="line">else</span><br><span class="line">        echo</span><br><span class="line">        echo&quot;目录不存在！&quot;</span><br><span class="line">        echo</span><br><span class="line">        exit</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">DIR_NAME=$(basename $1)</span><br><span class="line">DIR_PATH=$(cd $(dirname $1); pwd)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">获取当前日期</span></span><br><span class="line">DATE=$(date +&amp;y&amp;m&amp;d)</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">定义生成的归档文件名称</span></span><br><span class="line">FILE=archive_$&#123;DIR_NAME&#125;_$DATE.tar.gz</span><br><span class="line">DEST=/root.archive/$FILE</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开始归档文件</span></span><br><span class="line">echo &quot;开始归档...&quot; echo </span><br><span class="line">tar -czf $DEST $DIR_PATH/$DIR_NAME </span><br><span class="line"> </span><br><span class="line">if [ $? -eq 0 ] </span><br><span class="line">then </span><br><span class="line">         echo</span><br><span class="line">         echo &quot;归档成功！&quot;</span><br><span class="line">         echo &quot;归档文件为：$DEST&quot;</span><br><span class="line">         echo</span><br><span class="line">else </span><br><span class="line">         echo &quot;归档出现问题！&quot;</span><br><span class="line">         echo</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><h3 id="发送消息"><a href="#发送消息" class="headerlink" title="发送消息"></a>发送消息</h3><p><strong>我们可以利用 Linux 自带的 mesg 和 write 工具，向其它用户发送消息。</strong> </p><p><strong>需求：实现一个向某个用户快速发送消息的脚本，输入用户名作为第一个参数，后面直 接跟要发送的消息。脚本需要检测用户是否登录在系统中、是否打开消息功能，以及当前发 送消息是否为空。</strong></p><p> <strong>脚本实现如下：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span> </span><br><span class="line"></span><br><span class="line">login_user=$(who | grep -i -m 1 $1 | awk &#x27;&#123;print $1&#125;&#x27;) </span><br><span class="line"></span><br><span class="line">if [ -z $login_user ] </span><br><span class="line">then</span><br><span class="line">echo &quot;$1 不在线！&quot; </span><br><span class="line">echo &quot;脚本退出..&quot; </span><br><span class="line">exit </span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">is_allowed=$(who -T | grep -i -m 1 $1 | awk &#x27;&#123;print $2&#125;&#x27;) </span><br><span class="line"></span><br><span class="line">if [ $is_allowed != &quot;+&quot; ] </span><br><span class="line">then</span><br><span class="line">echo &quot;$1 没有开启消息功能&quot; </span><br><span class="line">echo &quot;脚本退出..&quot; </span><br><span class="line">exit </span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -z $2 ] </span><br><span class="line">then</span><br><span class="line">echo &quot;没有消息发出&quot; </span><br><span class="line">echo &quot;脚本退出..&quot; </span><br><span class="line">exit </span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">whole_msg=$(echo $* | cut -d &quot; &quot; -f 2- ) </span><br><span class="line"></span><br><span class="line">user_terminal=$(who | grep -i -m 1 $1 | awk &#x27;&#123;print $2&#125;&#x27;) </span><br><span class="line"></span><br><span class="line">echo $whole_msg | write $login_user $user_terminal </span><br><span class="line"></span><br><span class="line">if [ $? != 0 ] </span><br><span class="line">then</span><br><span class="line">echo &quot;发送失败！&quot; </span><br><span class="line">else</span><br><span class="line">echo &quot;发送成功！&quot; </span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">exit</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kafka</title>
      <link href="/2022/05/04/Kafka/"/>
      <url>/2022/05/04/Kafka/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1><center>Kafka</center></h1><hr><p>[TOC]</p><h2 id="Kafka-概述"><a href="#Kafka-概述" class="headerlink" title="Kafka 概述"></a>Kafka 概述</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/03.png" alt="03"></p><h3 id="消息队列"><a href="#消息队列" class="headerlink" title="消息队列"></a>消息队列</h3><blockquote><ul><li><strong>目前企业中比较常见的消息队列产品主要有 Kafka、ActiveMQ 、RabbitMQ 、RocketMQ 等。</strong></li><li><strong>在大数据场景主要采用 Kafka 作为消息队列。在 JavaEE 开发中主要采用 ActiveMQ、RabbitMQ、RocketMQ。</strong></li></ul></blockquote><h3 id="传统消息队列的应用场景"><a href="#传统消息队列的应用场景" class="headerlink" title="传统消息队列的应用场景"></a>传统消息队列的应用场景</h3><blockquote><ul><li><strong>传统的消息队列的主要应用场景包括：缓存&#x2F;消峰、解耦和异步通信。</strong></li></ul></blockquote><h4 id="消息队列的应用场景——缓冲-x2F-消峰"><a href="#消息队列的应用场景——缓冲-x2F-消峰" class="headerlink" title="消息队列的应用场景——缓冲&#x2F;消峰"></a>消息队列的应用场景——缓冲&#x2F;消峰</h4><blockquote><ul><li><strong>缓冲&#x2F;消峰：有助于控制和优化数据流经过系统的速度，解决生产消息和消费消息的处理速度不一致的情况。</strong></li></ul></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/04.png" alt="04"></p><h4 id="消息队列的应用场景——解耦"><a href="#消息队列的应用场景——解耦" class="headerlink" title="消息队列的应用场景——解耦"></a>消息队列的应用场景——解耦</h4><blockquote><ul><li><strong>解耦：允许你独立的扩展或修改两边的处理过程，只要确保它们遵守同样的接口约束。</strong></li></ul></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/05.png" alt="05"></p><h4 id="消息队列的应用场景——异步通信"><a href="#消息队列的应用场景——异步通信" class="headerlink" title="消息队列的应用场景——异步通信"></a>消息队列的应用场景——异步通信</h4><blockquote><ul><li><strong>异步通信：允许用户把一个消息放入队列，但并不立即处理它，然后在需要的时候再去处理它们。</strong></li></ul></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/06.png" alt="06"></p><h4 id="消息队列的两种模式"><a href="#消息队列的两种模式" class="headerlink" title="消息队列的两种模式"></a>消息队列的两种模式</h4><h5 id="（1）点对点模式"><a href="#（1）点对点模式" class="headerlink" title="（1）点对点模式"></a>（1）点对点模式</h5><blockquote><ul><li><strong>消费者主动拉取数据，消息收到后清除消息。</strong></li></ul></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/07.png" alt="07"></p><h5 id="（2）发布-x2F-订阅模式"><a href="#（2）发布-x2F-订阅模式" class="headerlink" title="（2）发布&#x2F;订阅模式"></a>（2）发布&#x2F;订阅模式</h5><blockquote><ul><li><p><strong>可以有多个topic主题（浏览、点赞、收藏、评论等）</strong>。</p></li><li><p><strong>消费者消费数据之后，不删除数据。</strong></p></li><li><p><strong>每个消费者相互独立，都可以消费到数据</strong>。</p></li></ul></blockquote><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/08.png" alt="08"></p><h3 id="Kafka-基础架构"><a href="#Kafka-基础架构" class="headerlink" title="Kafka 基础架构"></a>Kafka 基础架构</h3><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/09.png" alt="09"></p><blockquote><ol><li><p><strong><code>Producer</code>：消息生产者，就是向 Kafka broker 发消息的客户端。</strong> </p></li><li><p><strong><code>Consumer</code>：消息消费者，向 Kafka broker 取消息的客户端。</strong> </p></li><li><p><strong>Consumer Group（CG）：消费者组，由多个 consumer 组成。消费者组内每个消</strong><br><strong>费者负责消费不同分区的数据，一个分区只能由一个组内消费者消费；消费者组之间互不</strong><br><strong>影响。所有的消费者都属于某个消费者组，即消费者组是逻辑上的一个订阅者。</strong> </p></li><li><p><strong><code>Broker</code>：一台 Kafka 服务器就是一个 broker。一个集群由多个 broker 组成。一个</strong><br><strong>broker 可以容纳多个 topic。</strong> </p></li><li><p><strong><code>Topic</code>：可以理解为一个队列，生产者和消费者面向的都是一个 topic。</strong> </p></li><li><p><strong><code>Partition</code>：为了实现扩展性，一个非常大的 topic 可以分布到多个 broker（即服</strong><br><strong>务器）上，一个 topic 可以分为多个 partition，每个 partition 是一个有序的队列。</strong> </p></li><li><p><strong><code>Replica</code>：副本。一个 topic 的每个分区都有若干个副本，一个 Leader 和若干个</strong><br><strong>Follower。</strong> </p></li><li><p><strong><code>Leader</code>：每个分区多个副本的“主”，生产者发送数据的对象，以及消费者消费数</strong><br><strong>据的对象都是 Leader。</strong> </p></li><li><p><strong><code>Follower</code>：每个分区多个副本中的“从”，实时从 Leader 中同步数据，保持和</strong><br><strong>Leader 数据的同步。Leader 发生故障时，某个 Follower 会成为新的 Leader。</strong></p></li></ol></blockquote><h2 id="Kafka-快速入门"><a href="#Kafka-快速入门" class="headerlink" title="Kafka 快速入门"></a>Kafka 快速入门</h2><h3 id="安装部署"><a href="#安装部署" class="headerlink" title="安装部署"></a>安装部署</h3><h4 id="集群规划"><a href="#集群规划" class="headerlink" title="集群规划"></a>集群规划</h4><table><thead><tr><th>hadoop102</th><th>hadoop103</th><th>hadoop104</th></tr></thead><tbody><tr><td>zk</td><td>zk</td><td>zk</td></tr><tr><td>kafka</td><td>kafka</td><td>kafka</td></tr></tbody></table><h4 id="集群部署"><a href="#集群部署" class="headerlink" title="集群部署"></a>集群部署</h4><h5 id="1、进入官网下载-Kafka-的压缩文件"><a href="#1、进入官网下载-Kafka-的压缩文件" class="headerlink" title="1、进入官网下载 Kafka 的压缩文件"></a>1、进入官网下载 Kafka 的压缩文件</h5><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/01.png" alt="01"></p><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/02.png" alt="02"></p><h5 id="2、使用-Xftp-将压缩文件上传至阿里云服务器"><a href="#2、使用-Xftp-将压缩文件上传至阿里云服务器" class="headerlink" title="2、使用 Xftp 将压缩文件上传至阿里云服务器"></a>2、使用 Xftp 将压缩文件上传至阿里云服务器</h5><p><img src="https://images-cloud-bed.oss-cn-shenzhen.aliyuncs.com/Kafka/10.png" alt="10"></p><h5 id="3、解压安装包"><a href="#3、解压安装包" class="headerlink" title="3、解压安装包"></a>3、解压安装包</h5><p><strong>命令：<code>tar -zxvf kafka_2.12-3.1.0.tgz</code></strong></p><h5 id="4、修改解压后的文件名称"><a href="#4、修改解压后的文件名称" class="headerlink" title="4、修改解压后的文件名称"></a>4、修改解压后的文件名称</h5><p><strong>命令：<code>mv kafka_2.12-3.1.0/ kafka</code></strong></p><h5 id="5、删除压缩包"><a href="#5、删除压缩包" class="headerlink" title="5、删除压缩包"></a>5、删除压缩包</h5><p><strong>命令：<code>rm -f kafka_2.12-3.1.0.tgz</code></strong></p><h5 id="6、修改配置文件"><a href="#6、修改配置文件" class="headerlink" title="6、修改配置文件"></a>6、修改配置文件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入到 kafka 目录 config 目录下</span></span><br><span class="line">cd /usr/local/kafka/config</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">编辑文件</span></span><br><span class="line">vim server.properties</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">主要修改</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Kafka 代理的<span class="built_in">id</span>，必须为每个代理设置一个唯一的整数。</span></span><br><span class="line">broker.id=0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Kafka 逗号分隔的目录列表，用于存储日志文件</span></span><br><span class="line">log.dirs=/usr/local/kafka/datas</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Zookeeper连接字符串。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">这是一个逗号分隔的主机:端口对，</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">每个端口对应一个zk服务器。如。“127.0.0.1:3000 127.0.0.1:3001 127.0.0.1:3002”。</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">您还可以附加一个可选的 <span class="built_in">chroot</span> 字符串到 url 来指定所有kafka znode的根目录。</span></span><br><span class="line">zookeeper.connect=hadoop102:2181,hadoop103:2181,hadoop104:2181/kafka</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="7、分发安装包"><a href="#7、分发安装包" class="headerlink" title="7、分发安装包"></a>7、分发安装包</h5><p><strong>命令：<code>xsync kafka/</code></strong></p><h5 id="8、修改配置文件"><a href="#8、修改配置文件" class="headerlink" title="8、修改配置文件"></a>8、修改配置文件</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">分别在 hadoop103 和 hadoop104 服务器上修改 kafka 配置文件 server.properties 中的</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hadoop103 服务器修改为:broker.id=1</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">hadoop103 服务器修改为:broker.id=2</span></span><br></pre></td></tr></table></figure><h5 id="9、配置环境变量"><a href="#9、配置环境变量" class="headerlink" title="9、配置环境变量"></a>9、配置环境变量</h5><p><strong>（1）在<code>/etc/profile.d/my_env.sh</code>文件中增加 kafka 环境变量配置</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">KAFKA_HOME</span></span><br><span class="line">export KAFKA_HOME=/usr/local/kafka</span><br><span class="line">export PATH=$PATH:$KAFKA_HOME/bin</span><br></pre></td></tr></table></figure><p><strong>（2）刷新一下环境变量</strong></p><p><strong>命令：<code>source /etc/profile</code></strong></p><p><strong>（3）分发环境变量文件到其他节点，并 source。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo /home/atguigu/bin/xsync /etc/profile.d/my_env.sh</span><br><span class="line"></span><br><span class="line">source /etc/profile</span><br><span class="line"></span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h5 id="10、启动集群"><a href="#10、启动集群" class="headerlink" title="10、启动集群"></a>10、启动集群</h5><p><strong>（1）先启动 Zookeeper 集群，然后启动 Kafka。</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zk.sh start</span><br></pre></td></tr></table></figure><p><strong>（2）依次在 hadoop102、hadoop103、hadoop104 节点上启动 Kafka。</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bin/kafka-server-start.sh -daemon</span><br><span class="line">config/server.properties</span><br><span class="line"></span><br><span class="line">bin/kafka-server-start.sh -daemon</span><br><span class="line">config/server.properties</span><br><span class="line"></span><br><span class="line">bin/kafka-server-start.sh -daemon</span><br><span class="line">config/server.properties</span><br></pre></td></tr></table></figure><h5 id="10、关闭集群"><a href="#10、关闭集群" class="headerlink" title="10、关闭集群"></a>10、关闭集群</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># hadoop102</span><br><span class="line">bin/kafka-server-stop.sh -daemon config/server.properties</span><br><span class="line"></span><br><span class="line"># hadoop103</span><br><span class="line">bin/kafka-server-stop.sh -daemon config/server.properties</span><br><span class="line"></span><br><span class="line"># hadoop104</span><br><span class="line">bin/kafka-server-stop.sh -daemon config/server.properties</span><br></pre></td></tr></table></figure><h4 id="集群启停脚本"><a href="#集群启停脚本" class="headerlink" title="集群启停脚本"></a>集群启停脚本</h4>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux 下安装 JDK</title>
      <link href="/2022/05/03/Linux-%E4%B8%8B%E5%AE%89%E8%A3%85-JDK/"/>
      <url>/2022/05/03/Linux-%E4%B8%8B%E5%AE%89%E8%A3%85-JDK/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1><center>Linux 下安装 JDK</center></h1><hr><p>[TOC]</p><h2 id="1、查询可安装的-JDK-版本"><a href="#1、查询可安装的-JDK-版本" class="headerlink" title="1、查询可安装的 JDK 版本"></a>1、查询可安装的 JDK 版本</h2><p><strong>命令：<code>yum -y list java*</code></strong></p><h2 id="2、安装"><a href="#2、安装" class="headerlink" title="2、安装"></a>2、安装</h2><p><strong>命令：<code>yum install -y java-1.8.0-openjdk.x86_64</code></strong></p><h2 id="3、检测"><a href="#3、检测" class="headerlink" title="3、检测"></a>3、检测</h2><p><strong>命令：<code>java -version</code></strong></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo 页面添加樱花效果</title>
      <link href="/2022/05/02/hexo-%E9%A1%B5%E9%9D%A2%E6%B7%BB%E5%8A%A0%E6%A8%B1%E8%8A%B1%E6%95%88%E6%9E%9C/"/>
      <url>/2022/05/02/hexo-%E9%A1%B5%E9%9D%A2%E6%B7%BB%E5%8A%A0%E6%A8%B1%E8%8A%B1%E6%95%88%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id=""><a href="#" class="headerlink" title=""></a></h1><hr><h2 id="1、创建-JS-文件"><a href="#1、创建-JS-文件" class="headerlink" title="1、创建 JS 文件"></a>1、创建 JS 文件</h2><p><strong>在<code>\themes\butterfly\source\js</code>路径下创建一个<code>sakura.js</code>文件，在文件中添加如下代码：</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stop, staticx;</span><br><span class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">img.<span class="property">src</span> = <span class="string">&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2Vx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&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Sakura</span>(<span class="params">x, y, s, r, fn</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">s</span> = s;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">r</span> = r;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">fn</span> = fn;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Sakura</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params">cxt</span>) &#123;</span><br><span class="line">    cxt.<span class="title function_">save</span>();</span><br><span class="line">    <span class="keyword">var</span> xc = <span class="number">40</span> * <span class="variable language_">this</span>.<span class="property">s</span> / <span class="number">4</span>;</span><br><span class="line">    cxt.<span class="title function_">translate</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    cxt.<span class="title function_">rotate</span>(<span class="variable language_">this</span>.<span class="property">r</span>);</span><br><span class="line">    cxt.<span class="title function_">drawImage</span>(img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">40</span> * <span class="variable language_">this</span>.<span class="property">s</span>, <span class="number">40</span> * <span class="variable language_">this</span>.<span class="property">s</span>)</span><br><span class="line">    cxt.<span class="title function_">restore</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Sakura</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">update</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = <span class="variable language_">this</span>.<span class="property">fn</span>.<span class="title function_">x</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = <span class="variable language_">this</span>.<span class="property">fn</span>.<span class="title function_">y</span>(<span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">r</span> = <span class="variable language_">this</span>.<span class="property">fn</span>.<span class="title function_">r</span>(<span class="variable language_">this</span>.<span class="property">r</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">x</span> &gt; <span class="variable language_">window</span>.<span class="property">innerWidth</span> || <span class="variable language_">this</span>.<span class="property">x</span> &lt; <span class="number">0</span> || <span class="variable language_">this</span>.<span class="property">y</span> &gt; <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">this</span>.<span class="property">y</span> &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">r</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;fnr&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &gt; <span class="number">0.4</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> = <span class="number">0</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">s</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">r</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;y&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">s</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">r</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">list</span> = [];</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span> = <span class="keyword">function</span> (<span class="params">sakura</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">push</span>(sakura);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">update</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="variable language_">this</span>.<span class="property">list</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">list</span>[i].<span class="title function_">update</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params">cxt</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="variable language_">this</span>.<span class="property">list</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">list</span>[i].<span class="title function_">draw</span>(cxt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">get</span> = <span class="keyword">function</span> (<span class="params">i</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">list</span>[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">size</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">list</span>.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRandom</span>(<span class="params">option</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> ret, random;</span><br><span class="line">    <span class="keyword">switch</span> (option) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;x&#x27;</span>:</span><br><span class="line">            ret = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;y&#x27;</span>:</span><br><span class="line">            ret = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>:</span><br><span class="line">            ret = <span class="title class_">Math</span>.<span class="title function_">random</span>();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;r&#x27;</span>:</span><br><span class="line">            ret = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">6</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;fnx&#x27;</span>:</span><br><span class="line">            random = -<span class="number">0.5</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1</span>;</span><br><span class="line">            ret = <span class="keyword">function</span> (<span class="params">x, y</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> x + <span class="number">0.5</span> * random - <span class="number">1.7</span>;</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;fny&#x27;</span>:</span><br><span class="line">            random = <span class="number">1.5</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">0.7</span></span><br><span class="line">            ret = <span class="keyword">function</span> (<span class="params">x, y</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> y + random;</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;fnr&#x27;</span>:</span><br><span class="line">            random = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">0.03</span>;</span><br><span class="line">            ret = <span class="keyword">function</span> (<span class="params">r</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> r + random;</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">startSakura</span>(<span class="params"></span>) &#123;</span><br><span class="line">    requestAnimationFrame = <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">oRequestAnimationFrame</span>;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;canvas&#x27;</span>),</span><br><span class="line">        cxt;</span><br><span class="line">    staticx = <span class="literal">true</span>;</span><br><span class="line">    canvas.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">    canvas.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">    canvas.<span class="title function_">setAttribute</span>(<span class="string">&#x27;style&#x27;</span>, <span class="string">&#x27;position: fixed;left: 0;top: 0;pointer-events: none;&#x27;</span>);</span><br><span class="line">    canvas.<span class="title function_">setAttribute</span>(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;canvas_sakura&#x27;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;body&#x27;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(canvas);</span><br><span class="line">    cxt = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> sakuraList = <span class="keyword">new</span> <span class="title class_">SakuraList</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny;</span><br><span class="line">        randomX = <span class="title function_">getRandom</span>(<span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">        randomY = <span class="title function_">getRandom</span>(<span class="string">&#x27;y&#x27;</span>);</span><br><span class="line">        randomR = <span class="title function_">getRandom</span>(<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">        randomS = <span class="title function_">getRandom</span>(<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line">        randomFnx = <span class="title function_">getRandom</span>(<span class="string">&#x27;fnx&#x27;</span>);</span><br><span class="line">        randomFny = <span class="title function_">getRandom</span>(<span class="string">&#x27;fny&#x27;</span>);</span><br><span class="line">        randomFnR = <span class="title function_">getRandom</span>(<span class="string">&#x27;fnr&#x27;</span>);</span><br><span class="line">        sakura = <span class="keyword">new</span> <span class="title class_">Sakura</span>(randomX, randomY, randomS, randomR, &#123;</span><br><span class="line">            <span class="attr">x</span>: randomFnx,</span><br><span class="line">            <span class="attr">y</span>: randomFny,</span><br><span class="line">            <span class="attr">r</span>: randomFnR</span><br><span class="line">        &#125;);</span><br><span class="line">        sakura.<span class="title function_">draw</span>(cxt);</span><br><span class="line">        sakuraList.<span class="title function_">push</span>(sakura);</span><br><span class="line">    &#125;</span><br><span class="line">    stop = <span class="title function_">requestAnimationFrame</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        cxt.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span><br><span class="line">        sakuraList.<span class="title function_">update</span>();</span><br><span class="line">        sakuraList.<span class="title function_">draw</span>(cxt);</span><br><span class="line">        stop = <span class="title function_">requestAnimationFrame</span>(<span class="variable language_">arguments</span>.<span class="property">callee</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onresize</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> canvasSnow = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;canvas_snow&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">img.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">startSakura</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">stopp</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (staticx) &#123;</span><br><span class="line">        <span class="keyword">var</span> child = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;canvas_sakura&quot;</span>);</span><br><span class="line">        child.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(child);</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">cancelAnimationFrame</span>(stop);</span><br><span class="line">        staticx = <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">startSakura</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2、引入"><a href="#2、引入" class="headerlink" title="2、引入"></a>2、引入</h2><p>只需在主题配置文件<code>_config.yml</code>中，找到<code>inject</code>，在<code>bottom</code>处直接引入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/sakura.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3、扩展"><a href="#3、扩展" class="headerlink" title="3、扩展"></a>3、扩展</h2><p>如果想更换漂浮物样式，可以在 JS 代码的<code>img.src = &quot;xxx&quot;;</code>处直接修改图片链接即可。</p><p>转载自：<a href="https://cnhuazhu.gitee.io/2021/02/19/Hexo%E9%AD%94%E6%94%B9/Hexo%E6%B7%BB%E5%8A%A0%E6%A8%B1%E8%8A%B1%E5%8A%A8%E6%80%81%E6%95%88%E6%9E%9C%E8%83%8C%E6%99%AF/">Hexo添加樱花动态效果背景 | 花猪のBlog (gitee.io)</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
